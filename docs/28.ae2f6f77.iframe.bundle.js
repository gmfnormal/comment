/*! For license information please see 28.ae2f6f77.iframe.bundle.js.LICENSE.txt */
(self.webpackChunkcomment=self.webpackChunkcomment||[]).push([[28],{"./node_modules/classnames/index.js":(module,exports)=>{var __WEBPACK_AMD_DEFINE_RESULT__;!function(){"use strict";var hasOwn={}.hasOwnProperty;function classNames(){for(var classes=[],i=0;i<arguments.length;i++){var arg=arguments[i];if(arg){var argType=typeof arg;if("string"===argType||"number"===argType)classes.push(arg);else if(Array.isArray(arg)){if(arg.length){var inner=classNames.apply(null,arg);inner&&classes.push(inner)}}else if("object"===argType){if(arg.toString!==Object.prototype.toString&&!arg.toString.toString().includes("[native code]")){classes.push(arg.toString());continue}for(var key in arg)hasOwn.call(arg,key)&&arg[key]&&classes.push(key)}}}return classes.join(" ")}module.exports?(classNames.default=classNames,module.exports=classNames):void 0===(__WEBPACK_AMD_DEFINE_RESULT__=function(){return classNames}.apply(exports,[]))||(module.exports=__WEBPACK_AMD_DEFINE_RESULT__)}()},"./node_modules/css-loader/dist/runtime/api.js":module=>{"use strict";module.exports=function(cssWithMappingToString){var list=[];return list.toString=function toString(){return this.map((function(item){var content="",needLayer=void 0!==item[5];return item[4]&&(content+="@supports (".concat(item[4],") {")),item[2]&&(content+="@media ".concat(item[2]," {")),needLayer&&(content+="@layer".concat(item[5].length>0?" ".concat(item[5]):""," {")),content+=cssWithMappingToString(item),needLayer&&(content+="}"),item[2]&&(content+="}"),item[4]&&(content+="}"),content})).join("")},list.i=function i(modules,media,dedupe,supports,layer){"string"==typeof modules&&(modules=[[null,modules,void 0]]);var alreadyImportedModules={};if(dedupe)for(var k=0;k<this.length;k++){var id=this[k][0];null!=id&&(alreadyImportedModules[id]=!0)}for(var _k=0;_k<modules.length;_k++){var item=[].concat(modules[_k]);dedupe&&alreadyImportedModules[item[0]]||(void 0!==layer&&(void 0===item[5]||(item[1]="@layer".concat(item[5].length>0?" ".concat(item[5]):""," {").concat(item[1],"}")),item[5]=layer),media&&(item[2]?(item[1]="@media ".concat(item[2]," {").concat(item[1],"}"),item[2]=media):item[2]=media),supports&&(item[4]?(item[1]="@supports (".concat(item[4],") {").concat(item[1],"}"),item[4]=supports):item[4]="".concat(supports)),list.push(item))}},list}},"./node_modules/css-loader/dist/runtime/sourceMaps.js":module=>{"use strict";module.exports=function(item){var content=item[1],cssMapping=item[3];if(!cssMapping)return content;if("function"==typeof btoa){var base64=btoa(unescape(encodeURIComponent(JSON.stringify(cssMapping)))),data="sourceMappingURL=data:application/json;charset=utf-8;base64,".concat(base64),sourceMapping="/*# ".concat(data," */");return[content].concat([sourceMapping]).join("\n")}return[content].join("\n")}},"./node_modules/direction/index.js":module=>{"use strict";module.exports=function direction(value){if(value=String(value||""),rtl.test(value))return"rtl";if(ltr.test(value))return"ltr";return"neutral"};var LTR="A-Za-zÀ-ÖØ-öø-ʸ̀-֐ࠀ-῿‎Ⰰ-﬜︀-﹯﻽-￿",rtl=new RegExp("^[^"+LTR+"]*[֑-߿יִ-﷽ﹰ-ﻼ]"),ltr=new RegExp("^[^֑-߿יִ-﷽ﹰ-ﻼ]*["+LTR+"]")},"./node_modules/is-hotkey/lib/index.js":(__unused_webpack_module,exports)=>{"use strict";for(var IS_MAC="undefined"!=typeof window&&/Mac|iPod|iPhone|iPad/.test(window.navigator.platform),MODIFIERS={alt:"altKey",control:"ctrlKey",meta:"metaKey",shift:"shiftKey"},ALIASES={add:"+",break:"pause",cmd:"meta",command:"meta",ctl:"control",ctrl:"control",del:"delete",down:"arrowdown",esc:"escape",ins:"insert",left:"arrowleft",mod:IS_MAC?"meta":"control",opt:"alt",option:"alt",return:"enter",right:"arrowright",space:" ",spacebar:" ",up:"arrowup",win:"meta",windows:"meta"},CODES={backspace:8,tab:9,enter:13,shift:16,control:17,alt:18,pause:19,capslock:20,escape:27," ":32,pageup:33,pagedown:34,end:35,home:36,arrowleft:37,arrowup:38,arrowright:39,arrowdown:40,insert:45,delete:46,meta:91,numlock:144,scrolllock:145,";":186,"=":187,",":188,"-":189,".":190,"/":191,"`":192,"[":219,"\\":220,"]":221,"'":222},f=1;f<20;f++)CODES["f"+f]=111+f;function isHotkey(hotkey,options,event){options&&!("byKey"in options)&&(event=options,options=null),Array.isArray(hotkey)||(hotkey=[hotkey]);var array=hotkey.map((function(string){return parseHotkey(string,options)})),check=function check(e){return array.some((function(object){return compareHotkey(object,e)}))};return null==event?check:check(event)}function parseHotkey(hotkey,options){var byKey=options&&options.byKey,ret={},values=(hotkey=hotkey.replace("++","+add")).split("+"),length=values.length;for(var k in MODIFIERS)ret[MODIFIERS[k]]=!1;var _iteratorNormalCompletion=!0,_didIteratorError=!1,_iteratorError=void 0;try{for(var _step,_iterator=values[Symbol.iterator]();!(_iteratorNormalCompletion=(_step=_iterator.next()).done);_iteratorNormalCompletion=!0){var value=_step.value,optional=value.endsWith("?")&&value.length>1;optional&&(value=value.slice(0,-1));var name=toKeyName(value),modifier=MODIFIERS[name];1!==length&&modifier||(byKey?ret.key=name:ret.which=toKeyCode(value)),modifier&&(ret[modifier]=!optional||null)}}catch(err){_didIteratorError=!0,_iteratorError=err}finally{try{!_iteratorNormalCompletion&&_iterator.return&&_iterator.return()}finally{if(_didIteratorError)throw _iteratorError}}return ret}function compareHotkey(object,event){for(var key in object){var expected=object[key],actual=void 0;if(null!=expected&&((null!=(actual="key"===key&&null!=event.key?event.key.toLowerCase():"which"===key?91===expected&&93===event.which?91:event.which:event[key])||!1!==expected)&&actual!==expected))return!1}return!0}function toKeyCode(name){return name=toKeyName(name),CODES[name]||name.toUpperCase().charCodeAt(0)}function toKeyName(name){return name=name.toLowerCase(),name=ALIASES[name]||name}exports.TB=function isKeyHotkey(hotkey,event){return isHotkey(hotkey,{byKey:!0},event)}},"./node_modules/is-plain-object/dist/is-plain-object.mjs":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{"use strict";function isObject(o){return"[object Object]"===Object.prototype.toString.call(o)}function isPlainObject(o){var ctor,prot;return!1!==isObject(o)&&(void 0===(ctor=o.constructor)||!1!==isObject(prot=ctor.prototype)&&!1!==prot.hasOwnProperty("isPrototypeOf"))}__webpack_require__.d(__webpack_exports__,{P:()=>isPlainObject})},"./node_modules/lodash/_baseTrim.js":(module,__unused_webpack_exports,__webpack_require__)=>{var trimmedEndIndex=__webpack_require__("./node_modules/lodash/_trimmedEndIndex.js"),reTrimStart=/^\s+/;module.exports=function baseTrim(string){return string?string.slice(0,trimmedEndIndex(string)+1).replace(reTrimStart,""):string}},"./node_modules/lodash/_trimmedEndIndex.js":module=>{var reWhitespace=/\s/;module.exports=function trimmedEndIndex(string){for(var index=string.length;index--&&reWhitespace.test(string.charAt(index)););return index}},"./node_modules/lodash/debounce.js":(module,__unused_webpack_exports,__webpack_require__)=>{var isObject=__webpack_require__("./node_modules/lodash/isObject.js"),now=__webpack_require__("./node_modules/lodash/now.js"),toNumber=__webpack_require__("./node_modules/lodash/toNumber.js"),nativeMax=Math.max,nativeMin=Math.min;module.exports=function debounce(func,wait,options){var lastArgs,lastThis,maxWait,result,timerId,lastCallTime,lastInvokeTime=0,leading=!1,maxing=!1,trailing=!0;if("function"!=typeof func)throw new TypeError("Expected a function");function invokeFunc(time){var args=lastArgs,thisArg=lastThis;return lastArgs=lastThis=void 0,lastInvokeTime=time,result=func.apply(thisArg,args)}function shouldInvoke(time){var timeSinceLastCall=time-lastCallTime;return void 0===lastCallTime||timeSinceLastCall>=wait||timeSinceLastCall<0||maxing&&time-lastInvokeTime>=maxWait}function timerExpired(){var time=now();if(shouldInvoke(time))return trailingEdge(time);timerId=setTimeout(timerExpired,function remainingWait(time){var timeWaiting=wait-(time-lastCallTime);return maxing?nativeMin(timeWaiting,maxWait-(time-lastInvokeTime)):timeWaiting}(time))}function trailingEdge(time){return timerId=void 0,trailing&&lastArgs?invokeFunc(time):(lastArgs=lastThis=void 0,result)}function debounced(){var time=now(),isInvoking=shouldInvoke(time);if(lastArgs=arguments,lastThis=this,lastCallTime=time,isInvoking){if(void 0===timerId)return function leadingEdge(time){return lastInvokeTime=time,timerId=setTimeout(timerExpired,wait),leading?invokeFunc(time):result}(lastCallTime);if(maxing)return clearTimeout(timerId),timerId=setTimeout(timerExpired,wait),invokeFunc(lastCallTime)}return void 0===timerId&&(timerId=setTimeout(timerExpired,wait)),result}return wait=toNumber(wait)||0,isObject(options)&&(leading=!!options.leading,maxWait=(maxing="maxWait"in options)?nativeMax(toNumber(options.maxWait)||0,wait):maxWait,trailing="trailing"in options?!!options.trailing:trailing),debounced.cancel=function cancel(){void 0!==timerId&&clearTimeout(timerId),lastInvokeTime=0,lastArgs=lastCallTime=lastThis=timerId=void 0},debounced.flush=function flush(){return void 0===timerId?result:trailingEdge(now())},debounced}},"./node_modules/lodash/now.js":(module,__unused_webpack_exports,__webpack_require__)=>{var root=__webpack_require__("./node_modules/lodash/_root.js");module.exports=function(){return root.Date.now()}},"./node_modules/lodash/throttle.js":(module,__unused_webpack_exports,__webpack_require__)=>{var debounce=__webpack_require__("./node_modules/lodash/debounce.js"),isObject=__webpack_require__("./node_modules/lodash/isObject.js");module.exports=function throttle(func,wait,options){var leading=!0,trailing=!0;if("function"!=typeof func)throw new TypeError("Expected a function");return isObject(options)&&(leading="leading"in options?!!options.leading:leading,trailing="trailing"in options?!!options.trailing:trailing),debounce(func,wait,{leading,maxWait:wait,trailing})}},"./node_modules/lodash/toNumber.js":(module,__unused_webpack_exports,__webpack_require__)=>{var baseTrim=__webpack_require__("./node_modules/lodash/_baseTrim.js"),isObject=__webpack_require__("./node_modules/lodash/isObject.js"),isSymbol=__webpack_require__("./node_modules/lodash/isSymbol.js"),reIsBadHex=/^[-+]0x[0-9a-f]+$/i,reIsBinary=/^0b[01]+$/i,reIsOctal=/^0o[0-7]+$/i,freeParseInt=parseInt;module.exports=function toNumber(value){if("number"==typeof value)return value;if(isSymbol(value))return NaN;if(isObject(value)){var other="function"==typeof value.valueOf?value.valueOf():value;value=isObject(other)?other+"":other}if("string"!=typeof value)return 0===value?value:+value;value=baseTrim(value);var isBinary=reIsBinary.test(value);return isBinary||reIsOctal.test(value)?freeParseInt(value.slice(2),isBinary?2:8):reIsBadHex.test(value)?NaN:+value}},"./node_modules/slate-history/dist/index.es.js":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{"use strict";__webpack_require__.d(__webpack_exports__,{VC:()=>withHistory});var is_plain_object__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./node_modules/is-plain-object/dist/is-plain-object.mjs"),slate__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("./node_modules/slate/dist/index.es.js"),History={isHistory:value=>(0,is_plain_object__WEBPACK_IMPORTED_MODULE_0__.P)(value)&&Array.isArray(value.redos)&&Array.isArray(value.undos)&&(0===value.redos.length||slate__WEBPACK_IMPORTED_MODULE_1__.OX.isOperationList(value.redos[0].operations))&&(0===value.undos.length||slate__WEBPACK_IMPORTED_MODULE_1__.OX.isOperationList(value.undos[0].operations))},SAVING=(new WeakMap,new WeakMap),MERGING=new WeakMap,HistoryEditor={isHistoryEditor:value=>History.isHistory(value.history)&&slate__WEBPACK_IMPORTED_MODULE_1__.ML.isEditor(value),isMerging:editor=>MERGING.get(editor),isSaving:editor=>SAVING.get(editor),redo(editor){editor.redo()},undo(editor){editor.undo()},withoutMerging(editor,fn){var prev=HistoryEditor.isMerging(editor);MERGING.set(editor,!1),fn(),MERGING.set(editor,prev)},withoutSaving(editor,fn){var prev=HistoryEditor.isSaving(editor);SAVING.set(editor,!1),fn(),SAVING.set(editor,prev)}},withHistory=editor=>{var e=editor,{apply}=e;return e.history={undos:[],redos:[]},e.redo=()=>{var{history}=e,{redos}=history;if(redos.length>0){var batch=redos[redos.length-1];batch.selectionBefore&&slate__WEBPACK_IMPORTED_MODULE_1__.YR.setSelection(e,batch.selectionBefore),HistoryEditor.withoutSaving(e,(()=>{slate__WEBPACK_IMPORTED_MODULE_1__.ML.withoutNormalizing(e,(()=>{for(var op of batch.operations)e.apply(op)}))})),history.redos.pop(),e.writeHistory("undos",batch)}},e.undo=()=>{var{history}=e,{undos}=history;if(undos.length>0){var batch=undos[undos.length-1];HistoryEditor.withoutSaving(e,(()=>{slate__WEBPACK_IMPORTED_MODULE_1__.ML.withoutNormalizing(e,(()=>{var inverseOps=batch.operations.map(slate__WEBPACK_IMPORTED_MODULE_1__.OX.inverse).reverse();for(var op of inverseOps)e.apply(op);batch.selectionBefore&&slate__WEBPACK_IMPORTED_MODULE_1__.YR.setSelection(e,batch.selectionBefore)}))})),e.writeHistory("redos",batch),history.undos.pop()}},e.apply=op=>{var{operations,history}=e,{undos}=history,lastBatch=undos[undos.length-1],lastOp=lastBatch&&lastBatch.operations[lastBatch.operations.length-1],save=HistoryEditor.isSaving(e),merge=HistoryEditor.isMerging(e);if(null==save&&(save=shouldSave(op)),save){if(null==merge&&(merge=null!=lastBatch&&(0!==operations.length||shouldMerge(op,lastOp))),lastBatch&&merge)lastBatch.operations.push(op);else{var batch={operations:[op],selectionBefore:e.selection};e.writeHistory("undos",batch)}for(;undos.length>100;)undos.shift();history.redos=[]}apply(op)},e.writeHistory=(stack,batch)=>{e.history[stack].push(batch)},e},shouldMerge=(op,prev)=>!(!prev||"insert_text"!==op.type||"insert_text"!==prev.type||op.offset!==prev.offset+prev.text.length||!slate__WEBPACK_IMPORTED_MODULE_1__.y$.equals(op.path,prev.path))||!(!prev||"remove_text"!==op.type||"remove_text"!==prev.type||op.offset+op.text.length!==prev.offset||!slate__WEBPACK_IMPORTED_MODULE_1__.y$.equals(op.path,prev.path)),shouldSave=(op,prev)=>"set_selection"!==op.type},"./node_modules/slate-react/dist/index.es.js":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{"use strict";__webpack_require__.d(__webpack_exports__,{CX:()=>Editable,F3:()=>ReactEditor,mH:()=>Slate,BU:()=>withReact});var direction=__webpack_require__("./node_modules/direction/index.js"),direction_default=__webpack_require__.n(direction),debounce=__webpack_require__("./node_modules/lodash/debounce.js"),debounce_default=__webpack_require__.n(debounce),throttle=__webpack_require__("./node_modules/lodash/throttle.js"),throttle_default=__webpack_require__.n(throttle),react=__webpack_require__("./node_modules/react/index.js");function t(t){return"object"==typeof t&&null!=t&&1===t.nodeType}function e(t,e){return(!e||"hidden"!==t)&&"visible"!==t&&"clip"!==t}function n(t,n){if(t.clientHeight<t.scrollHeight||t.clientWidth<t.scrollWidth){var r=getComputedStyle(t,null);return e(r.overflowY,n)||e(r.overflowX,n)||function(t){var e=function(t){if(!t.ownerDocument||!t.ownerDocument.defaultView)return null;try{return t.ownerDocument.defaultView.frameElement}catch(t){return null}}(t);return!!e&&(e.clientHeight<t.scrollHeight||e.clientWidth<t.scrollWidth)}(t)}return!1}function r(t,e,n,r,i,o,l,d){return o<t&&l>e||o>t&&l<e?0:o<=t&&d<=n||l>=e&&d>=n?o-t-r:l>e&&d<n||o<t&&d>n?l-e+i:0}var i=function(e,i){var o=window,l=i.scrollMode,d=i.block,f=i.inline,h=i.boundary,u=i.skipOverflowHiddenElements,s="function"==typeof h?h:function(t){return t!==h};if(!t(e))throw new TypeError("Invalid target");for(var a,c,g=document.scrollingElement||document.documentElement,p=[],m=e;t(m)&&s(m);){if((m=null==(c=(a=m).parentElement)?a.getRootNode().host||null:c)===g){p.push(m);break}null!=m&&m===document.body&&n(m)&&!n(document.documentElement)||null!=m&&n(m,u)&&p.push(m)}for(var w=o.visualViewport?o.visualViewport.width:innerWidth,v=o.visualViewport?o.visualViewport.height:innerHeight,W=window.scrollX||pageXOffset,H=window.scrollY||pageYOffset,b=e.getBoundingClientRect(),y=b.height,E=b.width,M=b.top,V=b.right,x=b.bottom,I=b.left,C="start"===d||"nearest"===d?M:"end"===d?x:M+y/2,R="center"===f?I+E/2:"end"===f?V:I,T=[],k=0;k<p.length;k++){var B=p[k],D=B.getBoundingClientRect(),O=D.height,X=D.width,Y=D.top,L=D.right,S=D.bottom,j=D.left;if("if-needed"===l&&M>=0&&I>=0&&x<=v&&V<=w&&M>=Y&&x<=S&&I>=j&&V<=L)return T;var N=getComputedStyle(B),q=parseInt(N.borderLeftWidth,10),z=parseInt(N.borderTopWidth,10),A=parseInt(N.borderRightWidth,10),F=parseInt(N.borderBottomWidth,10),G=0,J=0,K="offsetWidth"in B?B.offsetWidth-B.clientWidth-q-A:0,P="offsetHeight"in B?B.offsetHeight-B.clientHeight-z-F:0,Q="offsetWidth"in B?0===B.offsetWidth?0:X/B.offsetWidth:0,U="offsetHeight"in B?0===B.offsetHeight?0:O/B.offsetHeight:0;if(g===B)G="start"===d?C:"end"===d?C-v:"nearest"===d?r(H,H+v,v,z,F,H+C,H+C+y,y):C-v/2,J="start"===f?R:"center"===f?R-w/2:"end"===f?R-w:r(W,W+w,w,q,A,W+R,W+R+E,E),G=Math.max(0,G+H),J=Math.max(0,J+W);else{G="start"===d?C-Y-z:"end"===d?C-S+F+P:"nearest"===d?r(Y,S,O,z,F+P,C,C+y,y):C-(Y+O/2)+P/2,J="start"===f?R-j-q:"center"===f?R-(j+X/2)+K/2:"end"===f?R-L+A+K:r(j,L,X,q,A+K,R,R+E,E);var Z=B.scrollLeft,$=B.scrollTop;C+=$-(G=Math.max(0,Math.min($+G/U,B.scrollHeight-O/U+P))),R+=Z-(J=Math.max(0,Math.min(Z+J/Q,B.scrollWidth-X/Q+K)))}T.push({el:B,top:G,left:J})}return T};function isOptionsObject(options){return options===Object(options)&&0!==Object.keys(options).length}const es=function scrollIntoView(target,options){var isTargetAttached=target.isConnected||target.ownerDocument.documentElement.contains(target);if(isOptionsObject(options)&&"function"==typeof options.behavior)return options.behavior(isTargetAttached?i(target,options):[]);if(isTargetAttached){var computeOptions=function getOptions(options){return!1===options?{block:"end",inline:"nearest"}:isOptionsObject(options)?options:{block:"start",inline:"nearest"}}(options);return function defaultBehavior(actions,behavior){void 0===behavior&&(behavior="auto");var canSmoothScroll="scrollBehavior"in document.body.style;actions.forEach((function(_ref){var el=_ref.el,top=_ref.top,left=_ref.left;el.scroll&&canSmoothScroll?el.scroll({top,left,behavior}):(el.scrollTop=top,el.scrollLeft=left)}))}(i(target,computeOptions),computeOptions.behavior)}};var ResizeObserverBoxOptions,index_es=__webpack_require__("./node_modules/slate/dist/index.es.js"),resizeObservers=[],msg="ResizeObserver loop completed with undelivered notifications.";!function(ResizeObserverBoxOptions){ResizeObserverBoxOptions.BORDER_BOX="border-box",ResizeObserverBoxOptions.CONTENT_BOX="content-box",ResizeObserverBoxOptions.DEVICE_PIXEL_CONTENT_BOX="device-pixel-content-box"}(ResizeObserverBoxOptions||(ResizeObserverBoxOptions={}));var trigger,freeze=function(obj){return Object.freeze(obj)},ResizeObserverSize=function ResizeObserverSize(inlineSize,blockSize){this.inlineSize=inlineSize,this.blockSize=blockSize,freeze(this)},DOMRectReadOnly=function(){function DOMRectReadOnly(x,y,width,height){return this.x=x,this.y=y,this.width=width,this.height=height,this.top=this.y,this.left=this.x,this.bottom=this.top+this.height,this.right=this.left+this.width,freeze(this)}return DOMRectReadOnly.prototype.toJSON=function(){var _a=this;return{x:_a.x,y:_a.y,top:_a.top,right:_a.right,bottom:_a.bottom,left:_a.left,width:_a.width,height:_a.height}},DOMRectReadOnly.fromRect=function(rectangle){return new DOMRectReadOnly(rectangle.x,rectangle.y,rectangle.width,rectangle.height)},DOMRectReadOnly}(),isSVG=function(target){return target instanceof SVGElement&&"getBBox"in target},isHidden=function(target){if(isSVG(target)){var _a=target.getBBox(),width=_a.width,height=_a.height;return!width&&!height}var _b=target,offsetWidth=_b.offsetWidth,offsetHeight=_b.offsetHeight;return!(offsetWidth||offsetHeight||target.getClientRects().length)},isElement=function(obj){var _a;if(obj instanceof Element)return!0;var scope=null===(_a=null==obj?void 0:obj.ownerDocument)||void 0===_a?void 0:_a.defaultView;return!!(scope&&obj instanceof scope.Element)},global="undefined"!=typeof window?window:{},cache=new WeakMap,scrollRegexp=/auto|scroll/,verticalRegexp=/^tb|vertical/,IE=/msie|trident/i.test(global.navigator&&global.navigator.userAgent),parseDimension=function(pixel){return parseFloat(pixel||"0")},size=function(inlineSize,blockSize,switchSizes){return void 0===inlineSize&&(inlineSize=0),void 0===blockSize&&(blockSize=0),void 0===switchSizes&&(switchSizes=!1),new ResizeObserverSize((switchSizes?blockSize:inlineSize)||0,(switchSizes?inlineSize:blockSize)||0)},zeroBoxes=freeze({devicePixelContentBoxSize:size(),borderBoxSize:size(),contentBoxSize:size(),contentRect:new DOMRectReadOnly(0,0,0,0)}),calculateBoxSizes=function(target,forceRecalculation){if(void 0===forceRecalculation&&(forceRecalculation=!1),cache.has(target)&&!forceRecalculation)return cache.get(target);if(isHidden(target))return cache.set(target,zeroBoxes),zeroBoxes;var cs=getComputedStyle(target),svg=isSVG(target)&&target.ownerSVGElement&&target.getBBox(),removePadding=!IE&&"border-box"===cs.boxSizing,switchSizes=verticalRegexp.test(cs.writingMode||""),canScrollVertically=!svg&&scrollRegexp.test(cs.overflowY||""),canScrollHorizontally=!svg&&scrollRegexp.test(cs.overflowX||""),paddingTop=svg?0:parseDimension(cs.paddingTop),paddingRight=svg?0:parseDimension(cs.paddingRight),paddingBottom=svg?0:parseDimension(cs.paddingBottom),paddingLeft=svg?0:parseDimension(cs.paddingLeft),borderTop=svg?0:parseDimension(cs.borderTopWidth),borderRight=svg?0:parseDimension(cs.borderRightWidth),borderBottom=svg?0:parseDimension(cs.borderBottomWidth),horizontalPadding=paddingLeft+paddingRight,verticalPadding=paddingTop+paddingBottom,horizontalBorderArea=(svg?0:parseDimension(cs.borderLeftWidth))+borderRight,verticalBorderArea=borderTop+borderBottom,horizontalScrollbarThickness=canScrollHorizontally?target.offsetHeight-verticalBorderArea-target.clientHeight:0,verticalScrollbarThickness=canScrollVertically?target.offsetWidth-horizontalBorderArea-target.clientWidth:0,widthReduction=removePadding?horizontalPadding+horizontalBorderArea:0,heightReduction=removePadding?verticalPadding+verticalBorderArea:0,contentWidth=svg?svg.width:parseDimension(cs.width)-widthReduction-verticalScrollbarThickness,contentHeight=svg?svg.height:parseDimension(cs.height)-heightReduction-horizontalScrollbarThickness,borderBoxWidth=contentWidth+horizontalPadding+verticalScrollbarThickness+horizontalBorderArea,borderBoxHeight=contentHeight+verticalPadding+horizontalScrollbarThickness+verticalBorderArea,boxes=freeze({devicePixelContentBoxSize:size(Math.round(contentWidth*devicePixelRatio),Math.round(contentHeight*devicePixelRatio),switchSizes),borderBoxSize:size(borderBoxWidth,borderBoxHeight,switchSizes),contentBoxSize:size(contentWidth,contentHeight,switchSizes),contentRect:new DOMRectReadOnly(paddingLeft,paddingTop,contentWidth,contentHeight)});return cache.set(target,boxes),boxes},calculateBoxSize=function(target,observedBox,forceRecalculation){var _a=calculateBoxSizes(target,forceRecalculation),borderBoxSize=_a.borderBoxSize,contentBoxSize=_a.contentBoxSize,devicePixelContentBoxSize=_a.devicePixelContentBoxSize;switch(observedBox){case ResizeObserverBoxOptions.DEVICE_PIXEL_CONTENT_BOX:return devicePixelContentBoxSize;case ResizeObserverBoxOptions.BORDER_BOX:return borderBoxSize;default:return contentBoxSize}},ResizeObserverEntry=function ResizeObserverEntry(target){var boxes=calculateBoxSizes(target);this.target=target,this.contentRect=boxes.contentRect,this.borderBoxSize=freeze([boxes.borderBoxSize]),this.contentBoxSize=freeze([boxes.contentBoxSize]),this.devicePixelContentBoxSize=freeze([boxes.devicePixelContentBoxSize])},calculateDepthForNode=function(node){if(isHidden(node))return 1/0;for(var depth=0,parent=node.parentNode;parent;)depth+=1,parent=parent.parentNode;return depth},broadcastActiveObservations=function(){var shallowestDepth=1/0,callbacks=[];resizeObservers.forEach((function processObserver(ro){if(0!==ro.activeTargets.length){var entries=[];ro.activeTargets.forEach((function processTarget(ot){var entry=new ResizeObserverEntry(ot.target),targetDepth=calculateDepthForNode(ot.target);entries.push(entry),ot.lastReportedSize=calculateBoxSize(ot.target,ot.observedBox),targetDepth<shallowestDepth&&(shallowestDepth=targetDepth)})),callbacks.push((function resizeObserverCallback(){ro.callback.call(ro.observer,entries,ro.observer)})),ro.activeTargets.splice(0,ro.activeTargets.length)}}));for(var _i=0,callbacks_1=callbacks;_i<callbacks_1.length;_i++){(0,callbacks_1[_i])()}return shallowestDepth},gatherActiveObservationsAtDepth=function(depth){resizeObservers.forEach((function processObserver(ro){ro.activeTargets.splice(0,ro.activeTargets.length),ro.skippedTargets.splice(0,ro.skippedTargets.length),ro.observationTargets.forEach((function processTarget(ot){ot.isActive()&&(calculateDepthForNode(ot.target)>depth?ro.activeTargets.push(ot):ro.skippedTargets.push(ot))}))}))},process=function(){var event,depth=0;for(gatherActiveObservationsAtDepth(depth);resizeObservers.some((function(ro){return ro.activeTargets.length>0}));)depth=broadcastActiveObservations(),gatherActiveObservationsAtDepth(depth);return resizeObservers.some((function(ro){return ro.skippedTargets.length>0}))&&("function"==typeof ErrorEvent?event=new ErrorEvent("error",{message:msg}):((event=document.createEvent("Event")).initEvent("error",!1,!1),event.message=msg),window.dispatchEvent(event)),depth>0},callbacks=[],queueMicroTask=function(callback){if(!trigger){var toggle_1=0,el_1=document.createTextNode("");new MutationObserver((function(){return callbacks.splice(0).forEach((function(cb){return cb()}))})).observe(el_1,{characterData:!0}),trigger=function(){el_1.textContent="".concat(toggle_1?toggle_1--:toggle_1++)}}callbacks.push(callback),trigger()},watching=0,observerConfig={attributes:!0,characterData:!0,childList:!0,subtree:!0},events=["resize","load","transitionend","animationend","animationstart","animationiteration","keyup","keydown","mouseup","mousedown","mouseover","mouseout","blur","focus"],time=function(timeout){return void 0===timeout&&(timeout=0),Date.now()+timeout},scheduled=!1,scheduler=new(function(){function Scheduler(){var _this=this;this.stopped=!0,this.listener=function(){return _this.schedule()}}return Scheduler.prototype.run=function(timeout){var _this=this;if(void 0===timeout&&(timeout=250),!scheduled){scheduled=!0;var cb,until=time(timeout);cb=function(){var elementsHaveResized=!1;try{elementsHaveResized=process()}finally{if(scheduled=!1,timeout=until-time(),!watching)return;elementsHaveResized?_this.run(1e3):timeout>0?_this.run(timeout):_this.start()}},queueMicroTask((function ResizeObserver(){requestAnimationFrame(cb)}))}},Scheduler.prototype.schedule=function(){this.stop(),this.run()},Scheduler.prototype.observe=function(){var _this=this,cb=function(){return _this.observer&&_this.observer.observe(document.body,observerConfig)};document.body?cb():global.addEventListener("DOMContentLoaded",cb)},Scheduler.prototype.start=function(){var _this=this;this.stopped&&(this.stopped=!1,this.observer=new MutationObserver(this.listener),this.observe(),events.forEach((function(name){return global.addEventListener(name,_this.listener,!0)})))},Scheduler.prototype.stop=function(){var _this=this;this.stopped||(this.observer&&this.observer.disconnect(),events.forEach((function(name){return global.removeEventListener(name,_this.listener,!0)})),this.stopped=!0)},Scheduler}()),updateCount=function(n){!watching&&n>0&&scheduler.start(),!(watching+=n)&&scheduler.stop()},ResizeObservation=function(){function ResizeObservation(target,observedBox){this.target=target,this.observedBox=observedBox||ResizeObserverBoxOptions.CONTENT_BOX,this.lastReportedSize={inlineSize:0,blockSize:0}}return ResizeObservation.prototype.isActive=function(){var target,size=calculateBoxSize(this.target,this.observedBox,!0);return target=this.target,isSVG(target)||function(target){switch(target.tagName){case"INPUT":if("image"!==target.type)break;case"VIDEO":case"AUDIO":case"EMBED":case"OBJECT":case"CANVAS":case"IFRAME":case"IMG":return!0}return!1}(target)||"inline"!==getComputedStyle(target).display||(this.lastReportedSize=size),this.lastReportedSize.inlineSize!==size.inlineSize||this.lastReportedSize.blockSize!==size.blockSize},ResizeObservation}(),ResizeObserverDetail=function ResizeObserverDetail(resizeObserver,callback){this.activeTargets=[],this.skippedTargets=[],this.observationTargets=[],this.observer=resizeObserver,this.callback=callback},observerMap=new WeakMap,getObservationIndex=function(observationTargets,target){for(var i=0;i<observationTargets.length;i+=1)if(observationTargets[i].target===target)return i;return-1},ResizeObserverController=function(){function ResizeObserverController(){}return ResizeObserverController.connect=function(resizeObserver,callback){var detail=new ResizeObserverDetail(resizeObserver,callback);observerMap.set(resizeObserver,detail)},ResizeObserverController.observe=function(resizeObserver,target,options){var detail=observerMap.get(resizeObserver),firstObservation=0===detail.observationTargets.length;getObservationIndex(detail.observationTargets,target)<0&&(firstObservation&&resizeObservers.push(detail),detail.observationTargets.push(new ResizeObservation(target,options&&options.box)),updateCount(1),scheduler.schedule())},ResizeObserverController.unobserve=function(resizeObserver,target){var detail=observerMap.get(resizeObserver),index=getObservationIndex(detail.observationTargets,target),lastObservation=1===detail.observationTargets.length;index>=0&&(lastObservation&&resizeObservers.splice(resizeObservers.indexOf(detail),1),detail.observationTargets.splice(index,1),updateCount(-1))},ResizeObserverController.disconnect=function(resizeObserver){var _this=this,detail=observerMap.get(resizeObserver);detail.observationTargets.slice().forEach((function(ot){return _this.unobserve(resizeObserver,ot.target)})),detail.activeTargets.splice(0,detail.activeTargets.length)},ResizeObserverController}(),ResizeObserver=function(){function ResizeObserver(callback){if(0===arguments.length)throw new TypeError("Failed to construct 'ResizeObserver': 1 argument required, but only 0 present.");if("function"!=typeof callback)throw new TypeError("Failed to construct 'ResizeObserver': The callback provided as parameter 1 is not a function.");ResizeObserverController.connect(this,callback)}return ResizeObserver.prototype.observe=function(target,options){if(0===arguments.length)throw new TypeError("Failed to execute 'observe' on 'ResizeObserver': 1 argument required, but only 0 present.");if(!isElement(target))throw new TypeError("Failed to execute 'observe' on 'ResizeObserver': parameter 1 is not of type 'Element");ResizeObserverController.observe(this,target,options)},ResizeObserver.prototype.unobserve=function(target){if(0===arguments.length)throw new TypeError("Failed to execute 'unobserve' on 'ResizeObserver': 1 argument required, but only 0 present.");if(!isElement(target))throw new TypeError("Failed to execute 'unobserve' on 'ResizeObserver': parameter 1 is not of type 'Element");ResizeObserverController.unobserve(this,target)},ResizeObserver.prototype.disconnect=function(){ResizeObserverController.disconnect(this)},ResizeObserver.toString=function(){return"function ResizeObserver () { [polyfill code] }"},ResizeObserver}(),lib=__webpack_require__("./node_modules/is-hotkey/lib/index.js"),react_dom=__webpack_require__("./node_modules/react-dom/index.js");function _defineProperty(obj,key,value){return key in obj?Object.defineProperty(obj,key,{value,enumerable:!0,configurable:!0,writable:!0}):obj[key]=value,obj}function _objectWithoutProperties(source,excluded){if(null==source)return{};var key,i,target=function _objectWithoutPropertiesLoose(source,excluded){if(null==source)return{};var key,i,target={},sourceKeys=Object.keys(source);for(i=0;i<sourceKeys.length;i++)key=sourceKeys[i],excluded.indexOf(key)>=0||(target[key]=source[key]);return target}(source,excluded);if(Object.getOwnPropertySymbols){var sourceSymbolKeys=Object.getOwnPropertySymbols(source);for(i=0;i<sourceSymbolKeys.length;i++)key=sourceSymbolKeys[i],excluded.indexOf(key)>=0||Object.prototype.propertyIsEnumerable.call(source,key)&&(target[key]=source[key])}return target}var EditorContext=(0,react.createContext)(null),useSlateStatic=()=>{var editor=(0,react.useContext)(EditorContext);if(!editor)throw new Error("The `useSlateStatic` hook must be used inside the <Slate> component's context.");return editor},IS_REACT_VERSION_17_OR_ABOVE=parseInt(react.version.split(".")[0],10)>=17,IS_IOS="undefined"!=typeof navigator&&"undefined"!=typeof window&&/iPad|iPhone|iPod/.test(navigator.userAgent)&&!window.MSStream,IS_APPLE="undefined"!=typeof navigator&&/Mac OS X/.test(navigator.userAgent),IS_ANDROID="undefined"!=typeof navigator&&/Android/.test(navigator.userAgent),IS_FIREFOX="undefined"!=typeof navigator&&/^(?!.*Seamonkey)(?=.*Firefox).*/i.test(navigator.userAgent),IS_SAFARI="undefined"!=typeof navigator&&/Version\/[\d\.]+.*Safari/.test(navigator.userAgent),IS_EDGE_LEGACY="undefined"!=typeof navigator&&/Edge?\/(?:[0-6][0-9]|[0-7][0-8])(?:\.)/i.test(navigator.userAgent),IS_CHROME="undefined"!=typeof navigator&&/Chrome/i.test(navigator.userAgent),IS_CHROME_LEGACY="undefined"!=typeof navigator&&/Chrome?\/(?:[0-7][0-5]|[0-6][0-9])(?:\.)/i.test(navigator.userAgent),IS_ANDROID_CHROME_LEGACY=IS_ANDROID&&"undefined"!=typeof navigator&&/Chrome?\/(?:[0-5]?\d)(?:\.)/i.test(navigator.userAgent),IS_FIREFOX_LEGACY="undefined"!=typeof navigator&&/^(?!.*Seamonkey)(?=.*Firefox\/(?:[0-7][0-9]|[0-8][0-6])(?:\.)).*/i.test(navigator.userAgent),IS_UC_MOBILE="undefined"!=typeof navigator&&/.*UCBrowser/.test(navigator.userAgent),IS_WECHATBROWSER="undefined"!=typeof navigator&&/.*Wechat/.test(navigator.userAgent),CAN_USE_DOM=!("undefined"==typeof window||void 0===window.document||void 0===window.document.createElement),HAS_BEFORE_INPUT_SUPPORT=(!IS_CHROME_LEGACY||!IS_ANDROID_CHROME_LEGACY)&&!IS_EDGE_LEGACY&&"undefined"!=typeof globalThis&&globalThis.InputEvent&&"function"==typeof globalThis.InputEvent.prototype.getTargetRanges,NODE_TO_INDEX=new WeakMap,NODE_TO_PARENT=new WeakMap,EDITOR_TO_WINDOW=new WeakMap,EDITOR_TO_ELEMENT=new WeakMap,EDITOR_TO_PLACEHOLDER_ELEMENT=new WeakMap,ELEMENT_TO_NODE=new WeakMap,NODE_TO_ELEMENT=new WeakMap,NODE_TO_KEY=new WeakMap,EDITOR_TO_KEY_TO_ELEMENT=new WeakMap,IS_READ_ONLY=new WeakMap,IS_FOCUSED=new WeakMap,IS_COMPOSING=new WeakMap,EDITOR_TO_USER_SELECTION=new WeakMap,EDITOR_TO_ON_CHANGE=new WeakMap,EDITOR_TO_SCHEDULE_FLUSH=new WeakMap,EDITOR_TO_PENDING_INSERTION_MARKS=new WeakMap,EDITOR_TO_USER_MARKS=new WeakMap,EDITOR_TO_PENDING_DIFFS=new WeakMap,EDITOR_TO_PENDING_ACTION=new WeakMap,EDITOR_TO_PENDING_SELECTION=new WeakMap,EDITOR_TO_FORCE_RENDER=new WeakMap,PLACEHOLDER_SYMBOL=Symbol("placeholder"),MARK_PLACEHOLDER_SYMBOL=Symbol("mark-placeholder"),DOMText=globalThis.Text,getDefaultView=value=>value&&value.ownerDocument&&value.ownerDocument.defaultView||null,isDOMElement=value=>isDOMNode(value)&&1===value.nodeType,isDOMNode=value=>{var window=getDefaultView(value);return!!window&&value instanceof window.Node},isDOMSelection=value=>{var window=value&&value.anchorNode&&getDefaultView(value.anchorNode);return!!window&&value instanceof window.Selection},isDOMText=value=>isDOMNode(value)&&3===value.nodeType,getEditableChildAndIndex=(parent,index,direction)=>{for(var value,{childNodes}=parent,child=childNodes[index],i=index,triedForward=!1,triedBackward=!1;(isDOMNode(value=child)&&8===value.nodeType||isDOMElement(child)&&0===child.childNodes.length||isDOMElement(child)&&"false"===child.getAttribute("contenteditable"))&&(!triedForward||!triedBackward);)i>=childNodes.length?(triedForward=!0,i=index-1,direction="backward"):i<0?(triedBackward=!0,i=index+1,direction="forward"):(child=childNodes[i],index=i,i+="forward"===direction?1:-1);return[child,index]},getEditableChild=(parent,index,direction)=>{var[child]=getEditableChildAndIndex(parent,index,direction);return child},getPlainText=domNode=>{var text="";if(isDOMText(domNode)&&domNode.nodeValue)return domNode.nodeValue;if(isDOMElement(domNode)){for(var childNode of Array.from(domNode.childNodes))text+=getPlainText(childNode);var display=getComputedStyle(domNode).getPropertyValue("display");"block"!==display&&"list"!==display&&"BR"!==domNode.tagName||(text+="\n")}return text},catchSlateFragment=/data-slate-fragment="(.+?)"/m,isTrackedMutation=(editor,mutation,batch)=>{var{target}=mutation;if(isDOMElement(target)&&target.matches('[contentEditable="false"]'))return!1;var{document}=ReactEditor.getWindow(editor);if(document.contains(target))return ReactEditor.hasDOMNode(editor,target,{editable:!0});var parentMutation=batch.find((_ref=>{var{addedNodes,removedNodes}=_ref;for(var node of addedNodes)if(node===target||node.contains(target))return!0;for(var _node of removedNodes)if(_node===target||_node.contains(target))return!0}));return!(!parentMutation||parentMutation===mutation)&&isTrackedMutation(editor,parentMutation,batch)},index_es_n=0;class Key{constructor(){this.id="".concat(index_es_n++)}}var ReactEditor={androidPendingDiffs:editor=>EDITOR_TO_PENDING_DIFFS.get(editor),androidScheduleFlush:editor=>{var _EDITOR_TO_SCHEDULE_F;null===(_EDITOR_TO_SCHEDULE_F=EDITOR_TO_SCHEDULE_FLUSH.get(editor))||void 0===_EDITOR_TO_SCHEDULE_F||_EDITOR_TO_SCHEDULE_F()},blur:editor=>{var el=ReactEditor.toDOMNode(editor,editor),root=ReactEditor.findDocumentOrShadowRoot(editor);IS_FOCUSED.set(editor,!1),root.activeElement===el&&el.blur()},deselect:editor=>{var{selection}=editor,domSelection=ReactEditor.findDocumentOrShadowRoot(editor).getSelection();domSelection&&domSelection.rangeCount>0&&domSelection.removeAllRanges(),selection&&index_es.YR.deselect(editor)},findDocumentOrShadowRoot:editor=>{var el=ReactEditor.toDOMNode(editor,editor),root=el.getRootNode();return(root instanceof Document||root instanceof ShadowRoot)&&null!=root.getSelection?root:el.ownerDocument},findEventRange:(editor,event)=>{"nativeEvent"in event&&(event=event.nativeEvent);var{clientX:x,clientY:y,target}=event;if(null==x||null==y)throw new Error("Cannot resolve a Slate range from a DOM event: ".concat(event));var domRange,node=ReactEditor.toSlateNode(editor,event.target),path=ReactEditor.findPath(editor,node);if(index_es.W_.isElement(node)&&index_es.ML.isVoid(editor,node)){var rect=target.getBoundingClientRect(),isPrev=editor.isInline(node)?x-rect.left<rect.left+rect.width-x:y-rect.top<rect.top+rect.height-y,edge=index_es.ML.point(editor,path,{edge:isPrev?"start":"end"}),point=isPrev?index_es.ML.before(editor,edge):index_es.ML.after(editor,edge);if(point)return index_es.ML.range(editor,point)}var{document}=ReactEditor.getWindow(editor);if(document.caretRangeFromPoint)domRange=document.caretRangeFromPoint(x,y);else{var position=document.caretPositionFromPoint(x,y);position&&((domRange=document.createRange()).setStart(position.offsetNode,position.offset),domRange.setEnd(position.offsetNode,position.offset))}if(!domRange)throw new Error("Cannot resolve a Slate range from a DOM event: ".concat(event));return ReactEditor.toSlateRange(editor,domRange,{exactMatch:!1,suppressThrow:!1})},findKey:(editor,node)=>{var key=NODE_TO_KEY.get(node);return key||(key=new Key,NODE_TO_KEY.set(node,key)),key},findPath:(editor,node)=>{for(var path=[],child=node;;){var parent=NODE_TO_PARENT.get(child);if(null==parent){if(index_es.ML.isEditor(child))return path;break}var i=NODE_TO_INDEX.get(child);if(null==i)break;path.unshift(i),child=parent}throw new Error("Unable to find the path for Slate node: ".concat(index_es.o4.stringify(node)))},focus:editor=>{var el=ReactEditor.toDOMNode(editor,editor),root=ReactEditor.findDocumentOrShadowRoot(editor);IS_FOCUSED.set(editor,!0),root.activeElement!==el&&el.focus({preventScroll:!0})},getWindow:editor=>{var window=EDITOR_TO_WINDOW.get(editor);if(!window)throw new Error("Unable to find a host window element for this editor");return window},hasDOMNode:function hasDOMNode(editor,target){var targetEl,options=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},{editable=!1}=options,editorEl=ReactEditor.toDOMNode(editor,editor);try{targetEl=isDOMElement(target)?target:target.parentElement}catch(err){if(!err.message.includes('Permission denied to access property "nodeType"'))throw err}return!!targetEl&&!(targetEl.closest("[data-slate-editor]")!==editorEl||editable&&!targetEl.isContentEditable&&("boolean"!=typeof targetEl.isContentEditable||targetEl.closest('[contenteditable="false"]')!==editorEl)&&!targetEl.getAttribute("data-slate-zero-width"))},hasEditableTarget:(editor,target)=>isDOMNode(target)&&ReactEditor.hasDOMNode(editor,target,{editable:!0}),hasRange:(editor,range)=>{var{anchor,focus}=range;return index_es.ML.hasPath(editor,anchor.path)&&index_es.ML.hasPath(editor,focus.path)},hasSelectableTarget:(editor,target)=>ReactEditor.hasEditableTarget(editor,target)||ReactEditor.isTargetInsideNonReadonlyVoid(editor,target),hasTarget:(editor,target)=>isDOMNode(target)&&ReactEditor.hasDOMNode(editor,target),insertData:(editor,data)=>{editor.insertData(data)},insertFragmentData:(editor,data)=>editor.insertFragmentData(data),insertTextData:(editor,data)=>editor.insertTextData(data),isComposing:editor=>!!IS_COMPOSING.get(editor),isFocused:editor=>!!IS_FOCUSED.get(editor),isReadOnly:editor=>!!IS_READ_ONLY.get(editor),isTargetInsideNonReadonlyVoid:(editor,target)=>{if(IS_READ_ONLY.get(editor))return!1;var slateNode=ReactEditor.hasTarget(editor,target)&&ReactEditor.toSlateNode(editor,target);return index_es.W_.isElement(slateNode)&&index_es.ML.isVoid(editor,slateNode)},setFragmentData:(editor,data,originEvent)=>editor.setFragmentData(data,originEvent),toDOMNode:(editor,node)=>{var KEY_TO_ELEMENT=EDITOR_TO_KEY_TO_ELEMENT.get(editor),domNode=index_es.ML.isEditor(node)?EDITOR_TO_ELEMENT.get(editor):null==KEY_TO_ELEMENT?void 0:KEY_TO_ELEMENT.get(ReactEditor.findKey(editor,node));if(!domNode)throw new Error("Cannot resolve a DOM node from Slate node: ".concat(index_es.o4.stringify(node)));return domNode},toDOMPoint:(editor,point)=>{var domPoint,[node]=index_es.ML.node(editor,point.path),el=ReactEditor.toDOMNode(editor,node);index_es.ML.void(editor,{at:point})&&(point={path:point.path,offset:0});for(var texts=Array.from(el.querySelectorAll("[data-slate-string], [data-slate-zero-width]")),start=0,i=0;i<texts.length;i++){var text=texts[i],domNode=text.childNodes[0];if(null!=domNode&&null!=domNode.textContent){var{length}=domNode.textContent,attr=text.getAttribute("data-slate-length"),end=start+(null==attr?length:parseInt(attr,10)),nextText=texts[i+1];if(point.offset===end&&null!=nextText&&nextText.hasAttribute("data-slate-mark-placeholder")){var _nextText$textContent,domText=nextText.childNodes[0];domPoint=[domText instanceof DOMText?domText:nextText,null!==(_nextText$textContent=nextText.textContent)&&void 0!==_nextText$textContent&&_nextText$textContent.startsWith("\ufeff")?1:0];break}if(point.offset<=end){domPoint=[domNode,Math.min(length,Math.max(0,point.offset-start))];break}start=end}}if(!domPoint)throw new Error("Cannot resolve a DOM point from Slate point: ".concat(index_es.o4.stringify(point)));return domPoint},toDOMRange:(editor,range)=>{var{anchor,focus}=range,isBackward=index_es.e6.isBackward(range),domAnchor=ReactEditor.toDOMPoint(editor,anchor),domFocus=index_es.e6.isCollapsed(range)?domAnchor:ReactEditor.toDOMPoint(editor,focus),domRange=ReactEditor.getWindow(editor).document.createRange(),[startNode,startOffset]=isBackward?domFocus:domAnchor,[endNode,endOffset]=isBackward?domAnchor:domFocus,isStartAtZeroWidth=!!(isDOMElement(startNode)?startNode:startNode.parentElement).getAttribute("data-slate-zero-width"),isEndAtZeroWidth=!!(isDOMElement(endNode)?endNode:endNode.parentElement).getAttribute("data-slate-zero-width");return domRange.setStart(startNode,isStartAtZeroWidth?1:startOffset),domRange.setEnd(endNode,isEndAtZeroWidth?1:endOffset),domRange},toSlateNode:(editor,domNode)=>{var domEl=isDOMElement(domNode)?domNode:domNode.parentElement;domEl&&!domEl.hasAttribute("data-slate-node")&&(domEl=domEl.closest("[data-slate-node]"));var node=domEl?ELEMENT_TO_NODE.get(domEl):null;if(!node)throw new Error("Cannot resolve a Slate node from DOM node: ".concat(domEl));return node},toSlatePoint:(editor,domPoint,options)=>{var{exactMatch,suppressThrow}=options,[nearestNode,nearestOffset]=exactMatch?domPoint:(domPoint=>{var[node,offset]=domPoint;if(isDOMElement(node)&&node.childNodes.length){var isLast=offset===node.childNodes.length,index=isLast?offset-1:offset;for([node,index]=getEditableChildAndIndex(node,index,isLast?"backward":"forward"),isLast=index<offset;isDOMElement(node)&&node.childNodes.length;){var i=isLast?node.childNodes.length-1:0;node=getEditableChild(node,i,isLast?"backward":"forward")}offset=isLast&&null!=node.textContent?node.textContent.length:0}return[node,offset]})(domPoint),parentNode=nearestNode.parentNode,textNode=null,offset=0;if(parentNode){var _domNode$textContent,_domNode$textContent2,editorEl=ReactEditor.toDOMNode(editor,editor),potentialVoidNode=parentNode.closest('[data-slate-void="true"]'),voidNode=potentialVoidNode&&editorEl.contains(potentialVoidNode)?potentialVoidNode:null,leafNode=parentNode.closest("[data-slate-leaf]"),domNode=null;if(leafNode){if(textNode=leafNode.closest('[data-slate-node="text"]')){var range=ReactEditor.getWindow(editor).document.createRange();range.setStart(textNode,0),range.setEnd(nearestNode,nearestOffset);var contents=range.cloneContents();[...Array.prototype.slice.call(contents.querySelectorAll("[data-slate-zero-width]")),...Array.prototype.slice.call(contents.querySelectorAll("[contenteditable=false]"))].forEach((el=>{IS_ANDROID&&!exactMatch&&el.hasAttribute("data-slate-zero-width")&&el.textContent.length>0&&"\ufeff"!==el.textContext?el.textContent.startsWith("\ufeff")&&(el.textContent=el.textContent.slice(1)):el.parentNode.removeChild(el)})),offset=contents.textContent.length,domNode=textNode}}else if(voidNode){for(var leafNodes=voidNode.querySelectorAll("[data-slate-leaf]"),index=0;index<leafNodes.length;index++){var current=leafNodes[index];if(ReactEditor.hasDOMNode(editor,current)){leafNode=current;break}}leafNode?(textNode=leafNode.closest('[data-slate-node="text"]'),offset=(domNode=leafNode).textContent.length,domNode.querySelectorAll("[data-slate-zero-width]").forEach((el=>{offset-=el.textContent.length}))):offset=1}domNode&&offset===domNode.textContent.length&&IS_ANDROID&&"z"===domNode.getAttribute("data-slate-zero-width")&&null!==(_domNode$textContent=domNode.textContent)&&void 0!==_domNode$textContent&&_domNode$textContent.startsWith("\ufeff")&&(parentNode.hasAttribute("data-slate-zero-width")||IS_FIREFOX&&null!==(_domNode$textContent2=domNode.textContent)&&void 0!==_domNode$textContent2&&_domNode$textContent2.endsWith("\n\n"))&&offset--}if(IS_ANDROID&&!textNode&&!exactMatch){var node=parentNode.hasAttribute("data-slate-node")?parentNode:parentNode.closest("[data-slate-node]");if(node&&ReactEditor.hasDOMNode(editor,node,{editable:!0})){var _slateNode=ReactEditor.toSlateNode(editor,node),{path:_path,offset:_offset}=index_es.ML.start(editor,ReactEditor.findPath(editor,_slateNode));return node.querySelector("[data-slate-leaf]")||(_offset=nearestOffset),{path:_path,offset:_offset}}}if(!textNode){if(suppressThrow)return null;throw new Error("Cannot resolve a Slate point from DOM point: ".concat(domPoint))}var slateNode=ReactEditor.toSlateNode(editor,textNode);return{path:ReactEditor.findPath(editor,slateNode),offset}},toSlateRange:(editor,domRange,options)=>{var anchorNode,anchorOffset,focusNode,focusOffset,isCollapsed,_anchorNode$textConte,{exactMatch,suppressThrow}=options;if((isDOMSelection(domRange)?domRange.anchorNode:domRange.startContainer)&&(isDOMSelection(domRange)?(anchorNode=domRange.anchorNode,anchorOffset=domRange.anchorOffset,focusNode=domRange.focusNode,focusOffset=domRange.focusOffset,isCollapsed=IS_CHROME&&(node=>{for(var parent=node&&node.parentNode;parent;){if("[object ShadowRoot]"===parent.toString())return!0;parent=parent.parentNode}return!1})(anchorNode)?domRange.anchorNode===domRange.focusNode&&domRange.anchorOffset===domRange.focusOffset:domRange.isCollapsed):(anchorNode=domRange.startContainer,anchorOffset=domRange.startOffset,focusNode=domRange.endContainer,focusOffset=domRange.endOffset,isCollapsed=domRange.collapsed)),null==anchorNode||null==focusNode||null==anchorOffset||null==focusOffset)throw new Error("Cannot resolve a Slate range from DOM range: ".concat(domRange));"getAttribute"in focusNode&&"false"===focusNode.getAttribute("contenteditable")&&(focusNode=anchorNode,focusOffset=(null===(_anchorNode$textConte=anchorNode.textContent)||void 0===_anchorNode$textConte?void 0:_anchorNode$textConte.length)||0);var anchor=ReactEditor.toSlatePoint(editor,[anchorNode,anchorOffset],{exactMatch,suppressThrow});if(!anchor)return null;var focus=isCollapsed?anchor:ReactEditor.toSlatePoint(editor,[focusNode,focusOffset],{exactMatch,suppressThrow});if(!focus)return null;if(IS_FIREFOX&&!isCollapsed&&anchorNode!==focusNode){var isEnd=index_es.ML.isEnd(editor,anchor,anchor.path),isStart=index_es.ML.isStart(editor,focus,focus.path);if(isEnd)anchor=index_es.ML.after(editor,anchor)||anchor;if(isStart)focus=index_es.ML.before(editor,focus)||focus}var range={anchor,focus};return index_es.e6.isExpanded(range)&&index_es.e6.isForward(range)&&isDOMElement(focusNode)&&index_es.ML.void(editor,{at:range.focus,mode:"highest"})&&(range=index_es.ML.unhangRange(editor,range,{voids:!0})),range}};function verifyDiffState(editor,textDiff){var{path,diff}=textDiff;if(!index_es.ML.hasPath(editor,path))return!1;var node=index_es.NB.get(editor,path);if(!index_es.xv.isText(node))return!1;if(diff.start!==node.text.length||0===diff.text.length)return node.text.slice(diff.start,diff.start+diff.text.length)===diff.text;var nextPath=index_es.y$.next(path);if(!index_es.ML.hasPath(editor,nextPath))return!1;var nextNode=index_es.NB.get(editor,nextPath);return index_es.xv.isText(nextNode)&&nextNode.text.startsWith(diff.text)}function applyStringDiff(text){for(var _len=arguments.length,diffs=new Array(_len>1?_len-1:0),_key=1;_key<_len;_key++)diffs[_key-1]=arguments[_key];return diffs.reduce(((text,diff)=>text.slice(0,diff.start)+diff.text+text.slice(diff.end)),text)}function normalizeStringDiff(targetText,diff){var{start,end,text}=diff,removedText=targetText.slice(start,end),prefixLength=function longestCommonPrefixLength(str,another){for(var length=Math.min(str.length,another.length),i=0;i<length;i++)if(str.charAt(i)!==another.charAt(i))return i;return length}(removedText,text),suffixLength=function longestCommonSuffixLength(str,another,max){for(var length=Math.min(str.length,another.length,max),i=0;i<length;i++)if(str.charAt(str.length-i-1)!==another.charAt(another.length-i-1))return i;return length}(removedText,text,Math.min(removedText.length-prefixLength,text.length-prefixLength)),normalized={start:start+prefixLength,end:end-suffixLength,text:text.slice(prefixLength,text.length-suffixLength)};return normalized.start===normalized.end&&0===normalized.text.length?null:normalized}function targetRange(textDiff){var{path,diff}=textDiff;return{anchor:{path,offset:diff.start},focus:{path,offset:diff.end}}}function normalizePoint(editor,point){var{path,offset}=point;if(!index_es.ML.hasPath(editor,path))return null;var leaf=index_es.NB.get(editor,path);if(!index_es.xv.isText(leaf))return null;var parentBlock=index_es.ML.above(editor,{match:n=>index_es.W_.isElement(n)&&index_es.ML.isBlock(editor,n),at:path});if(!parentBlock)return null;for(;offset>leaf.text.length;){var entry=index_es.ML.next(editor,{at:path,match:index_es.xv.isText});if(!entry||!index_es.y$.isDescendant(entry[1],parentBlock[1]))return null;offset-=leaf.text.length,leaf=entry[0],path=entry[1]}return{path,offset}}function normalizeRange(editor,range){var anchor=normalizePoint(editor,range.anchor);if(!anchor)return null;if(index_es.e6.isCollapsed(range))return{anchor,focus:anchor};var focus=normalizePoint(editor,range.focus);return focus?{anchor,focus}:null}function transformPendingPoint(editor,point,op){var pendingDiffs=EDITOR_TO_PENDING_DIFFS.get(editor),textDiff=null==pendingDiffs?void 0:pendingDiffs.find((_ref=>{var{path}=_ref;return index_es.y$.equals(path,point.path)}));if(!textDiff||point.offset<=textDiff.diff.start)return index_es.E9.transform(point,op,{affinity:"backward"});var{diff}=textDiff;if(point.offset<=diff.start+diff.text.length){var _anchor={path:point.path,offset:diff.start},_transformed=index_es.E9.transform(_anchor,op,{affinity:"backward"});return _transformed?{path:_transformed.path,offset:_transformed.offset+point.offset-diff.start}:null}var anchor={path:point.path,offset:point.offset-diff.text.length+diff.end-diff.start},transformed=index_es.E9.transform(anchor,op,{affinity:"backward"});return transformed?"split_node"===op.type&&index_es.y$.equals(op.path,point.path)&&anchor.offset<op.position&&diff.start<op.position?transformed:{path:transformed.path,offset:transformed.offset+diff.text.length-diff.end+diff.start}:null}function transformPendingRange(editor,range,op){var anchor=transformPendingPoint(editor,range.anchor,op);if(!anchor)return null;if(index_es.e6.isCollapsed(range))return{anchor,focus:anchor};var focus=transformPendingPoint(editor,range.focus,op);return focus?{anchor,focus}:null}function ownKeys$3(object,enumerableOnly){var keys=Object.keys(object);if(Object.getOwnPropertySymbols){var symbols=Object.getOwnPropertySymbols(object);enumerableOnly&&(symbols=symbols.filter((function(sym){return Object.getOwnPropertyDescriptor(object,sym).enumerable}))),keys.push.apply(keys,symbols)}return keys}function _objectSpread$3(target){for(var i=1;i<arguments.length;i++){var source=null!=arguments[i]?arguments[i]:{};i%2?ownKeys$3(Object(source),!0).forEach((function(key){_defineProperty(target,key,source[key])})):Object.getOwnPropertyDescriptors?Object.defineProperties(target,Object.getOwnPropertyDescriptors(source)):ownKeys$3(Object(source)).forEach((function(key){Object.defineProperty(target,key,Object.getOwnPropertyDescriptor(source,key))}))}return target}function createAndroidInputManager(_ref){var{editor,scheduleOnDOMSelectionChange,onDOMSelectionChange}=_ref,flushing=!1,compositionEndTimeoutId=null,flushTimeoutId=null,actionTimeoutId=null,idCounter=0,insertPositionHint=!1,applyPendingSelection=()=>{var pendingSelection=EDITOR_TO_PENDING_SELECTION.get(editor);if(EDITOR_TO_PENDING_SELECTION.delete(editor),pendingSelection){var{selection}=editor,normalized=normalizeRange(editor,pendingSelection);!normalized||selection&&index_es.e6.equals(normalized,selection)||index_es.YR.select(editor,normalized)}},flush=()=>{if(flushTimeoutId&&(clearTimeout(flushTimeoutId),flushTimeoutId=null),actionTimeoutId&&(clearTimeout(actionTimeoutId),actionTimeoutId=null),hasPendingDiffs()||hasPendingAction()){flushing||(flushing=!0,setTimeout((()=>flushing=!1))),hasPendingAction()&&(flushing="action");var selectionRef=editor.selection&&index_es.ML.rangeRef(editor,editor.selection,{affinity:"forward"});EDITOR_TO_USER_MARKS.set(editor,editor.marks),EDITOR_TO_PENDING_ACTION.get(editor),EDITOR_TO_PENDING_DIFFS.get(editor);for(var diff,scheduleSelectionChange=hasPendingDiffs();diff=null===(_EDITOR_TO_PENDING_DI=EDITOR_TO_PENDING_DIFFS.get(editor))||void 0===_EDITOR_TO_PENDING_DI?void 0:_EDITOR_TO_PENDING_DI[0];){var _EDITOR_TO_PENDING_DI,_EDITOR_TO_PENDING_DI2,pendingMarks=EDITOR_TO_PENDING_INSERTION_MARKS.get(editor);void 0!==pendingMarks&&(EDITOR_TO_PENDING_INSERTION_MARKS.delete(editor),editor.marks=pendingMarks),pendingMarks&&!1===insertPositionHint&&(insertPositionHint=null);var range=targetRange(diff);editor.selection&&index_es.e6.equals(editor.selection,range)||index_es.YR.select(editor,range),diff.diff.text?index_es.ML.insertText(editor,diff.diff.text):index_es.ML.deleteFragment(editor),EDITOR_TO_PENDING_DIFFS.set(editor,null===(_EDITOR_TO_PENDING_DI2=EDITOR_TO_PENDING_DIFFS.get(editor))||void 0===_EDITOR_TO_PENDING_DI2?void 0:_EDITOR_TO_PENDING_DI2.filter((_ref2=>{var{id}=_ref2;return id!==diff.id}))),verifyDiffState(editor,diff)||(scheduleSelectionChange=!1,EDITOR_TO_PENDING_ACTION.delete(editor),EDITOR_TO_USER_MARKS.delete(editor),flushing="action",EDITOR_TO_PENDING_SELECTION.delete(editor),scheduleOnDOMSelectionChange.cancel(),onDOMSelectionChange.cancel(),null==selectionRef||selectionRef.unref())}var selection=null==selectionRef?void 0:selectionRef.unref();if(!selection||EDITOR_TO_PENDING_SELECTION.get(editor)||editor.selection&&index_es.e6.equals(selection,editor.selection)||index_es.YR.select(editor,selection),hasPendingAction())(()=>{var action=EDITOR_TO_PENDING_ACTION.get(editor);if(EDITOR_TO_PENDING_ACTION.delete(editor),action){if(action.at){var target=index_es.E9.isPoint(action.at)?normalizePoint(editor,action.at):normalizeRange(editor,action.at);if(!target)return;var _targetRange=index_es.ML.range(editor,target);editor.selection&&index_es.e6.equals(editor.selection,_targetRange)||index_es.YR.select(editor,target)}action.run()}})();else{scheduleSelectionChange&&scheduleOnDOMSelectionChange(),scheduleOnDOMSelectionChange.flush(),onDOMSelectionChange.flush(),applyPendingSelection();var userMarks=EDITOR_TO_USER_MARKS.get(editor);EDITOR_TO_USER_MARKS.delete(editor),void 0!==userMarks&&(editor.marks=userMarks,editor.onChange())}}else applyPendingSelection()},updatePlaceholderVisibility=function updatePlaceholderVisibility(){var forceHide=arguments.length>0&&void 0!==arguments[0]&&arguments[0],placeholderElement=EDITOR_TO_PLACEHOLDER_ELEMENT.get(editor);placeholderElement&&(hasPendingDiffs()||forceHide?placeholderElement.style.display="none":placeholderElement.style.removeProperty("display"))},storeDiff=(path,diff)=>{var _EDITOR_TO_PENDING_DI3,pendingDiffs=null!==(_EDITOR_TO_PENDING_DI3=EDITOR_TO_PENDING_DIFFS.get(editor))&&void 0!==_EDITOR_TO_PENDING_DI3?_EDITOR_TO_PENDING_DI3:[];EDITOR_TO_PENDING_DIFFS.set(editor,pendingDiffs);var target=index_es.NB.leaf(editor,path),idx=pendingDiffs.findIndex((change=>index_es.y$.equals(change.path,path)));if(idx<0)return normalizeStringDiff(target.text,diff)&&pendingDiffs.push({path,diff,id:idCounter++}),void updatePlaceholderVisibility();var merged=function mergeStringDiffs(targetText,a,b){var start=Math.min(a.start,b.start),overlap=Math.max(0,Math.min(a.start+a.text.length,b.end)-b.start),applied=applyStringDiff(targetText,a,b),sliceEnd=Math.max(b.start+b.text.length,a.start+a.text.length+(a.start+a.text.length>b.start?b.text.length:0)-overlap),text=applied.slice(start,sliceEnd);return normalizeStringDiff(targetText,{start,end:Math.max(a.end,b.end-a.text.length+(a.end-a.start)),text})}(target.text,pendingDiffs[idx].diff,diff);if(!merged)return pendingDiffs.splice(idx,1),void updatePlaceholderVisibility();pendingDiffs[idx]=_objectSpread$3(_objectSpread$3({},pendingDiffs[idx]),{},{diff:merged})},scheduleAction=function scheduleAction(run){var{at}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};insertPositionHint=!1,EDITOR_TO_PENDING_SELECTION.delete(editor),scheduleOnDOMSelectionChange.cancel(),onDOMSelectionChange.cancel(),hasPendingAction()&&flush(),EDITOR_TO_PENDING_ACTION.set(editor,{at,run}),actionTimeoutId=setTimeout(flush)},hasPendingAction=()=>!!EDITOR_TO_PENDING_ACTION.get(editor),hasPendingDiffs=()=>{var _EDITOR_TO_PENDING_DI4;return!(null===(_EDITOR_TO_PENDING_DI4=EDITOR_TO_PENDING_DIFFS.get(editor))||void 0===_EDITOR_TO_PENDING_DI4||!_EDITOR_TO_PENDING_DI4.length)},handleUserSelect=range=>{EDITOR_TO_PENDING_SELECTION.set(editor,range),flushTimeoutId&&(clearTimeout(flushTimeoutId),flushTimeoutId=null);var{selection}=editor;if(range){var pathChanged=!selection||!index_es.y$.equals(selection.anchor.path,range.anchor.path),parentPathChanged=!selection||!index_es.y$.equals(selection.anchor.path.slice(0,-1),range.anchor.path.slice(0,-1));(pathChanged&&insertPositionHint||parentPathChanged)&&(insertPositionHint=!1),(pathChanged||hasPendingDiffs())&&(flushTimeoutId=setTimeout(flush,200))}},scheduleFlush=()=>{hasPendingAction()||(actionTimeoutId=setTimeout(flush))};return{flush,scheduleFlush,hasPendingDiffs,hasPendingAction,hasPendingChanges:()=>hasPendingAction()||hasPendingDiffs(),isFlushing:()=>flushing,handleUserSelect,handleCompositionEnd:_event=>{compositionEndTimeoutId&&clearTimeout(compositionEndTimeoutId),compositionEndTimeoutId=setTimeout((()=>{IS_COMPOSING.set(editor,!1),flush()}),25)},handleCompositionStart:_event=>{IS_COMPOSING.set(editor,!0),compositionEndTimeoutId&&(clearTimeout(compositionEndTimeoutId),compositionEndTimeoutId=null)},handleDOMBeforeInput:event=>{var _targetRange2;flushTimeoutId&&(clearTimeout(flushTimeoutId),flushTimeoutId=null);var{inputType:type}=event,targetRange=null,data=event.dataTransfer||event.data||void 0;!1!==insertPositionHint&&"insertText"!==type&&"insertCompositionText"!==type&&(insertPositionHint=!1);var[nativeTargetRange]=event.getTargetRanges();nativeTargetRange&&(targetRange=ReactEditor.toSlateRange(editor,nativeTargetRange,{exactMatch:!1,suppressThrow:!0}));var domSelection=ReactEditor.getWindow(editor).getSelection();if(!targetRange&&domSelection&&(nativeTargetRange=domSelection,targetRange=ReactEditor.toSlateRange(editor,domSelection,{exactMatch:!1,suppressThrow:!0})),targetRange=null!==(_targetRange2=targetRange)&&void 0!==_targetRange2?_targetRange2:editor.selection){var value,canStoreDiff=!0;if(type.startsWith("delete")){if(index_es.e6.isExpanded(targetRange)){var[_start,_end]=index_es.e6.edges(targetRange);if(index_es.NB.leaf(editor,_start.path).text.length===_start.offset&&0===_end.offset){var next=index_es.ML.next(editor,{at:_start.path,match:index_es.xv.isText});next&&index_es.y$.equals(next[1],_end.path)&&(targetRange={anchor:_end,focus:_end})}}var direction=type.endsWith("Backward")?"backward":"forward",[start,end]=index_es.e6.edges(targetRange),[leaf,path]=index_es.ML.leaf(editor,start.path),diff={text:"",start:start.offset,end:end.offset},pendingDiffs=EDITOR_TO_PENDING_DIFFS.get(editor),relevantPendingDiffs=null==pendingDiffs?void 0:pendingDiffs.find((change=>index_es.y$.equals(change.path,path))),diffs=relevantPendingDiffs?[relevantPendingDiffs.diff,diff]:[diff];if(0===applyStringDiff(leaf.text,...diffs).length&&(canStoreDiff=!1),index_es.e6.isExpanded(targetRange)){if(canStoreDiff&&index_es.y$.equals(targetRange.anchor.path,targetRange.focus.path)){var point={path:targetRange.anchor.path,offset:start.offset},range=index_es.ML.range(editor,point,point);return handleUserSelect(range),storeDiff(targetRange.anchor.path,{text:"",end:end.offset,start:start.offset})}return scheduleAction((()=>index_es.ML.deleteFragment(editor,{direction})),{at:targetRange})}}switch(type){case"deleteByComposition":case"deleteByCut":case"deleteByDrag":return scheduleAction((()=>index_es.ML.deleteFragment(editor)),{at:targetRange});case"deleteContent":case"deleteContentForward":var{anchor}=targetRange;if(canStoreDiff&&index_es.e6.isCollapsed(targetRange)){var targetNode=index_es.NB.leaf(editor,anchor.path);if(anchor.offset<targetNode.text.length)return storeDiff(anchor.path,{text:"",start:anchor.offset,end:anchor.offset+1})}return scheduleAction((()=>index_es.ML.deleteForward(editor)),{at:targetRange});case"deleteContentBackward":var _nativeTargetRange,{anchor:_anchor}=targetRange,nativeCollapsed=isDOMSelection(nativeTargetRange)?nativeTargetRange.isCollapsed:!(null===(_nativeTargetRange=nativeTargetRange)||void 0===_nativeTargetRange||!_nativeTargetRange.collapsed);return canStoreDiff&&nativeCollapsed&&index_es.e6.isCollapsed(targetRange)&&_anchor.offset>0?storeDiff(_anchor.path,{text:"",start:_anchor.offset-1,end:_anchor.offset}):scheduleAction((()=>index_es.ML.deleteBackward(editor)),{at:targetRange});case"deleteEntireSoftLine":return scheduleAction((()=>{index_es.ML.deleteBackward(editor,{unit:"line"}),index_es.ML.deleteForward(editor,{unit:"line"})}),{at:targetRange});case"deleteHardLineBackward":return scheduleAction((()=>index_es.ML.deleteBackward(editor,{unit:"block"})),{at:targetRange});case"deleteSoftLineBackward":return scheduleAction((()=>index_es.ML.deleteBackward(editor,{unit:"line"})),{at:targetRange});case"deleteHardLineForward":return scheduleAction((()=>index_es.ML.deleteForward(editor,{unit:"block"})),{at:targetRange});case"deleteSoftLineForward":return scheduleAction((()=>index_es.ML.deleteForward(editor,{unit:"line"})),{at:targetRange});case"deleteWordBackward":return scheduleAction((()=>index_es.ML.deleteBackward(editor,{unit:"word"})),{at:targetRange});case"deleteWordForward":return scheduleAction((()=>index_es.ML.deleteForward(editor,{unit:"word"})),{at:targetRange});case"insertLineBreak":return scheduleAction((()=>index_es.ML.insertSoftBreak(editor)),{at:targetRange});case"insertParagraph":return scheduleAction((()=>index_es.ML.insertBreak(editor)),{at:targetRange});case"insertCompositionText":case"deleteCompositionText":case"insertFromComposition":case"insertFromDrop":case"insertFromPaste":case"insertFromYank":case"insertReplacementText":case"insertText":if("DataTransfer"===(null==(value=data)?void 0:value.constructor.name))return scheduleAction((()=>ReactEditor.insertData(editor,data)),{at:targetRange});var _text=null!=data?data:"";if(EDITOR_TO_PENDING_INSERTION_MARKS.get(editor)&&(_text=_text.replace("\ufeff","")),"insertText"===type&&/.*\n.*\n$/.test(_text)&&(_text=_text.slice(0,-1)),_text.includes("\n"))return scheduleAction((()=>{var parts=_text.split("\n");parts.forEach(((line,i)=>{line&&index_es.ML.insertText(editor,line),i!==parts.length-1&&index_es.ML.insertSoftBreak(editor)}))}),{at:targetRange});if(index_es.y$.equals(targetRange.anchor.path,targetRange.focus.path)){var[_start2,_end2]=index_es.e6.edges(targetRange),_diff={start:_start2.offset,end:_end2.offset,text:_text};if(_text&&insertPositionHint&&"insertCompositionText"===type){var hintPosition=insertPositionHint.start+insertPositionHint.text.search(/\S|$/);_diff.start+_diff.text.search(/\S|$/)===hintPosition+1&&_diff.end===insertPositionHint.start+insertPositionHint.text.length?(_diff.start-=1,insertPositionHint=null,scheduleFlush()):insertPositionHint=!1}else insertPositionHint="insertText"===type&&(null===insertPositionHint?_diff:!(!insertPositionHint||!index_es.e6.isCollapsed(targetRange)||insertPositionHint.end+insertPositionHint.text.length!==_start2.offset)&&_objectSpread$3(_objectSpread$3({},insertPositionHint),{},{text:insertPositionHint.text+_text}));if(canStoreDiff)return void storeDiff(_start2.path,_diff)}return scheduleAction((()=>index_es.ML.insertText(editor,_text)),{at:targetRange})}}},handleKeyDown:_=>{hasPendingDiffs()||(updatePlaceholderVisibility(!0),setTimeout(updatePlaceholderVisibility))},handleDomMutations:mutations=>{var _EDITOR_TO_FORCE_REND;hasPendingDiffs()||hasPendingAction()||mutations.some((mutation=>isTrackedMutation(editor,mutation,mutations)))&&(null===(_EDITOR_TO_FORCE_REND=EDITOR_TO_FORCE_RENDER.get(editor))||void 0===_EDITOR_TO_FORCE_REND||_EDITOR_TO_FORCE_REND())},handleInput:()=>{!hasPendingAction()&&hasPendingDiffs()||flush()}}}var useIsomorphicLayoutEffect=CAN_USE_DOM?react.useLayoutEffect:react.useEffect;var _excluded$3=["node"];function ownKeys$2(object,enumerableOnly){var keys=Object.keys(object);if(Object.getOwnPropertySymbols){var symbols=Object.getOwnPropertySymbols(object);enumerableOnly&&(symbols=symbols.filter((function(sym){return Object.getOwnPropertyDescriptor(object,sym).enumerable}))),keys.push.apply(keys,symbols)}return keys}var MUTATION_OBSERVER_CONFIG$1={subtree:!0,childList:!0,characterData:!0},useAndroidInputManager=IS_ANDROID?_ref=>{var{node}=_ref,options=_objectWithoutProperties(_ref,_excluded$3);if(!IS_ANDROID)return null;var editor=useSlateStatic(),isMounted=function useIsMounted(){var isMountedRef=(0,react.useRef)(!1);return(0,react.useEffect)((()=>(isMountedRef.current=!0,()=>{isMountedRef.current=!1})),[]),isMountedRef.current}(),[inputManager]=(0,react.useState)((()=>createAndroidInputManager(function _objectSpread$2(target){for(var i=1;i<arguments.length;i++){var source=null!=arguments[i]?arguments[i]:{};i%2?ownKeys$2(Object(source),!0).forEach((function(key){_defineProperty(target,key,source[key])})):Object.getOwnPropertyDescriptors?Object.defineProperties(target,Object.getOwnPropertyDescriptors(source)):ownKeys$2(Object(source)).forEach((function(key){Object.defineProperty(target,key,Object.getOwnPropertyDescriptor(source,key))}))}return target}({editor},options))));return function useMutationObserver(node,callback,options){var[mutationObserver]=(0,react.useState)((()=>new MutationObserver(callback)));useIsomorphicLayoutEffect((()=>{mutationObserver.takeRecords()})),(0,react.useEffect)((()=>{if(!node.current)throw new Error("Failed to attach MutationObserver, `node` is undefined");return mutationObserver.observe(node.current,options),()=>mutationObserver.disconnect()}),[mutationObserver,node,options])}(node,inputManager.handleDomMutations,MUTATION_OBSERVER_CONFIG$1),EDITOR_TO_SCHEDULE_FLUSH.set(editor,inputManager.scheduleFlush),isMounted&&inputManager.flush(),inputManager}:()=>null,_excluded$2=["anchor","focus"],_excluded2$1=["anchor","focus"],isDecorationFlagsEqual=(range,other)=>{var obj1,obj2,rangeOwnProps=_objectWithoutProperties(range,_excluded$2),otherOwnProps=_objectWithoutProperties(other,_excluded2$1);return range[PLACEHOLDER_SYMBOL]===other[PLACEHOLDER_SYMBOL]&&(obj1=rangeOwnProps,obj2=otherOwnProps,Object.keys(obj1).length===Object.keys(obj2).length&&Object.keys(obj1).every((key=>obj2.hasOwnProperty(key)&&obj1[key]===obj2[key])))},index_es_String=props=>{var{isLast,leaf,parent,text}=props,editor=useSlateStatic(),path=ReactEditor.findPath(editor,text),parentPath=index_es.y$.parent(path),isMarkPlaceholder=!0===leaf[MARK_PLACEHOLDER_SYMBOL];return editor.isVoid(parent)?react.createElement(ZeroWidthString,{length:index_es.NB.string(parent).length}):""!==leaf.text||parent.children[parent.children.length-1]!==text||editor.isInline(parent)||""!==index_es.ML.string(editor,parentPath)?""===leaf.text?react.createElement(ZeroWidthString,{isMarkPlaceholder}):isLast&&"\n"===leaf.text.slice(-1)?react.createElement(TextString,{isTrailing:!0,text:leaf.text}):react.createElement(TextString,{text:leaf.text}):react.createElement(ZeroWidthString,{isLineBreak:!0,isMarkPlaceholder})},TextString=props=>{var{text,isTrailing=!1}=props,ref=(0,react.useRef)(null),getTextContent=()=>"".concat(null!=text?text:"").concat(isTrailing?"\n":""),[initialText]=(0,react.useState)(getTextContent);return useIsomorphicLayoutEffect((()=>{var textWithTrailing=getTextContent();ref.current&&ref.current.textContent!==textWithTrailing&&(ref.current.textContent=textWithTrailing)})),react.createElement(MemoizedText$1,{ref},initialText)},MemoizedText$1=(0,react.memo)((0,react.forwardRef)(((props,ref)=>react.createElement("span",{"data-slate-string":!0,ref},props.children)))),ZeroWidthString=props=>{var{length=0,isLineBreak=!1,isMarkPlaceholder=!1}=props,attributes={"data-slate-zero-width":isLineBreak?"n":"z","data-slate-length":length};return isMarkPlaceholder&&(attributes["data-slate-mark-placeholder"]=!0),react.createElement("span",Object.assign({},attributes),IS_ANDROID&&isLineBreak?null:"\ufeff",isLineBreak?react.createElement("br",null):null)};function clearTimeoutRef(timeoutRef){timeoutRef.current&&(clearTimeout(timeoutRef.current),timeoutRef.current=null)}var Leaf=props=>{var{leaf,isLast,text,parent,renderPlaceholder,renderLeaf=props=>react.createElement(DefaultLeaf,Object.assign({},props))}=props,editor=useSlateStatic(),placeholderResizeObserver=(0,react.useRef)(null),placeholderRef=(0,react.useRef)(null),[showPlaceholder,setShowPlaceholder]=(0,react.useState)(!1),showPlaceholderTimeoutRef=(0,react.useRef)(null),callbackPlaceholderRef=(0,react.useCallback)((placeholderEl=>{if(function disconnectPlaceholderResizeObserver(placeholderResizeObserver,releaseObserver){placeholderResizeObserver.current&&(placeholderResizeObserver.current.disconnect(),releaseObserver&&(placeholderResizeObserver.current=null))}(placeholderResizeObserver,null==placeholderEl),null==placeholderEl){var _leaf$onPlaceholderRe;EDITOR_TO_PLACEHOLDER_ELEMENT.delete(editor),null===(_leaf$onPlaceholderRe=leaf.onPlaceholderResize)||void 0===_leaf$onPlaceholderRe||_leaf$onPlaceholderRe.call(leaf,null)}else{if(EDITOR_TO_PLACEHOLDER_ELEMENT.set(editor,placeholderEl),!placeholderResizeObserver.current){var ResizeObserver$1=window.ResizeObserver||ResizeObserver;placeholderResizeObserver.current=new ResizeObserver$1((()=>{var _leaf$onPlaceholderRe2;null===(_leaf$onPlaceholderRe2=leaf.onPlaceholderResize)||void 0===_leaf$onPlaceholderRe2||_leaf$onPlaceholderRe2.call(leaf,placeholderEl)}))}placeholderResizeObserver.current.observe(placeholderEl),placeholderRef.current=placeholderEl}}),[placeholderRef,leaf,editor]),children=react.createElement(index_es_String,{isLast,leaf,parent,text}),leafIsPlaceholder=leaf[PLACEHOLDER_SYMBOL];if((0,react.useEffect)((()=>(leafIsPlaceholder?showPlaceholderTimeoutRef.current||(showPlaceholderTimeoutRef.current=setTimeout((()=>{setShowPlaceholder(!0),showPlaceholderTimeoutRef.current=null}),300)):(clearTimeoutRef(showPlaceholderTimeoutRef),setShowPlaceholder(!1)),()=>clearTimeoutRef(showPlaceholderTimeoutRef))),[leafIsPlaceholder,setShowPlaceholder]),leafIsPlaceholder&&showPlaceholder){var placeholderProps={children:leaf.placeholder,attributes:{"data-slate-placeholder":!0,style:{position:"absolute",top:0,pointerEvents:"none",width:"100%",maxWidth:"100%",display:"block",opacity:"0.333",userSelect:"none",textDecoration:"none",WebkitUserModify:IS_SAFARI?"inherit":void 0},contentEditable:!1,ref:callbackPlaceholderRef}};children=react.createElement(react.Fragment,null,renderPlaceholder(placeholderProps),children)}return renderLeaf({attributes:{"data-slate-leaf":!0},children,leaf,text})},MemoizedLeaf=react.memo(Leaf,((prev,next)=>next.parent===prev.parent&&next.isLast===prev.isLast&&next.renderLeaf===prev.renderLeaf&&next.renderPlaceholder===prev.renderPlaceholder&&next.text===prev.text&&index_es.xv.equals(next.leaf,prev.leaf)&&next.leaf[PLACEHOLDER_SYMBOL]===prev.leaf[PLACEHOLDER_SYMBOL])),DefaultLeaf=props=>{var{attributes,children}=props;return react.createElement("span",Object.assign({},attributes),children)},Text=props=>{for(var{decorations,isLast,parent,renderPlaceholder,renderLeaf,text}=props,editor=useSlateStatic(),ref=(0,react.useRef)(null),leaves=index_es.xv.decorations(text,decorations),key=ReactEditor.findKey(editor,text),children=[],i=0;i<leaves.length;i++){var leaf=leaves[i];children.push(react.createElement(MemoizedLeaf,{isLast:isLast&&i===leaves.length-1,key:"".concat(key.id,"-").concat(i),renderPlaceholder,leaf,text,parent,renderLeaf}))}var callbackRef=(0,react.useCallback)((span=>{var KEY_TO_ELEMENT=EDITOR_TO_KEY_TO_ELEMENT.get(editor);span?(null==KEY_TO_ELEMENT||KEY_TO_ELEMENT.set(key,span),NODE_TO_ELEMENT.set(text,span),ELEMENT_TO_NODE.set(span,text)):(null==KEY_TO_ELEMENT||KEY_TO_ELEMENT.delete(key),NODE_TO_ELEMENT.delete(text),ref.current&&ELEMENT_TO_NODE.delete(ref.current)),ref.current=span}),[ref,editor,key,text]);return react.createElement("span",{"data-slate-node":"text",ref:callbackRef},children)},MemoizedText=react.memo(Text,((prev,next)=>next.parent===prev.parent&&next.isLast===prev.isLast&&next.renderLeaf===prev.renderLeaf&&next.renderPlaceholder===prev.renderPlaceholder&&next.text===prev.text&&((list,another)=>{if(list.length!==another.length)return!1;for(var i=0;i<list.length;i++){var range=list[i],other=another[i];if(range.anchor.offset!==other.anchor.offset||range.focus.offset!==other.focus.offset||!isDecorationFlagsEqual(range,other))return!1}return!0})(next.decorations,prev.decorations))),index_es_Element=props=>{var{decorations,element,renderElement=p=>react.createElement(DefaultElement,Object.assign({},p)),renderPlaceholder,renderLeaf,selection}=props,editor=useSlateStatic(),readOnly=useReadOnly(),isInline=editor.isInline(element),key=ReactEditor.findKey(editor,element),ref=(0,react.useCallback)((ref=>{var KEY_TO_ELEMENT=EDITOR_TO_KEY_TO_ELEMENT.get(editor);ref?(null==KEY_TO_ELEMENT||KEY_TO_ELEMENT.set(key,ref),NODE_TO_ELEMENT.set(element,ref),ELEMENT_TO_NODE.set(ref,element)):(null==KEY_TO_ELEMENT||KEY_TO_ELEMENT.delete(key),NODE_TO_ELEMENT.delete(element))}),[editor,key,element]),children=useChildren({decorations,node:element,renderElement,renderPlaceholder,renderLeaf,selection}),attributes={"data-slate-node":"element",ref};if(isInline&&(attributes["data-slate-inline"]=!0),!isInline&&index_es.ML.hasInlines(editor,element)){var text=index_es.NB.string(element),dir=direction_default()(text);"rtl"===dir&&(attributes.dir=dir)}if(index_es.ML.isVoid(editor,element)){attributes["data-slate-void"]=!0,!readOnly&&isInline&&(attributes.contentEditable=!1);var Tag=isInline?"span":"div",[[_text]]=index_es.NB.texts(element);children=react.createElement(Tag,{"data-slate-spacer":!0,style:{height:"0",color:"transparent",outline:"none",position:"absolute"}},react.createElement(MemoizedText,{renderPlaceholder,decorations:[],isLast:!1,parent:element,text:_text})),NODE_TO_INDEX.set(_text,0),NODE_TO_PARENT.set(_text,element)}return renderElement({attributes,children,element})},MemoizedElement=react.memo(index_es_Element,((prev,next)=>prev.element===next.element&&prev.renderElement===next.renderElement&&prev.renderLeaf===next.renderLeaf&&prev.renderPlaceholder===next.renderPlaceholder&&((list,another)=>{if(list.length!==another.length)return!1;for(var i=0;i<list.length;i++){var range=list[i],other=another[i];if(!index_es.e6.equals(range,other)||!isDecorationFlagsEqual(range,other))return!1}return!0})(prev.decorations,next.decorations)&&(prev.selection===next.selection||!!prev.selection&&!!next.selection&&index_es.e6.equals(prev.selection,next.selection)))),DefaultElement=props=>{var{attributes,children,element}=props,Tag=useSlateStatic().isInline(element)?"span":"div";return react.createElement(Tag,Object.assign({},attributes,{style:{position:"relative"}}),children)},DecorateContext=(0,react.createContext)((()=>[])),SelectedContext=(0,react.createContext)(!1),useChildren=props=>{for(var{decorations,node,renderElement,renderPlaceholder,renderLeaf,selection}=props,decorate=(0,react.useContext)(DecorateContext),editor=useSlateStatic(),path=ReactEditor.findPath(editor,node),children=[],isLeafBlock=index_es.W_.isElement(node)&&!editor.isInline(node)&&index_es.ML.hasInlines(editor,node),i=0;i<node.children.length;i++){var p=path.concat(i),n=node.children[i],key=ReactEditor.findKey(editor,n),range=index_es.ML.range(editor,p),sel=selection&&index_es.e6.intersection(range,selection),ds=decorate([n,p]);for(var dec of decorations){var d=index_es.e6.intersection(dec,range);d&&ds.push(d)}index_es.W_.isElement(n)?children.push(react.createElement(SelectedContext.Provider,{key:"provider-".concat(key.id),value:!!sel},react.createElement(MemoizedElement,{decorations:ds,element:n,key:key.id,renderElement,renderPlaceholder,renderLeaf,selection:sel}))):children.push(react.createElement(MemoizedText,{decorations:ds,key:key.id,isLast:isLeafBlock&&i===node.children.length-1,parent:node,renderPlaceholder,renderLeaf,text:n})),NODE_TO_INDEX.set(n,i),NODE_TO_PARENT.set(n,node)}return children},ReadOnlyContext=(0,react.createContext)(!1),useReadOnly=()=>(0,react.useContext)(ReadOnlyContext),SlateContext=(0,react.createContext)(null);var HOTKEYS={bold:"mod+b",compose:["down","left","right","up","backspace","enter"],moveBackward:"left",moveForward:"right",moveWordBackward:"ctrl+left",moveWordForward:"ctrl+right",deleteBackward:"shift?+backspace",deleteForward:"shift?+delete",extendBackward:"shift+left",extendForward:"shift+right",italic:"mod+i",insertSoftBreak:"shift+enter",splitBlock:"enter",undo:"mod+z"},APPLE_HOTKEYS={moveLineBackward:"opt+up",moveLineForward:"opt+down",moveWordBackward:"opt+left",moveWordForward:"opt+right",deleteBackward:["ctrl+backspace","ctrl+h"],deleteForward:["ctrl+delete","ctrl+d"],deleteLineBackward:"cmd+shift?+backspace",deleteLineForward:["cmd+shift?+delete","ctrl+k"],deleteWordBackward:"opt+shift?+backspace",deleteWordForward:"opt+shift?+delete",extendLineBackward:"opt+shift+up",extendLineForward:"opt+shift+down",redo:"cmd+shift+z",transposeCharacter:"ctrl+t"},WINDOWS_HOTKEYS={deleteWordBackward:"ctrl+shift?+backspace",deleteWordForward:"ctrl+shift?+delete",redo:["ctrl+y","ctrl+shift+z"]},create=key=>{var generic=HOTKEYS[key],apple=APPLE_HOTKEYS[key],windows=WINDOWS_HOTKEYS[key],isGeneric=generic&&(0,lib.TB)(generic),isApple=apple&&(0,lib.TB)(apple),isWindows=windows&&(0,lib.TB)(windows);return event=>!(!isGeneric||!isGeneric(event))||(!!(IS_APPLE&&isApple&&isApple(event))||!(IS_APPLE||!isWindows||!isWindows(event)))},Hotkeys={isBold:create("bold"),isCompose:create("compose"),isMoveBackward:create("moveBackward"),isMoveForward:create("moveForward"),isDeleteBackward:create("deleteBackward"),isDeleteForward:create("deleteForward"),isDeleteLineBackward:create("deleteLineBackward"),isDeleteLineForward:create("deleteLineForward"),isDeleteWordBackward:create("deleteWordBackward"),isDeleteWordForward:create("deleteWordForward"),isExtendBackward:create("extendBackward"),isExtendForward:create("extendForward"),isExtendLineBackward:create("extendLineBackward"),isExtendLineForward:create("extendLineForward"),isItalic:create("italic"),isMoveLineBackward:create("moveLineBackward"),isMoveLineForward:create("moveLineForward"),isMoveWordBackward:create("moveWordBackward"),isMoveWordForward:create("moveWordForward"),isRedo:create("redo"),isSoftBreak:create("insertSoftBreak"),isSplitBlock:create("splitBlock"),isTransposeCharacter:create("transposeCharacter"),isUndo:create("undo")},MUTATION_OBSERVER_CONFIG={subtree:!0,childList:!0,characterData:!0,characterDataOldValue:!0};class RestoreDOMComponent extends react.Component{constructor(){super(...arguments),this.context=null,this.manager=null,this.mutationObserver=null}observe(){var _this$mutationObserve,{node}=this.props;if(!node.current)throw new Error("Failed to attach MutationObserver, `node` is undefined");null===(_this$mutationObserve=this.mutationObserver)||void 0===_this$mutationObserve||_this$mutationObserve.observe(node.current,MUTATION_OBSERVER_CONFIG)}componentDidMount(){var{receivedUserInput}=this.props,editor=this.context;this.manager=((editor,receivedUserInput)=>{var bufferedMutations=[],clear=()=>{bufferedMutations=[]};return{registerMutations:mutations=>{if(receivedUserInput.current){var trackedMutations=mutations.filter((mutation=>isTrackedMutation(editor,mutation,mutations)));bufferedMutations.push(...trackedMutations)}},restoreDOM:function restoreDOM(){bufferedMutations.length>0&&(bufferedMutations.reverse().forEach((mutation=>{"characterData"!==mutation.type&&(mutation.removedNodes.forEach((node=>{mutation.target.insertBefore(node,mutation.nextSibling)})),mutation.addedNodes.forEach((node=>{mutation.target.removeChild(node)})))})),clear())},clear}})(editor,receivedUserInput),this.mutationObserver=new MutationObserver(this.manager.registerMutations),this.observe()}getSnapshotBeforeUpdate(){var _this$mutationObserve2,_this$mutationObserve3,_this$manager2,_this$manager,pendingMutations=null===(_this$mutationObserve2=this.mutationObserver)||void 0===_this$mutationObserve2?void 0:_this$mutationObserve2.takeRecords();null!=pendingMutations&&pendingMutations.length&&(null===(_this$manager=this.manager)||void 0===_this$manager||_this$manager.registerMutations(pendingMutations));return null===(_this$mutationObserve3=this.mutationObserver)||void 0===_this$mutationObserve3||_this$mutationObserve3.disconnect(),null===(_this$manager2=this.manager)||void 0===_this$manager2||_this$manager2.restoreDOM(),null}componentDidUpdate(){var _this$manager3;null===(_this$manager3=this.manager)||void 0===_this$manager3||_this$manager3.clear(),this.observe()}componentWillUnmount(){var _this$mutationObserve4;null===(_this$mutationObserve4=this.mutationObserver)||void 0===_this$mutationObserve4||_this$mutationObserve4.disconnect()}render(){return this.props.children}}RestoreDOMComponent.contextType=EditorContext;var RestoreDOM=IS_ANDROID?RestoreDOMComponent:_ref=>{var{children}=_ref;return react.createElement(react.Fragment,null,children)},_excluded$1=["autoFocus","decorate","onDOMBeforeInput","placeholder","readOnly","renderElement","renderLeaf","renderPlaceholder","scrollSelectionIntoView","style","as","disableDefaultStyles"],_excluded2=["text"];function ownKeys$1(object,enumerableOnly){var keys=Object.keys(object);if(Object.getOwnPropertySymbols){var symbols=Object.getOwnPropertySymbols(object);enumerableOnly&&(symbols=symbols.filter((function(sym){return Object.getOwnPropertyDescriptor(object,sym).enumerable}))),keys.push.apply(keys,symbols)}return keys}function _objectSpread$1(target){for(var i=1;i<arguments.length;i++){var source=null!=arguments[i]?arguments[i]:{};i%2?ownKeys$1(Object(source),!0).forEach((function(key){_defineProperty(target,key,source[key])})):Object.getOwnPropertyDescriptors?Object.defineProperties(target,Object.getOwnPropertyDescriptors(source)):ownKeys$1(Object(source)).forEach((function(key){Object.defineProperty(target,key,Object.getOwnPropertyDescriptor(source,key))}))}return target}var Children=props=>react.createElement(react.Fragment,null,useChildren(props)),Editable=props=>{var defaultRenderPlaceholder=(0,react.useCallback)((props=>react.createElement(DefaultPlaceholder,Object.assign({},props))),[]),{autoFocus,decorate=defaultDecorate,onDOMBeforeInput:propsOnDOMBeforeInput,placeholder,readOnly=!1,renderElement,renderLeaf,renderPlaceholder=defaultRenderPlaceholder,scrollSelectionIntoView=defaultScrollSelectionIntoView,style:userStyle={},as:Component="div",disableDefaultStyles=!1}=props,attributes=_objectWithoutProperties(props,_excluded$1),editor=(()=>{var context=(0,react.useContext)(SlateContext);if(!context)throw new Error("The `useSlate` hook must be used inside the <Slate> component's context.");var{editor}=context;return editor})(),[isComposing,setIsComposing]=(0,react.useState)(!1),ref=(0,react.useRef)(null),deferredOperations=(0,react.useRef)([]),[placeholderHeight,setPlaceholderHeight]=(0,react.useState)(),{onUserInput,receivedUserInput}=function useTrackUserInput(){var editor=useSlateStatic(),receivedUserInput=(0,react.useRef)(!1),animationFrameIdRef=(0,react.useRef)(0),onUserInput=(0,react.useCallback)((()=>{if(!receivedUserInput.current){receivedUserInput.current=!0;var window=ReactEditor.getWindow(editor);window.cancelAnimationFrame(animationFrameIdRef.current),animationFrameIdRef.current=window.requestAnimationFrame((()=>{receivedUserInput.current=!1}))}}),[editor]);return(0,react.useEffect)((()=>()=>cancelAnimationFrame(animationFrameIdRef.current)),[]),{receivedUserInput,onUserInput}}(),[,forceRender]=(0,react.useReducer)((s=>s+1),0);EDITOR_TO_FORCE_RENDER.set(editor,forceRender),IS_READ_ONLY.set(editor,readOnly);var state=(0,react.useMemo)((()=>({isDraggingInternally:!1,isUpdatingSelection:!1,latestElement:null,hasMarkPlaceholder:!1})),[]);(0,react.useEffect)((()=>{ref.current&&autoFocus&&ref.current.focus()}),[autoFocus]);var androidInputManagerRef=(0,react.useRef)(),onDOMSelectionChange=(0,react.useMemo)((()=>throttle_default()((()=>{var androidInputManager=androidInputManagerRef.current;if((IS_ANDROID||!ReactEditor.isComposing(editor))&&(!state.isUpdatingSelection||null!=androidInputManager&&androidInputManager.isFlushing())&&!state.isDraggingInternally){var root=ReactEditor.findDocumentOrShadowRoot(editor),{activeElement}=root,el=ReactEditor.toDOMNode(editor,editor),domSelection=root.getSelection();if(activeElement===el?(state.latestElement=activeElement,IS_FOCUSED.set(editor,!0)):IS_FOCUSED.delete(editor),!domSelection)return index_es.YR.deselect(editor);var{anchorNode,focusNode}=domSelection,anchorNodeSelectable=ReactEditor.hasEditableTarget(editor,anchorNode)||ReactEditor.isTargetInsideNonReadonlyVoid(editor,anchorNode),focusNodeSelectable=ReactEditor.hasEditableTarget(editor,focusNode)||ReactEditor.isTargetInsideNonReadonlyVoid(editor,focusNode);if(anchorNodeSelectable&&focusNodeSelectable){var range=ReactEditor.toSlateRange(editor,domSelection,{exactMatch:!1,suppressThrow:!0});range&&(ReactEditor.isComposing(editor)||null!=androidInputManager&&androidInputManager.hasPendingChanges()||null!=androidInputManager&&androidInputManager.isFlushing()?null==androidInputManager||androidInputManager.handleUserSelect(range):index_es.YR.select(editor,range))}!readOnly||anchorNodeSelectable&&focusNodeSelectable||index_es.YR.deselect(editor)}}),100)),[editor,readOnly,state]),scheduleOnDOMSelectionChange=(0,react.useMemo)((()=>debounce_default()(onDOMSelectionChange,0)),[onDOMSelectionChange]);androidInputManagerRef.current=useAndroidInputManager({node:ref,onDOMSelectionChange,scheduleOnDOMSelectionChange}),useIsomorphicLayoutEffect((()=>{var _androidInputManagerR,_androidInputManagerR2,window;ref.current&&(window=getDefaultView(ref.current))?(EDITOR_TO_WINDOW.set(editor,window),EDITOR_TO_ELEMENT.set(editor,ref.current),NODE_TO_ELEMENT.set(editor,ref.current),ELEMENT_TO_NODE.set(ref.current,editor)):NODE_TO_ELEMENT.delete(editor);var{selection}=editor,domSelection=ReactEditor.findDocumentOrShadowRoot(editor).getSelection();if(domSelection&&ReactEditor.isFocused(editor)&&(null===(_androidInputManagerR=androidInputManagerRef.current)||void 0===_androidInputManagerR||!_androidInputManagerR.hasPendingAction())){var setDomSelection=forceChange=>{var hasDomSelection="None"!==domSelection.type;if(selection||hasDomSelection){var editorElement=EDITOR_TO_ELEMENT.get(editor),hasDomSelectionInEditor=!1;if(editorElement.contains(domSelection.anchorNode)&&editorElement.contains(domSelection.focusNode)&&(hasDomSelectionInEditor=!0),hasDomSelection&&hasDomSelectionInEditor&&selection&&!forceChange){var slateRange=ReactEditor.toSlateRange(editor,domSelection,{exactMatch:!0,suppressThrow:!0});if(slateRange&&index_es.e6.equals(slateRange,selection)){var _anchorNode$parentEle;if(!state.hasMarkPlaceholder)return;var{anchorNode}=domSelection;if(null!=anchorNode&&null!==(_anchorNode$parentEle=anchorNode.parentElement)&&void 0!==_anchorNode$parentEle&&_anchorNode$parentEle.hasAttribute("data-slate-mark-placeholder"))return}}if(!selection||ReactEditor.hasRange(editor,selection)){state.isUpdatingSelection=!0;var newDomRange=selection&&ReactEditor.toDOMRange(editor,selection);return newDomRange?(index_es.e6.isBackward(selection)?domSelection.setBaseAndExtent(newDomRange.endContainer,newDomRange.endOffset,newDomRange.startContainer,newDomRange.startOffset):domSelection.setBaseAndExtent(newDomRange.startContainer,newDomRange.startOffset,newDomRange.endContainer,newDomRange.endOffset),scrollSelectionIntoView(editor,newDomRange)):domSelection.removeAllRanges(),newDomRange}editor.selection=ReactEditor.toSlateRange(editor,domSelection,{exactMatch:!1,suppressThrow:!0})}},newDomRange=setDomSelection(),ensureSelection="action"===(null===(_androidInputManagerR2=androidInputManagerRef.current)||void 0===_androidInputManagerR2?void 0:_androidInputManagerR2.isFlushing());if(IS_ANDROID&&ensureSelection){var timeoutId=null,animationFrameId=requestAnimationFrame((()=>{if(ensureSelection){var ensureDomSelection=forceChange=>{try{ReactEditor.toDOMNode(editor,editor).focus(),setDomSelection(forceChange)}catch(e){}};ensureDomSelection(),timeoutId=setTimeout((()=>{ensureDomSelection(!0),state.isUpdatingSelection=!1}))}}));return()=>{cancelAnimationFrame(animationFrameId),timeoutId&&clearTimeout(timeoutId)}}setTimeout((()=>{newDomRange&&IS_FIREFOX&&ReactEditor.toDOMNode(editor,editor).focus();state.isUpdatingSelection=!1}))}}));var onDOMBeforeInput=(0,react.useCallback)((event=>{if(onUserInput(),!readOnly&&ReactEditor.hasEditableTarget(editor,event.target)&&!isDOMEventHandled(event,propsOnDOMBeforeInput)){var _EDITOR_TO_USER_SELEC;if(androidInputManagerRef.current)return androidInputManagerRef.current.handleDOMBeforeInput(event);scheduleOnDOMSelectionChange.flush(),onDOMSelectionChange.flush();var{selection}=editor,{inputType:type}=event,data=event.dataTransfer||event.data||void 0,isCompositionChange="insertCompositionText"===type||"deleteCompositionText"===type;if(isCompositionChange&&ReactEditor.isComposing(editor))return;var native=!1;if("insertText"===type&&selection&&index_es.e6.isCollapsed(selection)&&event.data&&1===event.data.length&&/[a-z ]/i.test(event.data)&&0!==selection.anchor.offset){var _node$parentElement,_window$getComputedSt;native=!0,editor.marks&&(native=!1);var{anchor}=selection,[node,offset]=ReactEditor.toDOMPoint(editor,anchor),anchorNode=null===(_node$parentElement=node.parentElement)||void 0===_node$parentElement?void 0:_node$parentElement.closest("a"),window=ReactEditor.getWindow(editor);if(native&&anchorNode&&ReactEditor.hasDOMNode(editor,anchorNode)){var _lastText$textContent,lastText=null==window?void 0:window.document.createTreeWalker(anchorNode,NodeFilter.SHOW_TEXT).lastChild();lastText===node&&(null===(_lastText$textContent=lastText.textContent)||void 0===_lastText$textContent?void 0:_lastText$textContent.length)===offset&&(native=!1)}if(native&&node.parentElement&&"pre"===(null==window||null===(_window$getComputedSt=window.getComputedStyle(node.parentElement))||void 0===_window$getComputedSt?void 0:_window$getComputedSt.whiteSpace)){var block=index_es.ML.above(editor,{at:anchor.path,match:n=>index_es.W_.isElement(n)&&index_es.ML.isBlock(editor,n)});block&&index_es.NB.string(block[0]).includes("\t")&&(native=!1)}}if(!type.startsWith("delete")||type.startsWith("deleteBy")){var[targetRange]=event.getTargetRanges();if(targetRange){var range=ReactEditor.toSlateRange(editor,targetRange,{exactMatch:!1,suppressThrow:!1});if(!selection||!index_es.e6.equals(selection,range)){native=!1;var selectionRef=!isCompositionChange&&editor.selection&&index_es.ML.rangeRef(editor,editor.selection);index_es.YR.select(editor,range),selectionRef&&EDITOR_TO_USER_SELECTION.set(editor,selectionRef)}}}if(isCompositionChange)return;if(native||event.preventDefault(),selection&&index_es.e6.isExpanded(selection)&&type.startsWith("delete")){var direction=type.endsWith("Backward")?"backward":"forward";return void index_es.ML.deleteFragment(editor,{direction})}switch(type){case"deleteByComposition":case"deleteByCut":case"deleteByDrag":index_es.ML.deleteFragment(editor);break;case"deleteContent":case"deleteContentForward":index_es.ML.deleteForward(editor);break;case"deleteContentBackward":index_es.ML.deleteBackward(editor);break;case"deleteEntireSoftLine":index_es.ML.deleteBackward(editor,{unit:"line"}),index_es.ML.deleteForward(editor,{unit:"line"});break;case"deleteHardLineBackward":index_es.ML.deleteBackward(editor,{unit:"block"});break;case"deleteSoftLineBackward":index_es.ML.deleteBackward(editor,{unit:"line"});break;case"deleteHardLineForward":index_es.ML.deleteForward(editor,{unit:"block"});break;case"deleteSoftLineForward":index_es.ML.deleteForward(editor,{unit:"line"});break;case"deleteWordBackward":index_es.ML.deleteBackward(editor,{unit:"word"});break;case"deleteWordForward":index_es.ML.deleteForward(editor,{unit:"word"});break;case"insertLineBreak":index_es.ML.insertSoftBreak(editor);break;case"insertParagraph":index_es.ML.insertBreak(editor);break;case"insertFromComposition":case"insertFromDrop":case"insertFromPaste":case"insertFromYank":case"insertReplacementText":case"insertText":"insertFromComposition"===type&&ReactEditor.isComposing(editor)&&(setIsComposing(!1),IS_COMPOSING.set(editor,!1)),"DataTransfer"===(null==data?void 0:data.constructor.name)?ReactEditor.insertData(editor,data):"string"==typeof data&&(native?deferredOperations.current.push((()=>index_es.ML.insertText(editor,data))):index_es.ML.insertText(editor,data))}var toRestore=null===(_EDITOR_TO_USER_SELEC=EDITOR_TO_USER_SELECTION.get(editor))||void 0===_EDITOR_TO_USER_SELEC?void 0:_EDITOR_TO_USER_SELEC.unref();EDITOR_TO_USER_SELECTION.delete(editor),!toRestore||editor.selection&&index_es.e6.equals(editor.selection,toRestore)||index_es.YR.select(editor,toRestore)}}),[editor,onDOMSelectionChange,onUserInput,propsOnDOMBeforeInput,readOnly,scheduleOnDOMSelectionChange]),callbackRef=(0,react.useCallback)((node=>{null==node?(onDOMSelectionChange.cancel(),scheduleOnDOMSelectionChange.cancel(),EDITOR_TO_ELEMENT.delete(editor),NODE_TO_ELEMENT.delete(editor),ref.current&&HAS_BEFORE_INPUT_SUPPORT&&ref.current.removeEventListener("beforeinput",onDOMBeforeInput)):HAS_BEFORE_INPUT_SUPPORT&&node.addEventListener("beforeinput",onDOMBeforeInput),ref.current=node}),[onDOMSelectionChange,scheduleOnDOMSelectionChange,editor,onDOMBeforeInput]);useIsomorphicLayoutEffect((()=>{var window=ReactEditor.getWindow(editor);return window.document.addEventListener("selectionchange",scheduleOnDOMSelectionChange),()=>{window.document.removeEventListener("selectionchange",scheduleOnDOMSelectionChange)}}),[scheduleOnDOMSelectionChange]);var decorations=decorate([editor,[]]),showPlaceholder=placeholder&&1===editor.children.length&&1===Array.from(index_es.NB.texts(editor)).length&&""===index_es.NB.string(editor)&&!isComposing,placeHolderResizeHandler=(0,react.useCallback)((placeholderEl=>{var _placeholderEl$getBou;placeholderEl&&showPlaceholder?setPlaceholderHeight(null===(_placeholderEl$getBou=placeholderEl.getBoundingClientRect())||void 0===_placeholderEl$getBou?void 0:_placeholderEl$getBou.height):setPlaceholderHeight(void 0)}),[showPlaceholder]);if(showPlaceholder){var start=index_es.ML.start(editor,[]);decorations.push({[PLACEHOLDER_SYMBOL]:!0,placeholder,onPlaceholderResize:placeHolderResizeHandler,anchor:start,focus:start})}var{marks}=editor;if(state.hasMarkPlaceholder=!1,editor.selection&&index_es.e6.isCollapsed(editor.selection)&&marks){var{anchor}=editor.selection,leaf=index_es.NB.leaf(editor,anchor.path),rest=_objectWithoutProperties(leaf,_excluded2);if(!index_es.xv.equals(leaf,marks,{loose:!0})){state.hasMarkPlaceholder=!0;var unset=Object.fromEntries(Object.keys(rest).map((mark=>[mark,null])));decorations.push(_objectSpread$1(_objectSpread$1(_objectSpread$1({[MARK_PLACEHOLDER_SYMBOL]:!0},unset),marks),{},{anchor,focus:anchor}))}}return(0,react.useEffect)((()=>{setTimeout((()=>{var{selection}=editor;if(selection){var{anchor:_anchor}=selection,_text=index_es.NB.leaf(editor,_anchor.path);if(marks&&!index_es.xv.equals(_text,marks,{loose:!0}))return void EDITOR_TO_PENDING_INSERTION_MARKS.set(editor,marks)}EDITOR_TO_PENDING_INSERTION_MARKS.delete(editor)}))})),react.createElement(ReadOnlyContext.Provider,{value:readOnly},react.createElement(DecorateContext.Provider,{value:decorate},react.createElement(RestoreDOM,{node:ref,receivedUserInput},react.createElement(Component,Object.assign({role:readOnly?void 0:"textbox","aria-multiline":!readOnly||void 0},attributes,{spellCheck:!(!HAS_BEFORE_INPUT_SUPPORT&&CAN_USE_DOM)&&attributes.spellCheck,autoCorrect:HAS_BEFORE_INPUT_SUPPORT||!CAN_USE_DOM?attributes.autoCorrect:"false",autoCapitalize:HAS_BEFORE_INPUT_SUPPORT||!CAN_USE_DOM?attributes.autoCapitalize:"false","data-slate-editor":!0,"data-slate-node":"value",contentEditable:!readOnly,zindex:-1,suppressContentEditableWarning:!0,ref:callbackRef,style:_objectSpread$1(_objectSpread$1({},disableDefaultStyles?{}:_objectSpread$1({position:"relative",whiteSpace:"pre-wrap",wordWrap:"break-word"},placeholderHeight?{minHeight:placeholderHeight}:{})),userStyle),onBeforeInput:(0,react.useCallback)((event=>{if(!HAS_BEFORE_INPUT_SUPPORT&&!readOnly&&!isEventHandled(event,attributes.onBeforeInput)&&ReactEditor.hasSelectableTarget(editor,event.target)&&(event.preventDefault(),!ReactEditor.isComposing(editor))){var _text2=event.data;index_es.ML.insertText(editor,_text2)}}),[attributes.onBeforeInput,editor,readOnly]),onInput:(0,react.useCallback)((event=>{if(!isEventHandled(event,attributes.onInput))if(androidInputManagerRef.current)androidInputManagerRef.current.handleInput();else{for(var op of deferredOperations.current)op();deferredOperations.current=[]}}),[attributes.onInput]),onBlur:(0,react.useCallback)((event=>{if(!readOnly&&!state.isUpdatingSelection&&ReactEditor.hasSelectableTarget(editor,event.target)&&!isEventHandled(event,attributes.onBlur)){var root=ReactEditor.findDocumentOrShadowRoot(editor);if(state.latestElement!==root.activeElement){var{relatedTarget}=event;if(!(relatedTarget===ReactEditor.toDOMNode(editor,editor)||isDOMElement(relatedTarget)&&relatedTarget.hasAttribute("data-slate-spacer"))){if(null!=relatedTarget&&isDOMNode(relatedTarget)&&ReactEditor.hasDOMNode(editor,relatedTarget)){var node=ReactEditor.toSlateNode(editor,relatedTarget);if(index_es.W_.isElement(node)&&!editor.isVoid(node))return}if(IS_SAFARI){var domSelection=root.getSelection();null==domSelection||domSelection.removeAllRanges()}IS_FOCUSED.delete(editor)}}}}),[readOnly,state.isUpdatingSelection,state.latestElement,editor,attributes.onBlur]),onClick:(0,react.useCallback)((event=>{if(ReactEditor.hasTarget(editor,event.target)&&!isEventHandled(event,attributes.onClick)&&isDOMNode(event.target)){var node=ReactEditor.toSlateNode(editor,event.target),path=ReactEditor.findPath(editor,node);if(!index_es.ML.hasPath(editor,path)||index_es.NB.get(editor,path)!==node)return;if(3===event.detail&&path.length>=1){var blockPath=path;if(!index_es.W_.isElement(node)||!index_es.ML.isBlock(editor,node)){var _block$,block=index_es.ML.above(editor,{match:n=>index_es.W_.isElement(n)&&index_es.ML.isBlock(editor,n),at:path});blockPath=null!==(_block$=null==block?void 0:block[1])&&void 0!==_block$?_block$:path.slice(0,1)}var range=index_es.ML.range(editor,blockPath);return void index_es.YR.select(editor,range)}if(readOnly)return;var _start=index_es.ML.start(editor,path),end=index_es.ML.end(editor,path),startVoid=index_es.ML.void(editor,{at:_start}),endVoid=index_es.ML.void(editor,{at:end});if(startVoid&&endVoid&&index_es.y$.equals(startVoid[1],endVoid[1])){var _range=index_es.ML.range(editor,_start);index_es.YR.select(editor,_range)}}}),[editor,attributes.onClick,readOnly]),onCompositionEnd:(0,react.useCallback)((event=>{if(ReactEditor.hasSelectableTarget(editor,event.target)){var _androidInputManagerR3;if(ReactEditor.isComposing(editor)&&(setIsComposing(!1),IS_COMPOSING.set(editor,!1)),null===(_androidInputManagerR3=androidInputManagerRef.current)||void 0===_androidInputManagerR3||_androidInputManagerR3.handleCompositionEnd(event),isEventHandled(event,attributes.onCompositionEnd)||IS_ANDROID)return;if(!IS_SAFARI&&!IS_FIREFOX_LEGACY&&!IS_IOS&&!IS_WECHATBROWSER&&!IS_UC_MOBILE&&event.data){var placeholderMarks=EDITOR_TO_PENDING_INSERTION_MARKS.get(editor);EDITOR_TO_PENDING_INSERTION_MARKS.delete(editor),void 0!==placeholderMarks&&(EDITOR_TO_USER_MARKS.set(editor,editor.marks),editor.marks=placeholderMarks),index_es.ML.insertText(editor,event.data);var userMarks=EDITOR_TO_USER_MARKS.get(editor);EDITOR_TO_USER_MARKS.delete(editor),void 0!==userMarks&&(editor.marks=userMarks)}}}),[attributes.onCompositionEnd,editor]),onCompositionUpdate:(0,react.useCallback)((event=>{ReactEditor.hasSelectableTarget(editor,event.target)&&!isEventHandled(event,attributes.onCompositionUpdate)&&(ReactEditor.isComposing(editor)||(setIsComposing(!0),IS_COMPOSING.set(editor,!0)))}),[attributes.onCompositionUpdate,editor]),onCompositionStart:(0,react.useCallback)((event=>{if(ReactEditor.hasSelectableTarget(editor,event.target)){var _androidInputManagerR4;if(null===(_androidInputManagerR4=androidInputManagerRef.current)||void 0===_androidInputManagerR4||_androidInputManagerR4.handleCompositionStart(event),isEventHandled(event,attributes.onCompositionStart)||IS_ANDROID)return;setIsComposing(!0);var{selection}=editor;if(selection){if(index_es.e6.isExpanded(selection))return void index_es.ML.deleteFragment(editor);var inline=index_es.ML.above(editor,{match:n=>index_es.W_.isElement(n)&&index_es.ML.isInline(editor,n),mode:"highest"});if(inline){var[,inlinePath]=inline;if(index_es.ML.isEnd(editor,selection.anchor,inlinePath)){var point=index_es.ML.after(editor,inlinePath);index_es.YR.setSelection(editor,{anchor:point,focus:point})}}}}}),[attributes.onCompositionStart,editor]),onCopy:(0,react.useCallback)((event=>{!ReactEditor.hasSelectableTarget(editor,event.target)||isEventHandled(event,attributes.onCopy)||isDOMEventTargetInput(event)||(event.preventDefault(),ReactEditor.setFragmentData(editor,event.clipboardData,"copy"))}),[attributes.onCopy,editor]),onCut:(0,react.useCallback)((event=>{if(!readOnly&&ReactEditor.hasSelectableTarget(editor,event.target)&&!isEventHandled(event,attributes.onCut)&&!isDOMEventTargetInput(event)){event.preventDefault(),ReactEditor.setFragmentData(editor,event.clipboardData,"cut");var{selection}=editor;if(selection)if(index_es.e6.isExpanded(selection))index_es.ML.deleteFragment(editor);else{var node=index_es.NB.parent(editor,selection.anchor.path);index_es.ML.isVoid(editor,node)&&index_es.YR.delete(editor)}}}),[readOnly,editor,attributes.onCut]),onDragOver:(0,react.useCallback)((event=>{if(ReactEditor.hasTarget(editor,event.target)&&!isEventHandled(event,attributes.onDragOver)){var node=ReactEditor.toSlateNode(editor,event.target);index_es.W_.isElement(node)&&index_es.ML.isVoid(editor,node)&&event.preventDefault()}}),[attributes.onDragOver,editor]),onDragStart:(0,react.useCallback)((event=>{if(!readOnly&&ReactEditor.hasTarget(editor,event.target)&&!isEventHandled(event,attributes.onDragStart)){var node=ReactEditor.toSlateNode(editor,event.target),path=ReactEditor.findPath(editor,node);if(index_es.W_.isElement(node)&&index_es.ML.isVoid(editor,node)||index_es.ML.void(editor,{at:path,voids:!0})){var range=index_es.ML.range(editor,path);index_es.YR.select(editor,range)}state.isDraggingInternally=!0,ReactEditor.setFragmentData(editor,event.dataTransfer,"drag")}}),[readOnly,editor,attributes.onDragStart,state]),onDrop:(0,react.useCallback)((event=>{if(!readOnly&&ReactEditor.hasTarget(editor,event.target)&&!isEventHandled(event,attributes.onDrop)){event.preventDefault();var draggedRange=editor.selection,range=ReactEditor.findEventRange(editor,event),data=event.dataTransfer;index_es.YR.select(editor,range),state.isDraggingInternally&&(!draggedRange||index_es.e6.equals(draggedRange,range)||index_es.ML.void(editor,{at:range,voids:!0})||index_es.YR.delete(editor,{at:draggedRange})),ReactEditor.insertData(editor,data),ReactEditor.isFocused(editor)||ReactEditor.focus(editor)}state.isDraggingInternally=!1}),[readOnly,editor,attributes.onDrop,state]),onDragEnd:(0,react.useCallback)((event=>{!readOnly&&state.isDraggingInternally&&attributes.onDragEnd&&ReactEditor.hasTarget(editor,event.target)&&attributes.onDragEnd(event),state.isDraggingInternally=!1}),[readOnly,state,attributes,editor]),onFocus:(0,react.useCallback)((event=>{if(!readOnly&&!state.isUpdatingSelection&&ReactEditor.hasEditableTarget(editor,event.target)&&!isEventHandled(event,attributes.onFocus)){var el=ReactEditor.toDOMNode(editor,editor),root=ReactEditor.findDocumentOrShadowRoot(editor);if(state.latestElement=root.activeElement,IS_FIREFOX&&event.target!==el)return void el.focus();IS_FOCUSED.set(editor,!0)}}),[readOnly,state,editor,attributes.onFocus]),onKeyDown:(0,react.useCallback)((event=>{if(!readOnly&&ReactEditor.hasEditableTarget(editor,event.target)){var _androidInputManagerR5;null===(_androidInputManagerR5=androidInputManagerRef.current)||void 0===_androidInputManagerR5||_androidInputManagerR5.handleKeyDown(event);var{nativeEvent}=event;if(ReactEditor.isComposing(editor)&&!1===nativeEvent.isComposing&&(IS_COMPOSING.set(editor,!1),setIsComposing(!1)),isEventHandled(event,attributes.onKeyDown)||ReactEditor.isComposing(editor))return;var{selection}=editor,element=editor.children[null!==selection?selection.focus.path[0]:0],isRTL="rtl"===direction_default()(index_es.NB.string(element));if(Hotkeys.isRedo(nativeEvent)){event.preventDefault();var maybeHistoryEditor=editor;return void("function"==typeof maybeHistoryEditor.redo&&maybeHistoryEditor.redo())}if(Hotkeys.isUndo(nativeEvent)){event.preventDefault();var _maybeHistoryEditor=editor;return void("function"==typeof _maybeHistoryEditor.undo&&_maybeHistoryEditor.undo())}if(Hotkeys.isMoveLineBackward(nativeEvent))return event.preventDefault(),void index_es.YR.move(editor,{unit:"line",reverse:!0});if(Hotkeys.isMoveLineForward(nativeEvent))return event.preventDefault(),void index_es.YR.move(editor,{unit:"line"});if(Hotkeys.isExtendLineBackward(nativeEvent))return event.preventDefault(),void index_es.YR.move(editor,{unit:"line",edge:"focus",reverse:!0});if(Hotkeys.isExtendLineForward(nativeEvent))return event.preventDefault(),void index_es.YR.move(editor,{unit:"line",edge:"focus"});if(Hotkeys.isMoveBackward(nativeEvent))return event.preventDefault(),void(selection&&index_es.e6.isCollapsed(selection)?index_es.YR.move(editor,{reverse:!isRTL}):index_es.YR.collapse(editor,{edge:"start"}));if(Hotkeys.isMoveForward(nativeEvent))return event.preventDefault(),void(selection&&index_es.e6.isCollapsed(selection)?index_es.YR.move(editor,{reverse:isRTL}):index_es.YR.collapse(editor,{edge:"end"}));if(Hotkeys.isMoveWordBackward(nativeEvent))return event.preventDefault(),selection&&index_es.e6.isExpanded(selection)&&index_es.YR.collapse(editor,{edge:"focus"}),void index_es.YR.move(editor,{unit:"word",reverse:!isRTL});if(Hotkeys.isMoveWordForward(nativeEvent))return event.preventDefault(),selection&&index_es.e6.isExpanded(selection)&&index_es.YR.collapse(editor,{edge:"focus"}),void index_es.YR.move(editor,{unit:"word",reverse:isRTL});if(HAS_BEFORE_INPUT_SUPPORT){if((IS_CHROME||IS_SAFARI)&&selection&&(Hotkeys.isDeleteBackward(nativeEvent)||Hotkeys.isDeleteForward(nativeEvent))&&index_es.e6.isCollapsed(selection)){var currentNode=index_es.NB.parent(editor,selection.anchor.path);if(index_es.W_.isElement(currentNode)&&index_es.ML.isVoid(editor,currentNode)&&(index_es.ML.isInline(editor,currentNode)||index_es.ML.isBlock(editor,currentNode)))return event.preventDefault(),void index_es.ML.deleteBackward(editor,{unit:"block"})}}else{if(Hotkeys.isBold(nativeEvent)||Hotkeys.isItalic(nativeEvent)||Hotkeys.isTransposeCharacter(nativeEvent))return void event.preventDefault();if(Hotkeys.isSoftBreak(nativeEvent))return event.preventDefault(),void index_es.ML.insertSoftBreak(editor);if(Hotkeys.isSplitBlock(nativeEvent))return event.preventDefault(),void index_es.ML.insertBreak(editor);if(Hotkeys.isDeleteBackward(nativeEvent))return event.preventDefault(),void(selection&&index_es.e6.isExpanded(selection)?index_es.ML.deleteFragment(editor,{direction:"backward"}):index_es.ML.deleteBackward(editor));if(Hotkeys.isDeleteForward(nativeEvent))return event.preventDefault(),void(selection&&index_es.e6.isExpanded(selection)?index_es.ML.deleteFragment(editor,{direction:"forward"}):index_es.ML.deleteForward(editor));if(Hotkeys.isDeleteLineBackward(nativeEvent))return event.preventDefault(),void(selection&&index_es.e6.isExpanded(selection)?index_es.ML.deleteFragment(editor,{direction:"backward"}):index_es.ML.deleteBackward(editor,{unit:"line"}));if(Hotkeys.isDeleteLineForward(nativeEvent))return event.preventDefault(),void(selection&&index_es.e6.isExpanded(selection)?index_es.ML.deleteFragment(editor,{direction:"forward"}):index_es.ML.deleteForward(editor,{unit:"line"}));if(Hotkeys.isDeleteWordBackward(nativeEvent))return event.preventDefault(),void(selection&&index_es.e6.isExpanded(selection)?index_es.ML.deleteFragment(editor,{direction:"backward"}):index_es.ML.deleteBackward(editor,{unit:"word"}));if(Hotkeys.isDeleteWordForward(nativeEvent))return event.preventDefault(),void(selection&&index_es.e6.isExpanded(selection)?index_es.ML.deleteFragment(editor,{direction:"forward"}):index_es.ML.deleteForward(editor,{unit:"word"}))}}}),[readOnly,editor,attributes.onKeyDown]),onPaste:(0,react.useCallback)((event=>{readOnly||!ReactEditor.hasEditableTarget(editor,event.target)||isEventHandled(event,attributes.onPaste)||(!HAS_BEFORE_INPUT_SUPPORT||(event=>event.clipboardData&&""!==event.clipboardData.getData("text/plain")&&1===event.clipboardData.types.length)(event.nativeEvent)||IS_SAFARI)&&(event.preventDefault(),ReactEditor.insertData(editor,event.clipboardData))}),[readOnly,editor,attributes.onPaste])}),react.createElement(Children,{decorations,node:editor,renderElement,renderPlaceholder,renderLeaf,selection:editor.selection})))))},DefaultPlaceholder=_ref=>{var{attributes,children}=_ref;return react.createElement("span",Object.assign({},attributes),children,IS_ANDROID&&react.createElement("br",null))},defaultDecorate=()=>[],defaultScrollSelectionIntoView=(editor,domRange)=>{if(domRange.getBoundingClientRect&&(!editor.selection||editor.selection&&index_es.e6.isCollapsed(editor.selection))){var leafEl=domRange.startContainer.parentElement;leafEl.getBoundingClientRect=domRange.getBoundingClientRect.bind(domRange),es(leafEl,{scrollMode:"if-needed"}),delete leafEl.getBoundingClientRect}},isEventHandled=(event,handler)=>{if(!handler)return!1;var shouldTreatEventAsHandled=handler(event);return null!=shouldTreatEventAsHandled?shouldTreatEventAsHandled:event.isDefaultPrevented()||event.isPropagationStopped()},isDOMEventTargetInput=event=>isDOMNode(event.target)&&(event.target instanceof HTMLInputElement||event.target instanceof HTMLTextAreaElement),isDOMEventHandled=(event,handler)=>{if(!handler)return!1;var shouldTreatEventAsHandled=handler(event);return null!=shouldTreatEventAsHandled?shouldTreatEventAsHandled:event.defaultPrevented},FocusedContext=(0,react.createContext)(!1);var SlateSelectorContext=(0,react.createContext)({});var _excluded=["editor","children","onChange","initialValue"],Slate=props=>{var{editor,children,onChange,initialValue}=props,rest=_objectWithoutProperties(props,_excluded),unmountRef=(0,react.useRef)(!1),[context,setContext]=react.useState((()=>{if(!index_es.NB.isNodeList(initialValue))throw new Error("[Slate] initialValue is invalid! Expected a list of elements but got: ".concat(index_es.o4.stringify(initialValue)));if(!index_es.ML.isEditor(editor))throw new Error("[Slate] editor is invalid! You passed: ".concat(index_es.o4.stringify(editor)));return editor.children=initialValue,Object.assign(editor,rest),{v:0,editor}})),{selectorContext,onChange:handleSelectorChange}=function useSelectorContext(editor){var eventListeners=(0,react.useRef)([]).current,slateRef=(0,react.useRef)({editor}).current,onChange=(0,react.useCallback)((editor=>{slateRef.editor=editor,eventListeners.forEach((listener=>listener(editor)))}),[eventListeners,slateRef]);return{selectorContext:(0,react.useMemo)((()=>({getSlate:()=>slateRef.editor,addEventListener:callback=>(eventListeners.push(callback),()=>{eventListeners.splice(eventListeners.indexOf(callback),1)})})),[eventListeners,slateRef]),onChange}}(editor),onContextChange=(0,react.useCallback)((()=>{onChange&&onChange(editor.children),setContext((prevContext=>({v:prevContext.v+1,editor}))),handleSelectorChange(editor)}),[editor,handleSelectorChange,onChange]);(0,react.useEffect)((()=>(EDITOR_TO_ON_CHANGE.set(editor,onContextChange),()=>{EDITOR_TO_ON_CHANGE.set(editor,(()=>{})),unmountRef.current=!0})),[editor,onContextChange]);var[isFocused,setIsFocused]=(0,react.useState)(ReactEditor.isFocused(editor));return(0,react.useEffect)((()=>{setIsFocused(ReactEditor.isFocused(editor))}),[editor]),useIsomorphicLayoutEffect((()=>{var fn=()=>setIsFocused(ReactEditor.isFocused(editor));return IS_REACT_VERSION_17_OR_ABOVE?(document.addEventListener("focusin",fn),document.addEventListener("focusout",fn),()=>{document.removeEventListener("focusin",fn),document.removeEventListener("focusout",fn)}):(document.addEventListener("focus",fn,!0),document.addEventListener("blur",fn,!0),()=>{document.removeEventListener("focus",fn,!0),document.removeEventListener("blur",fn,!0)})}),[]),react.createElement(SlateSelectorContext.Provider,{value:selectorContext},react.createElement(SlateContext.Provider,{value:context},react.createElement(EditorContext.Provider,{value:context.editor},react.createElement(FocusedContext.Provider,{value:isFocused},children))))},doRectsIntersect=(rect,compareRect)=>{var middle=(compareRect.top+compareRect.bottom)/2;return rect.top<=middle&&rect.bottom>=middle},areRangesSameLine=(editor,range1,range2)=>{var rect1=ReactEditor.toDOMRange(editor,range1).getBoundingClientRect(),rect2=ReactEditor.toDOMRange(editor,range2).getBoundingClientRect();return doRectsIntersect(rect1,rect2)&&doRectsIntersect(rect2,rect1)};function ownKeys(object,enumerableOnly){var keys=Object.keys(object);if(Object.getOwnPropertySymbols){var symbols=Object.getOwnPropertySymbols(object);enumerableOnly&&(symbols=symbols.filter((function(sym){return Object.getOwnPropertyDescriptor(object,sym).enumerable}))),keys.push.apply(keys,symbols)}return keys}function _objectSpread(target){for(var i=1;i<arguments.length;i++){var source=null!=arguments[i]?arguments[i]:{};i%2?ownKeys(Object(source),!0).forEach((function(key){_defineProperty(target,key,source[key])})):Object.getOwnPropertyDescriptors?Object.defineProperties(target,Object.getOwnPropertyDescriptors(source)):ownKeys(Object(source)).forEach((function(key){Object.defineProperty(target,key,Object.getOwnPropertyDescriptor(source,key))}))}return target}var withReact=function withReact(editor){var clipboardFormatKey=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"x-slate-fragment",e=editor,{apply,onChange,deleteBackward,addMark,removeMark}=e;return EDITOR_TO_KEY_TO_ELEMENT.set(e,new WeakMap),e.addMark=(key,value)=>{var _EDITOR_TO_SCHEDULE_F,_EDITOR_TO_PENDING_DI;null===(_EDITOR_TO_SCHEDULE_F=EDITOR_TO_SCHEDULE_FLUSH.get(e))||void 0===_EDITOR_TO_SCHEDULE_F||_EDITOR_TO_SCHEDULE_F(),!EDITOR_TO_PENDING_INSERTION_MARKS.get(e)&&null!==(_EDITOR_TO_PENDING_DI=EDITOR_TO_PENDING_DIFFS.get(e))&&void 0!==_EDITOR_TO_PENDING_DI&&_EDITOR_TO_PENDING_DI.length&&EDITOR_TO_PENDING_INSERTION_MARKS.set(e,null),EDITOR_TO_USER_MARKS.delete(e),addMark(key,value)},e.removeMark=key=>{var _EDITOR_TO_PENDING_DI2;!EDITOR_TO_PENDING_INSERTION_MARKS.get(e)&&null!==(_EDITOR_TO_PENDING_DI2=EDITOR_TO_PENDING_DIFFS.get(e))&&void 0!==_EDITOR_TO_PENDING_DI2&&_EDITOR_TO_PENDING_DI2.length&&EDITOR_TO_PENDING_INSERTION_MARKS.set(e,null),EDITOR_TO_USER_MARKS.delete(e),removeMark(key)},e.deleteBackward=unit=>{if("line"!==unit)return deleteBackward(unit);if(e.selection&&index_es.e6.isCollapsed(e.selection)){var parentBlockEntry=index_es.ML.above(e,{match:n=>index_es.W_.isElement(n)&&index_es.ML.isBlock(e,n),at:e.selection});if(parentBlockEntry){var[,parentBlockPath]=parentBlockEntry,parentElementRange=index_es.ML.range(e,parentBlockPath,e.selection.anchor),currentLineRange=((editor,parentRange)=>{var parentRangeBoundary=index_es.ML.range(editor,index_es.e6.end(parentRange)),positions=Array.from(index_es.ML.positions(editor,{at:parentRange})),left=0,right=positions.length,middle=Math.floor(right/2);if(areRangesSameLine(editor,index_es.ML.range(editor,positions[left]),parentRangeBoundary))return index_es.ML.range(editor,positions[left],parentRangeBoundary);if(positions.length<2)return index_es.ML.range(editor,positions[positions.length-1],parentRangeBoundary);for(;middle!==positions.length&&middle!==left;)areRangesSameLine(editor,index_es.ML.range(editor,positions[middle]),parentRangeBoundary)?right=middle:left=middle,middle=Math.floor((left+right)/2);return index_es.ML.range(editor,positions[right],parentRangeBoundary)})(e,parentElementRange);index_es.e6.isCollapsed(currentLineRange)||index_es.YR.delete(e,{at:currentLineRange})}}},e.apply=op=>{var matches=[],pendingDiffs=EDITOR_TO_PENDING_DIFFS.get(e);if(null!=pendingDiffs&&pendingDiffs.length){var transformed=pendingDiffs.map((textDiff=>function transformTextDiff(textDiff,op){var{path,diff,id}=textDiff;switch(op.type){case"insert_text":return!index_es.y$.equals(op.path,path)||op.offset>=diff.end?textDiff:op.offset<=diff.start?{diff:{start:op.text.length+diff.start,end:op.text.length+diff.end,text:diff.text},id,path}:{diff:{start:diff.start,end:diff.end+op.text.length,text:diff.text},id,path};case"remove_text":return!index_es.y$.equals(op.path,path)||op.offset>=diff.end?textDiff:op.offset+op.text.length<=diff.start?{diff:{start:diff.start-op.text.length,end:diff.end-op.text.length,text:diff.text},id,path}:{diff:{start:diff.start,end:diff.end-op.text.length,text:diff.text},id,path};case"split_node":return!index_es.y$.equals(op.path,path)||op.position>=diff.end?{diff,id,path:index_es.y$.transform(path,op,{affinity:"backward"})}:op.position>diff.start?{diff:{start:diff.start,end:Math.min(op.position,diff.end),text:diff.text},id,path}:{diff:{start:diff.start-op.position,end:diff.end-op.position,text:diff.text},id,path:index_es.y$.transform(path,op,{affinity:"forward"})};case"merge_node":return index_es.y$.equals(op.path,path)?{diff:{start:diff.start+op.position,end:diff.end+op.position,text:diff.text},id,path:index_es.y$.transform(path,op)}:{diff,id,path:index_es.y$.transform(path,op)}}var newPath=index_es.y$.transform(path,op);return newPath?{diff,path:newPath,id}:null}(textDiff,op))).filter(Boolean);EDITOR_TO_PENDING_DIFFS.set(e,transformed)}var pendingSelection=EDITOR_TO_PENDING_SELECTION.get(e);pendingSelection&&EDITOR_TO_PENDING_SELECTION.set(e,transformPendingRange(e,pendingSelection,op));var pendingAction=EDITOR_TO_PENDING_ACTION.get(e);if(null!=pendingAction&&pendingAction.at){var at=index_es.E9.isPoint(null==pendingAction?void 0:pendingAction.at)?transformPendingPoint(e,pendingAction.at,op):transformPendingRange(e,pendingAction.at,op);EDITOR_TO_PENDING_ACTION.set(e,at?_objectSpread(_objectSpread({},pendingAction),{},{at}):null)}switch(op.type){case"insert_text":case"remove_text":case"set_node":case"split_node":matches.push(...getMatches(e,op.path));break;case"set_selection":var _EDITOR_TO_USER_SELEC;null===(_EDITOR_TO_USER_SELEC=EDITOR_TO_USER_SELECTION.get(e))||void 0===_EDITOR_TO_USER_SELEC||_EDITOR_TO_USER_SELEC.unref(),EDITOR_TO_USER_SELECTION.delete(e);break;case"insert_node":case"remove_node":matches.push(...getMatches(e,index_es.y$.parent(op.path)));break;case"merge_node":var prevPath=index_es.y$.previous(op.path);matches.push(...getMatches(e,prevPath));break;case"move_node":var commonPath=index_es.y$.common(index_es.y$.parent(op.path),index_es.y$.parent(op.newPath));matches.push(...getMatches(e,commonPath))}for(var[path,key]of(apply(op),matches)){var[node]=index_es.ML.node(e,path);NODE_TO_KEY.set(node,key)}},e.setFragmentData=data=>{var{selection}=e;if(selection){var[start,end]=index_es.e6.edges(selection),startVoid=index_es.ML.void(e,{at:start.path}),endVoid=index_es.ML.void(e,{at:end.path});if(!index_es.e6.isCollapsed(selection)||startVoid){var domRange=ReactEditor.toDOMRange(e,selection),contents=domRange.cloneContents(),attach=contents.childNodes[0];if(contents.childNodes.forEach((node=>{node.textContent&&""!==node.textContent.trim()&&(attach=node)})),endVoid){var[voidNode]=endVoid,r=domRange.cloneRange(),domNode=ReactEditor.toDOMNode(e,voidNode);r.setEndAfter(domNode),contents=r.cloneContents()}if(startVoid&&(attach=contents.querySelector("[data-slate-spacer]")),Array.from(contents.querySelectorAll("[data-slate-zero-width]")).forEach((zw=>{var isNewline="n"===zw.getAttribute("data-slate-zero-width");zw.textContent=isNewline?"\n":""})),isDOMText(attach)){var span=attach.ownerDocument.createElement("span");span.style.whiteSpace="pre",span.appendChild(attach),contents.appendChild(span),attach=span}var fragment=e.getFragment(),string=JSON.stringify(fragment),encoded=window.btoa(encodeURIComponent(string));attach.setAttribute("data-slate-fragment",encoded),data.setData("application/".concat(clipboardFormatKey),encoded);var div=contents.ownerDocument.createElement("div");return div.appendChild(contents),div.setAttribute("hidden","true"),contents.ownerDocument.body.appendChild(div),data.setData("text/html",div.innerHTML),data.setData("text/plain",getPlainText(div)),contents.ownerDocument.body.removeChild(div),data}}},e.insertData=data=>{e.insertFragmentData(data)||e.insertTextData(data)},e.insertFragmentData=data=>{var fragment=data.getData("application/".concat(clipboardFormatKey))||(dataTransfer=>{var htmlData=dataTransfer.getData("text/html"),[,fragment]=htmlData.match(catchSlateFragment)||[];return fragment})(data);if(fragment){var decoded=decodeURIComponent(window.atob(fragment)),parsed=JSON.parse(decoded);return e.insertFragment(parsed),!0}return!1},e.insertTextData=data=>{var text=data.getData("text/plain");if(text){var lines=text.split(/\r\n|\r|\n/),split=!1;for(var line of lines)split&&index_es.YR.splitNodes(e,{always:!0}),e.insertText(line),split=!0;return!0}return!1},e.onChange=options=>{react_dom.unstable_batchedUpdates((()=>{var onContextChange=EDITOR_TO_ON_CHANGE.get(e);onContextChange&&onContextChange(),onChange(options)}))},e},getMatches=(e,path)=>{var matches=[];for(var[n,p]of index_es.ML.levels(e,{at:path})){var key=ReactEditor.findKey(e,n);matches.push([p,key])}return matches}},"./node_modules/slate/dist/index.es.js":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{"use strict";__webpack_require__.d(__webpack_exports__,{ML:()=>Editor,W_:()=>Element,NB:()=>Node,OX:()=>Operation,y$:()=>Path,E9:()=>Point,e6:()=>Range,o4:()=>Scrubber,xv:()=>Text,YR:()=>Transforms,Jh:()=>createEditor});var is_plain_object=__webpack_require__("./node_modules/is-plain-object/dist/is-plain-object.mjs");function n(n){for(var r=arguments.length,t=Array(r>1?r-1:0),e=1;e<r;e++)t[e-1]=arguments[e];throw Error("[Immer] minified error nr: "+n+(t.length?" "+t.map((function(n){return"'"+n+"'"})).join(","):"")+". Find the full error at: https://bit.ly/3cXEKWf")}function r(n){return!!n&&!!n[Q]}function t(n){var r;return!!n&&(function(n){if(!n||"object"!=typeof n)return!1;var r=Object.getPrototypeOf(n);if(null===r)return!0;var t=Object.hasOwnProperty.call(r,"constructor")&&r.constructor;return t===Object||"function"==typeof t&&Function.toString.call(t)===Z}(n)||Array.isArray(n)||!!n[L]||!!(null===(r=n.constructor)||void 0===r?void 0:r[L])||s(n)||v(n))}function i(n,r,t){void 0===t&&(t=!1),0===o(n)?(t?Object.keys:nn)(n).forEach((function(e){t&&"symbol"==typeof e||r(e,n[e],n)})):n.forEach((function(t,e){return r(e,t,n)}))}function o(n){var r=n[Q];return r?r.i>3?r.i-4:r.i:Array.isArray(n)?1:s(n)?2:v(n)?3:0}function u(n,r){return 2===o(n)?n.has(r):Object.prototype.hasOwnProperty.call(n,r)}function a(n,r){return 2===o(n)?n.get(r):n[r]}function f(n,r,t){var e=o(n);2===e?n.set(r,t):3===e?n.add(t):n[r]=t}function c(n,r){return n===r?0!==n||1/n==1/r:n!=n&&r!=r}function s(n){return X&&n instanceof Map}function v(n){return q&&n instanceof Set}function p(n){return n.o||n.t}function l(n){if(Array.isArray(n))return Array.prototype.slice.call(n);var r=rn(n);delete r[Q];for(var t=nn(r),e=0;e<t.length;e++){var i=t[e],o=r[i];!1===o.writable&&(o.writable=!0,o.configurable=!0),(o.get||o.set)&&(r[i]={configurable:!0,writable:!0,enumerable:o.enumerable,value:n[i]})}return Object.create(Object.getPrototypeOf(n),r)}function d(n,e){return void 0===e&&(e=!1),y(n)||r(n)||!t(n)||(o(n)>1&&(n.set=n.add=n.clear=n.delete=h),Object.freeze(n),e&&i(n,(function(n,r){return d(r,!0)}),!0)),n}function h(){n(2)}function y(n){return null==n||"object"!=typeof n||Object.isFrozen(n)}function b(r){var t=tn[r];return t||n(18,r),t}function _(){return U}function j(n,r){r&&(b("Patches"),n.u=[],n.s=[],n.v=r)}function g(n){O(n),n.p.forEach(S),n.p=null}function O(n){n===U&&(U=n.l)}function w(n){return U={p:[],l:U,h:n,m:!0,_:0}}function S(n){var r=n[Q];0===r.i||1===r.i?r.j():r.g=!0}function P(r,e){e._=e.p.length;var i=e.p[0],o=void 0!==r&&r!==i;return e.h.O||b("ES5").S(e,r,o),o?(i[Q].P&&(g(e),n(4)),t(r)&&(r=M(e,r),e.l||x(e,r)),e.u&&b("Patches").M(i[Q].t,r,e.u,e.s)):r=M(e,i,[]),g(e),e.u&&e.v(e.u,e.s),r!==H?r:void 0}function M(n,r,t){if(y(r))return r;var e=r[Q];if(!e)return i(r,(function(i,o){return A(n,e,r,i,o,t)}),!0),r;if(e.A!==n)return r;if(!e.P)return x(n,e.t,!0),e.t;if(!e.I){e.I=!0,e.A._--;var o=4===e.i||5===e.i?e.o=l(e.k):e.o,u=o,a=!1;3===e.i&&(u=new Set(o),o.clear(),a=!0),i(u,(function(r,i){return A(n,e,o,r,i,t,a)})),x(n,o,!1),t&&n.u&&b("Patches").N(e,t,n.u,n.s)}return e.o}function A(e,i,o,a,c,s,v){if(r(c)){var p=M(e,c,s&&i&&3!==i.i&&!u(i.R,a)?s.concat(a):void 0);if(f(o,a,p),!r(p))return;e.m=!1}else v&&o.add(c);if(t(c)&&!y(c)){if(!e.h.D&&e._<1)return;M(e,c),i&&i.A.l||x(e,c)}}function x(n,r,t){void 0===t&&(t=!1),!n.l&&n.h.D&&n.m&&d(r,t)}function z(n,r){var t=n[Q];return(t?p(t):n)[r]}function I(n,r){if(r in n)for(var t=Object.getPrototypeOf(n);t;){var e=Object.getOwnPropertyDescriptor(t,r);if(e)return e;t=Object.getPrototypeOf(t)}}function k(n){n.P||(n.P=!0,n.l&&k(n.l))}function E(n){n.o||(n.o=l(n.t))}function N(n,r,t){var e=s(r)?b("MapSet").F(r,t):v(r)?b("MapSet").T(r,t):n.O?function(n,r){var t=Array.isArray(n),e={i:t?1:0,A:r?r.A:_(),P:!1,I:!1,R:{},l:r,t:n,k:null,o:null,j:null,C:!1},i=e,o=en;t&&(i=[e],o=on);var u=Proxy.revocable(i,o),a=u.revoke,f=u.proxy;return e.k=f,e.j=a,f}(r,t):b("ES5").J(r,t);return(t?t.A:_()).p.push(e),e}function R(e){return r(e)||n(22,e),function n(r){if(!t(r))return r;var e,u=r[Q],c=o(r);if(u){if(!u.P&&(u.i<4||!b("ES5").K(u)))return u.t;u.I=!0,e=D(r,c),u.I=!1}else e=D(r,c);return i(e,(function(r,t){u&&a(u.t,r)===t||f(e,r,n(t))})),3===c?new Set(e):e}(e)}function D(n,r){switch(r){case 2:return new Map(n);case 3:return Array.from(n)}return l(n)}var G,U,W="undefined"!=typeof Symbol&&"symbol"==typeof Symbol("x"),X="undefined"!=typeof Map,q="undefined"!=typeof Set,B="undefined"!=typeof Proxy&&void 0!==Proxy.revocable&&"undefined"!=typeof Reflect,H=W?Symbol.for("immer-nothing"):((G={})["immer-nothing"]=!0,G),L=W?Symbol.for("immer-draftable"):"__$immer_draftable",Q=W?Symbol.for("immer-state"):"__$immer_state",Z=("undefined"!=typeof Symbol&&Symbol.iterator,""+Object.prototype.constructor),nn="undefined"!=typeof Reflect&&Reflect.ownKeys?Reflect.ownKeys:void 0!==Object.getOwnPropertySymbols?function(n){return Object.getOwnPropertyNames(n).concat(Object.getOwnPropertySymbols(n))}:Object.getOwnPropertyNames,rn=Object.getOwnPropertyDescriptors||function(n){var r={};return nn(n).forEach((function(t){r[t]=Object.getOwnPropertyDescriptor(n,t)})),r},tn={},en={get:function(n,r){if(r===Q)return n;var e=p(n);if(!u(e,r))return function(n,r,t){var e,i=I(r,t);return i?"value"in i?i.value:null===(e=i.get)||void 0===e?void 0:e.call(n.k):void 0}(n,e,r);var i=e[r];return n.I||!t(i)?i:i===z(n.t,r)?(E(n),n.o[r]=N(n.A.h,i,n)):i},has:function(n,r){return r in p(n)},ownKeys:function(n){return Reflect.ownKeys(p(n))},set:function(n,r,t){var e=I(p(n),r);if(null==e?void 0:e.set)return e.set.call(n.k,t),!0;if(!n.P){var i=z(p(n),r),o=null==i?void 0:i[Q];if(o&&o.t===t)return n.o[r]=t,n.R[r]=!1,!0;if(c(t,i)&&(void 0!==t||u(n.t,r)))return!0;E(n),k(n)}return n.o[r]===t&&(void 0!==t||r in n.o)||Number.isNaN(t)&&Number.isNaN(n.o[r])||(n.o[r]=t,n.R[r]=!0),!0},deleteProperty:function(n,r){return void 0!==z(n.t,r)||r in n.t?(n.R[r]=!1,E(n),k(n)):delete n.R[r],n.o&&delete n.o[r],!0},getOwnPropertyDescriptor:function(n,r){var t=p(n),e=Reflect.getOwnPropertyDescriptor(t,r);return e?{writable:!0,configurable:1!==n.i||"length"!==r,enumerable:e.enumerable,value:t[r]}:e},defineProperty:function(){n(11)},getPrototypeOf:function(n){return Object.getPrototypeOf(n.t)},setPrototypeOf:function(){n(12)}},on={};i(en,(function(n,r){on[n]=function(){return arguments[0]=arguments[0][0],r.apply(this,arguments)}})),on.deleteProperty=function(r,t){return on.set.call(this,r,t,void 0)},on.set=function(r,t,e){return en.set.call(this,r[0],t,e,r[0])};var un=function(){function e(r){var e=this;this.O=B,this.D=!0,this.produce=function(r,i,o){if("function"==typeof r&&"function"!=typeof i){var u=i;i=r;var a=e;return function(n){var r=this;void 0===n&&(n=u);for(var t=arguments.length,e=Array(t>1?t-1:0),o=1;o<t;o++)e[o-1]=arguments[o];return a.produce(n,(function(n){var t;return(t=i).call.apply(t,[r,n].concat(e))}))}}var f;if("function"!=typeof i&&n(6),void 0!==o&&"function"!=typeof o&&n(7),t(r)){var c=w(e),s=N(e,r,void 0),v=!0;try{f=i(s),v=!1}finally{v?g(c):O(c)}return"undefined"!=typeof Promise&&f instanceof Promise?f.then((function(n){return j(c,o),P(n,c)}),(function(n){throw g(c),n})):(j(c,o),P(f,c))}if(!r||"object"!=typeof r){if(void 0===(f=i(r))&&(f=r),f===H&&(f=void 0),e.D&&d(f,!0),o){var p=[],l=[];b("Patches").M(r,f,p,l),o(p,l)}return f}n(21,r)},this.produceWithPatches=function(n,r){if("function"==typeof n)return function(r){for(var t=arguments.length,i=Array(t>1?t-1:0),o=1;o<t;o++)i[o-1]=arguments[o];return e.produceWithPatches(r,(function(r){return n.apply(void 0,[r].concat(i))}))};var t,i,o=e.produce(n,r,(function(n,r){t=n,i=r}));return"undefined"!=typeof Promise&&o instanceof Promise?o.then((function(n){return[n,t,i]})):[o,t,i]},"boolean"==typeof(null==r?void 0:r.useProxies)&&this.setUseProxies(r.useProxies),"boolean"==typeof(null==r?void 0:r.autoFreeze)&&this.setAutoFreeze(r.autoFreeze)}var i=e.prototype;return i.createDraft=function(e){t(e)||n(8),r(e)&&(e=R(e));var i=w(this),o=N(this,e,void 0);return o[Q].C=!0,O(i),o},i.finishDraft=function(r,t){var i=(r&&r[Q]).A;return j(i,t),P(void 0,i)},i.setAutoFreeze=function(n){this.D=n},i.setUseProxies=function(r){r&&!B&&n(20),this.O=r},i.applyPatches=function(n,t){var e;for(e=t.length-1;e>=0;e--){var i=t[e];if(0===i.path.length&&"replace"===i.op){n=i.value;break}}e>-1&&(t=t.slice(e+1));var o=b("Patches").$;return r(n)?o(n,t):this.produce(n,(function(n){return o(n,t)}))},e}(),an=new un,fn=an.produce,ln=(an.produceWithPatches.bind(an),an.setAutoFreeze.bind(an),an.setUseProxies.bind(an),an.applyPatches.bind(an),an.createDraft.bind(an)),dn=an.finishDraft.bind(an);var PathRef={transform(ref,op){var{current,affinity}=ref;if(null!=current){var path=Path.transform(current,op,{affinity});ref.current=path,null==path&&ref.unref()}}},PointRef={transform(ref,op){var{current,affinity}=ref;if(null!=current){var point=Point.transform(current,op,{affinity});ref.current=point,null==point&&ref.unref()}}},RangeRef={transform(ref,op){var{current,affinity}=ref;if(null!=current){var path=Range.transform(current,op,{affinity});ref.current=path,null==path&&ref.unref()}}},DIRTY_PATHS=new WeakMap,DIRTY_PATH_KEYS=new WeakMap,FLUSHING=new WeakMap,NORMALIZING=new WeakMap,PATH_REFS=new WeakMap,POINT_REFS=new WeakMap,RANGE_REFS=new WeakMap,Path={ancestors(path){var options=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},{reverse=!1}=options,paths=Path.levels(path,options);return paths=reverse?paths.slice(1):paths.slice(0,-1)},common(path,another){for(var common=[],i=0;i<path.length&&i<another.length;i++){var av=path[i];if(av!==another[i])break;common.push(av)}return common},compare(path,another){for(var min=Math.min(path.length,another.length),i=0;i<min;i++){if(path[i]<another[i])return-1;if(path[i]>another[i])return 1}return 0},endsAfter(path,another){var i=path.length-1,as=path.slice(0,i),bs=another.slice(0,i),av=path[i],bv=another[i];return Path.equals(as,bs)&&av>bv},endsAt(path,another){var i=path.length,as=path.slice(0,i),bs=another.slice(0,i);return Path.equals(as,bs)},endsBefore(path,another){var i=path.length-1,as=path.slice(0,i),bs=another.slice(0,i),av=path[i],bv=another[i];return Path.equals(as,bs)&&av<bv},equals:(path,another)=>path.length===another.length&&path.every(((n,i)=>n===another[i])),hasPrevious:path=>path[path.length-1]>0,isAfter:(path,another)=>1===Path.compare(path,another),isAncestor:(path,another)=>path.length<another.length&&0===Path.compare(path,another),isBefore:(path,another)=>-1===Path.compare(path,another),isChild:(path,another)=>path.length===another.length+1&&0===Path.compare(path,another),isCommon:(path,another)=>path.length<=another.length&&0===Path.compare(path,another),isDescendant:(path,another)=>path.length>another.length&&0===Path.compare(path,another),isParent:(path,another)=>path.length+1===another.length&&0===Path.compare(path,another),isPath:value=>Array.isArray(value)&&(0===value.length||"number"==typeof value[0]),isSibling(path,another){if(path.length!==another.length)return!1;var as=path.slice(0,-1),bs=another.slice(0,-1);return path[path.length-1]!==another[another.length-1]&&Path.equals(as,bs)},levels(path){for(var options=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},{reverse=!1}=options,list=[],i=0;i<=path.length;i++)list.push(path.slice(0,i));return reverse&&list.reverse(),list},next(path){if(0===path.length)throw new Error("Cannot get the next path of a root path [".concat(path,"], because it has no next index."));var last=path[path.length-1];return path.slice(0,-1).concat(last+1)},operationCanTransformPath(operation){switch(operation.type){case"insert_node":case"remove_node":case"merge_node":case"split_node":case"move_node":return!0;default:return!1}},parent(path){if(0===path.length)throw new Error("Cannot get the parent path of the root path [".concat(path,"]."));return path.slice(0,-1)},previous(path){if(0===path.length)throw new Error("Cannot get the previous path of a root path [".concat(path,"], because it has no previous index."));var last=path[path.length-1];if(last<=0)throw new Error("Cannot get the previous path of a first child path [".concat(path,"] because it would result in a negative index."));return path.slice(0,-1).concat(last-1)},relative(path,ancestor){if(!Path.isAncestor(ancestor,path)&&!Path.equals(path,ancestor))throw new Error("Cannot get the relative path of [".concat(path,"] inside ancestor [").concat(ancestor,"], because it is not above or equal to the path."));return path.slice(ancestor.length)},transform(path,operation){var options=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};if(!path)return null;var p=[...path],{affinity="forward"}=options;if(0===path.length)return p;switch(operation.type){case"insert_node":var{path:op}=operation;(Path.equals(op,p)||Path.endsBefore(op,p)||Path.isAncestor(op,p))&&(p[op.length-1]+=1);break;case"remove_node":var{path:_op}=operation;if(Path.equals(_op,p)||Path.isAncestor(_op,p))return null;Path.endsBefore(_op,p)&&(p[_op.length-1]-=1);break;case"merge_node":var{path:_op2,position}=operation;Path.equals(_op2,p)||Path.endsBefore(_op2,p)?p[_op2.length-1]-=1:Path.isAncestor(_op2,p)&&(p[_op2.length-1]-=1,p[_op2.length]+=position);break;case"split_node":var{path:_op3,position:_position}=operation;if(Path.equals(_op3,p)){if("forward"===affinity)p[p.length-1]+=1;else if("backward"!==affinity)return null}else Path.endsBefore(_op3,p)?p[_op3.length-1]+=1:Path.isAncestor(_op3,p)&&path[_op3.length]>=_position&&(p[_op3.length-1]+=1,p[_op3.length]-=_position);break;case"move_node":var{path:_op4,newPath:onp}=operation;if(Path.equals(_op4,onp))return p;if(Path.isAncestor(_op4,p)||Path.equals(_op4,p)){var copy=onp.slice();return Path.endsBefore(_op4,onp)&&_op4.length<onp.length&&(copy[_op4.length-1]-=1),copy.concat(p.slice(_op4.length))}Path.isSibling(_op4,onp)&&(Path.isAncestor(onp,p)||Path.equals(onp,p))?Path.endsBefore(_op4,p)?p[_op4.length-1]-=1:p[_op4.length-1]+=1:Path.endsBefore(onp,p)||Path.equals(onp,p)||Path.isAncestor(onp,p)?(Path.endsBefore(_op4,p)&&(p[_op4.length-1]-=1),p[onp.length-1]+=1):Path.endsBefore(_op4,p)&&(Path.equals(onp,p)&&(p[onp.length-1]+=1),p[_op4.length-1]-=1)}return p}};function _defineProperty(obj,key,value){return key in obj?Object.defineProperty(obj,key,{value,enumerable:!0,configurable:!0,writable:!0}):obj[key]=value,obj}function ownKeys$e(object,enumerableOnly){var keys=Object.keys(object);if(Object.getOwnPropertySymbols){var symbols=Object.getOwnPropertySymbols(object);enumerableOnly&&(symbols=symbols.filter((function(sym){return Object.getOwnPropertyDescriptor(object,sym).enumerable}))),keys.push.apply(keys,symbols)}return keys}function _objectSpread$e(target){for(var i=1;i<arguments.length;i++){var source=null!=arguments[i]?arguments[i]:{};i%2?ownKeys$e(Object(source),!0).forEach((function(key){_defineProperty(target,key,source[key])})):Object.getOwnPropertyDescriptors?Object.defineProperties(target,Object.getOwnPropertyDescriptors(source)):ownKeys$e(Object(source)).forEach((function(key){Object.defineProperty(target,key,Object.getOwnPropertyDescriptor(source,key))}))}return target}var GeneralTransforms={transform(editor,op){editor.children=ln(editor.children);var selection=editor.selection&&ln(editor.selection);try{selection=((editor,selection,op)=>{switch(op.type){case"insert_node":var{path,node}=op,parent=Node.parent(editor,path),index=path[path.length-1];if(index>parent.children.length)throw new Error('Cannot apply an "insert_node" operation at path ['.concat(path,"] because the destination is past the end of the node."));if(parent.children.splice(index,0,node),selection)for(var[point,key]of Range.points(selection))selection[key]=Point.transform(point,op);break;case"insert_text":var{path:_path,offset,text}=op;if(0===text.length)break;var _node=Node.leaf(editor,_path),before=_node.text.slice(0,offset),after=_node.text.slice(offset);if(_node.text=before+text+after,selection)for(var[_point,_key]of Range.points(selection))selection[_key]=Point.transform(_point,op);break;case"merge_node":var{path:_path2}=op,_node2=Node.get(editor,_path2),prevPath=Path.previous(_path2),prev=Node.get(editor,prevPath),_parent=Node.parent(editor,_path2),_index=_path2[_path2.length-1];if(Text.isText(_node2)&&Text.isText(prev))prev.text+=_node2.text;else{if(Text.isText(_node2)||Text.isText(prev))throw new Error('Cannot apply a "merge_node" operation at path ['.concat(_path2,"] to nodes of different interfaces: ").concat(Scrubber.stringify(_node2)," ").concat(Scrubber.stringify(prev)));prev.children.push(..._node2.children)}if(_parent.children.splice(_index,1),selection)for(var[_point2,_key2]of Range.points(selection))selection[_key2]=Point.transform(_point2,op);break;case"move_node":var{path:_path3,newPath}=op;if(Path.isAncestor(_path3,newPath))throw new Error("Cannot move a path [".concat(_path3,"] to new path [").concat(newPath,"] because the destination is inside itself."));var _node3=Node.get(editor,_path3),_parent2=Node.parent(editor,_path3),_index2=_path3[_path3.length-1];_parent2.children.splice(_index2,1);var truePath=Path.transform(_path3,op),newParent=Node.get(editor,Path.parent(truePath)),newIndex=truePath[truePath.length-1];if(newParent.children.splice(newIndex,0,_node3),selection)for(var[_point3,_key3]of Range.points(selection))selection[_key3]=Point.transform(_point3,op);break;case"remove_node":var{path:_path4}=op,_index3=_path4[_path4.length-1];if(Node.parent(editor,_path4).children.splice(_index3,1),selection)for(var[_point4,_key4]of Range.points(selection)){var result=Point.transform(_point4,op);if(null!=selection&&null!=result)selection[_key4]=result;else{var _prev=void 0,next=void 0;for(var[n,p]of Node.texts(editor)){if(-1!==Path.compare(p,_path4)){next=[n,p];break}_prev=[n,p]}var preferNext=!1;_prev&&next&&(preferNext=Path.equals(next[1],_path4)?!Path.hasPrevious(next[1]):Path.common(_prev[1],_path4).length<Path.common(next[1],_path4).length),_prev&&!preferNext?(_point4.path=_prev[1],_point4.offset=_prev[0].text.length):next?(_point4.path=next[1],_point4.offset=0):selection=null}}break;case"remove_text":var{path:_path5,offset:_offset,text:_text}=op;if(0===_text.length)break;var _node4=Node.leaf(editor,_path5),_before=_node4.text.slice(0,_offset),_after=_node4.text.slice(_offset+_text.length);if(_node4.text=_before+_after,selection)for(var[_point5,_key5]of Range.points(selection))selection[_key5]=Point.transform(_point5,op);break;case"set_node":var{path:_path6,properties,newProperties}=op;if(0===_path6.length)throw new Error("Cannot set properties on the root node!");var _node5=Node.get(editor,_path6);for(var _key6 in newProperties){if("children"===_key6||"text"===_key6)throw new Error('Cannot set the "'.concat(_key6,'" property of nodes!'));var value=newProperties[_key6];null==value?delete _node5[_key6]:_node5[_key6]=value}for(var _key7 in properties)newProperties.hasOwnProperty(_key7)||delete _node5[_key7];break;case"set_selection":var{newProperties:_newProperties}=op;if(null==_newProperties)selection=_newProperties;else{if(null==selection){if(!Range.isRange(_newProperties))throw new Error('Cannot apply an incomplete "set_selection" operation properties '.concat(Scrubber.stringify(_newProperties)," when there is no current selection."));selection=_objectSpread$e({},_newProperties)}for(var _key8 in _newProperties){var _value=_newProperties[_key8];if(null==_value){if("anchor"===_key8||"focus"===_key8)throw new Error('Cannot remove the "'.concat(_key8,'" selection property'));delete selection[_key8]}else selection[_key8]=_value}}break;case"split_node":var{path:_path7,position,properties:_properties}=op;if(0===_path7.length)throw new Error('Cannot apply a "split_node" operation at path ['.concat(_path7,"] because the root node cannot be split."));var newNode,_node6=Node.get(editor,_path7),_parent4=Node.parent(editor,_path7),_index4=_path7[_path7.length-1];if(Text.isText(_node6)){var _before2=_node6.text.slice(0,position),_after2=_node6.text.slice(position);_node6.text=_before2,newNode=_objectSpread$e(_objectSpread$e({},_properties),{},{text:_after2})}else{var _before3=_node6.children.slice(0,position),_after3=_node6.children.slice(position);_node6.children=_before3,newNode=_objectSpread$e(_objectSpread$e({},_properties),{},{children:_after3})}if(_parent4.children.splice(_index4+1,0,newNode),selection)for(var[_point6,_key9]of Range.points(selection))selection[_key9]=Point.transform(_point6,op)}return selection})(editor,selection,op)}finally{editor.children=dn(editor.children),editor.selection=selection?r(selection)?dn(selection):selection:null}}},NodeTransforms={insertNodes(editor,nodes,options){editor.insertNodes(nodes,options)},liftNodes(editor,options){editor.liftNodes(options)},mergeNodes(editor,options){editor.mergeNodes(options)},moveNodes(editor,options){editor.moveNodes(options)},removeNodes(editor,options){editor.removeNodes(options)},setNodes(editor,props,options){editor.setNodes(props,options)},splitNodes(editor,options){editor.splitNodes(options)},unsetNodes(editor,props,options){editor.unsetNodes(props,options)},unwrapNodes(editor,options){editor.unwrapNodes(options)},wrapNodes(editor,element,options){editor.wrapNodes(element,options)}},SelectionTransforms={collapse(editor,options){editor.collapse(options)},deselect(editor){editor.deselect()},move(editor,options){editor.move(options)},select(editor,target){editor.select(target)},setPoint(editor,props,options){editor.setPoint(props,options)},setSelection(editor,props){editor.setSelection(props)}},isDeepEqual=(node,another)=>{for(var key in node){var a=node[key],b=another[key];if((0,is_plain_object.P)(a)&&(0,is_plain_object.P)(b)){if(!isDeepEqual(a,b))return!1}else if(Array.isArray(a)&&Array.isArray(b)){if(a.length!==b.length)return!1;for(var i=0;i<a.length;i++)if(a[i]!==b[i])return!1}else if(a!==b)return!1}for(var _key in another)if(void 0===node[_key]&&void 0!==another[_key])return!1;return!0};function _objectWithoutProperties(source,excluded){if(null==source)return{};var key,i,target=function _objectWithoutPropertiesLoose(source,excluded){if(null==source)return{};var key,i,target={},sourceKeys=Object.keys(source);for(i=0;i<sourceKeys.length;i++)key=sourceKeys[i],excluded.indexOf(key)>=0||(target[key]=source[key]);return target}(source,excluded);if(Object.getOwnPropertySymbols){var sourceSymbolKeys=Object.getOwnPropertySymbols(source);for(i=0;i<sourceSymbolKeys.length;i++)key=sourceSymbolKeys[i],excluded.indexOf(key)>=0||Object.prototype.propertyIsEnumerable.call(source,key)&&(target[key]=source[key])}return target}var _excluded$4=["anchor","focus"];function ownKeys$d(object,enumerableOnly){var keys=Object.keys(object);if(Object.getOwnPropertySymbols){var symbols=Object.getOwnPropertySymbols(object);enumerableOnly&&(symbols=symbols.filter((function(sym){return Object.getOwnPropertyDescriptor(object,sym).enumerable}))),keys.push.apply(keys,symbols)}return keys}var Range={edges(range){var options=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},{reverse=!1}=options,{anchor,focus}=range;return Range.isBackward(range)===reverse?[anchor,focus]:[focus,anchor]},end(range){var[,end]=Range.edges(range);return end},equals:(range,another)=>Point.equals(range.anchor,another.anchor)&&Point.equals(range.focus,another.focus),includes(range,target){if(Range.isRange(target)){if(Range.includes(range,target.anchor)||Range.includes(range,target.focus))return!0;var[rs,re]=Range.edges(range),[ts,te]=Range.edges(target);return Point.isBefore(rs,ts)&&Point.isAfter(re,te)}var[start,end]=Range.edges(range),isAfterStart=!1,isBeforeEnd=!1;return Point.isPoint(target)?(isAfterStart=Point.compare(target,start)>=0,isBeforeEnd=Point.compare(target,end)<=0):(isAfterStart=Path.compare(target,start.path)>=0,isBeforeEnd=Path.compare(target,end.path)<=0),isAfterStart&&isBeforeEnd},intersection(range,another){var rest=_objectWithoutProperties(range,_excluded$4),[s1,e1]=Range.edges(range),[s2,e2]=Range.edges(another),start=Point.isBefore(s1,s2)?s2:s1,end=Point.isBefore(e1,e2)?e1:e2;return Point.isBefore(end,start)?null:function _objectSpread$d(target){for(var i=1;i<arguments.length;i++){var source=null!=arguments[i]?arguments[i]:{};i%2?ownKeys$d(Object(source),!0).forEach((function(key){_defineProperty(target,key,source[key])})):Object.getOwnPropertyDescriptors?Object.defineProperties(target,Object.getOwnPropertyDescriptors(source)):ownKeys$d(Object(source)).forEach((function(key){Object.defineProperty(target,key,Object.getOwnPropertyDescriptor(source,key))}))}return target}({anchor:start,focus:end},rest)},isBackward(range){var{anchor,focus}=range;return Point.isAfter(anchor,focus)},isCollapsed(range){var{anchor,focus}=range;return Point.equals(anchor,focus)},isExpanded:range=>!Range.isCollapsed(range),isForward:range=>!Range.isBackward(range),isRange:value=>(0,is_plain_object.P)(value)&&Point.isPoint(value.anchor)&&Point.isPoint(value.focus),*points(range){yield[range.anchor,"anchor"],yield[range.focus,"focus"]},start(range){var[start]=Range.edges(range);return start},transform(range,op){var options=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return fn(range,(r=>{if(null===r)return null;var affinityAnchor,affinityFocus,{affinity="inward"}=options;if("inward"===affinity){var isCollapsed=Range.isCollapsed(r);Range.isForward(r)?(affinityAnchor="forward",affinityFocus=isCollapsed?affinityAnchor:"backward"):(affinityAnchor="backward",affinityFocus=isCollapsed?affinityAnchor:"forward")}else"outward"===affinity?Range.isForward(r)?(affinityAnchor="backward",affinityFocus="forward"):(affinityAnchor="forward",affinityFocus="backward"):(affinityAnchor=affinity,affinityFocus=affinity);var anchor=Point.transform(r.anchor,op,{affinity:affinityAnchor}),focus=Point.transform(r.focus,op,{affinity:affinityFocus});if(!anchor||!focus)return null;r.anchor=anchor,r.focus=focus}))}},isElement=value=>(0,is_plain_object.P)(value)&&Node.isNodeList(value.children)&&!Editor.isEditor(value),Element={isAncestor:value=>(0,is_plain_object.P)(value)&&Node.isNodeList(value.children),isElement,isElementList:value=>Array.isArray(value)&&value.every((val=>Element.isElement(val))),isElementProps:props=>void 0!==props.children,isElementType:function isElementType(value,elementVal){var elementKey=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"type";return isElement(value)&&value[elementKey]===elementVal},matches(element,props){for(var key in props)if("children"!==key&&element[key]!==props[key])return!1;return!0}},_excluded$3=["children"],_excluded2$3=["text"],IS_NODE_LIST_CACHE=new WeakMap,Node={ancestor(root,path){var node=Node.get(root,path);if(Text.isText(node))throw new Error("Cannot get the ancestor node at path [".concat(path,"] because it refers to a text node instead: ").concat(Scrubber.stringify(node)));return node},*ancestors(root,path){var options=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};for(var p of Path.ancestors(path,options)){var entry=[Node.ancestor(root,p),p];yield entry}},child(root,index){if(Text.isText(root))throw new Error("Cannot get the child of a text node: ".concat(Scrubber.stringify(root)));var c=root.children[index];if(null==c)throw new Error("Cannot get child at index `".concat(index,"` in node: ").concat(Scrubber.stringify(root)));return c},*children(root,path){for(var options=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},{reverse=!1}=options,ancestor=Node.ancestor(root,path),{children}=ancestor,index=reverse?children.length-1:0;reverse?index>=0:index<children.length;){var child=Node.child(ancestor,index),childPath=path.concat(index);yield[child,childPath],index=reverse?index-1:index+1}},common(root,path,another){var p=Path.common(path,another);return[Node.get(root,p),p]},descendant(root,path){var node=Node.get(root,path);if(Editor.isEditor(node))throw new Error("Cannot get the descendant node at path [".concat(path,"] because it refers to the root editor node instead: ").concat(Scrubber.stringify(node)));return node},*descendants(root){var options=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};for(var[node,path]of Node.nodes(root,options))0!==path.length&&(yield[node,path])},*elements(root){var options=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};for(var[node,path]of Node.nodes(root,options))Element.isElement(node)&&(yield[node,path])},extractProps:node=>Element.isAncestor(node)?_objectWithoutProperties(node,_excluded$3):_objectWithoutProperties(node,_excluded2$3),first(root,path){for(var p=path.slice(),n=Node.get(root,p);n&&!Text.isText(n)&&0!==n.children.length;)n=n.children[0],p.push(0);return[n,p]},fragment(root,range){if(Text.isText(root))throw new Error("Cannot get a fragment starting from a root text node: ".concat(Scrubber.stringify(root)));var newRoot=fn({children:root.children},(r=>{var[start,end]=Range.edges(range),nodeEntries=Node.nodes(r,{reverse:!0,pass:_ref=>{var[,path]=_ref;return!Range.includes(range,path)}});for(var[,path]of nodeEntries){if(!Range.includes(range,path)){var parent=Node.parent(r,path),index=path[path.length-1];parent.children.splice(index,1)}if(Path.equals(path,end.path)){var leaf=Node.leaf(r,path);leaf.text=leaf.text.slice(0,end.offset)}if(Path.equals(path,start.path)){var _leaf=Node.leaf(r,path);_leaf.text=_leaf.text.slice(start.offset)}}Editor.isEditor(r)&&(r.selection=null)}));return newRoot.children},get(root,path){for(var node=root,i=0;i<path.length;i++){var p=path[i];if(Text.isText(node)||!node.children[p])throw new Error("Cannot find a descendant at path [".concat(path,"] in node: ").concat(Scrubber.stringify(root)));node=node.children[p]}return node},has(root,path){for(var node=root,i=0;i<path.length;i++){var p=path[i];if(Text.isText(node)||!node.children[p])return!1;node=node.children[p]}return!0},isNode:value=>Text.isText(value)||Element.isElement(value)||Editor.isEditor(value),isNodeList(value){if(!Array.isArray(value))return!1;var cachedResult=IS_NODE_LIST_CACHE.get(value);if(void 0!==cachedResult)return cachedResult;var isNodeList=value.every((val=>Node.isNode(val)));return IS_NODE_LIST_CACHE.set(value,isNodeList),isNodeList},last(root,path){for(var p=path.slice(),n=Node.get(root,p);n&&!Text.isText(n)&&0!==n.children.length;){var i=n.children.length-1;n=n.children[i],p.push(i)}return[n,p]},leaf(root,path){var node=Node.get(root,path);if(!Text.isText(node))throw new Error("Cannot get the leaf node at path [".concat(path,"] because it refers to a non-leaf node: ").concat(Scrubber.stringify(node)));return node},*levels(root,path){var options=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};for(var p of Path.levels(path,options)){var n=Node.get(root,p);yield[n,p]}},matches:(node,props)=>Element.isElement(node)&&Element.isElementProps(props)&&Element.matches(node,props)||Text.isText(node)&&Text.isTextProps(props)&&Text.matches(node,props),*nodes(root){for(var options=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},{pass,reverse=!1}=options,{from=[],to}=options,visited=new Set,p=[],n=root;!to||!(reverse?Path.isBefore(p,to):Path.isAfter(p,to));)if(visited.has(n)||(yield[n,p]),visited.has(n)||Text.isText(n)||0===n.children.length||null!=pass&&!1!==pass([n,p])){if(0===p.length)break;if(!reverse){var newPath=Path.next(p);if(Node.has(root,newPath)){p=newPath,n=Node.get(root,p);continue}}if(reverse&&0!==p[p.length-1])p=Path.previous(p),n=Node.get(root,p);else p=Path.parent(p),n=Node.get(root,p),visited.add(n)}else{visited.add(n);var nextIndex=reverse?n.children.length-1:0;Path.isAncestor(p,from)&&(nextIndex=from[p.length]),p=p.concat(nextIndex),n=Node.get(root,p)}},parent(root,path){var parentPath=Path.parent(path),p=Node.get(root,parentPath);if(Text.isText(p))throw new Error("Cannot get the parent of path [".concat(path,"] because it does not exist in the root."));return p},string:node=>Text.isText(node)?node.text:node.children.map(Node.string).join(""),*texts(root){var options=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};for(var[node,path]of Node.nodes(root,options))Text.isText(node)&&(yield[node,path])}};function ownKeys$c(object,enumerableOnly){var keys=Object.keys(object);if(Object.getOwnPropertySymbols){var symbols=Object.getOwnPropertySymbols(object);enumerableOnly&&(symbols=symbols.filter((function(sym){return Object.getOwnPropertyDescriptor(object,sym).enumerable}))),keys.push.apply(keys,symbols)}return keys}function _objectSpread$c(target){for(var i=1;i<arguments.length;i++){var source=null!=arguments[i]?arguments[i]:{};i%2?ownKeys$c(Object(source),!0).forEach((function(key){_defineProperty(target,key,source[key])})):Object.getOwnPropertyDescriptors?Object.defineProperties(target,Object.getOwnPropertyDescriptors(source)):ownKeys$c(Object(source)).forEach((function(key){Object.defineProperty(target,key,Object.getOwnPropertyDescriptor(source,key))}))}return target}var Operation={isNodeOperation:value=>Operation.isOperation(value)&&value.type.endsWith("_node"),isOperation(value){if(!(0,is_plain_object.P)(value))return!1;switch(value.type){case"insert_node":case"remove_node":return Path.isPath(value.path)&&Node.isNode(value.node);case"insert_text":case"remove_text":return"number"==typeof value.offset&&"string"==typeof value.text&&Path.isPath(value.path);case"merge_node":return"number"==typeof value.position&&Path.isPath(value.path)&&(0,is_plain_object.P)(value.properties);case"move_node":return Path.isPath(value.path)&&Path.isPath(value.newPath);case"set_node":return Path.isPath(value.path)&&(0,is_plain_object.P)(value.properties)&&(0,is_plain_object.P)(value.newProperties);case"set_selection":return null===value.properties&&Range.isRange(value.newProperties)||null===value.newProperties&&Range.isRange(value.properties)||(0,is_plain_object.P)(value.properties)&&(0,is_plain_object.P)(value.newProperties);case"split_node":return Path.isPath(value.path)&&"number"==typeof value.position&&(0,is_plain_object.P)(value.properties);default:return!1}},isOperationList:value=>Array.isArray(value)&&value.every((val=>Operation.isOperation(val))),isSelectionOperation:value=>Operation.isOperation(value)&&value.type.endsWith("_selection"),isTextOperation:value=>Operation.isOperation(value)&&value.type.endsWith("_text"),inverse(op){switch(op.type){case"insert_node":return _objectSpread$c(_objectSpread$c({},op),{},{type:"remove_node"});case"insert_text":return _objectSpread$c(_objectSpread$c({},op),{},{type:"remove_text"});case"merge_node":return _objectSpread$c(_objectSpread$c({},op),{},{type:"split_node",path:Path.previous(op.path)});case"move_node":var{newPath,path}=op;if(Path.equals(newPath,path))return op;if(Path.isSibling(path,newPath))return _objectSpread$c(_objectSpread$c({},op),{},{path:newPath,newPath:path});var inversePath=Path.transform(path,op),inverseNewPath=Path.transform(Path.next(path),op);return _objectSpread$c(_objectSpread$c({},op),{},{path:inversePath,newPath:inverseNewPath});case"remove_node":return _objectSpread$c(_objectSpread$c({},op),{},{type:"insert_node"});case"remove_text":return _objectSpread$c(_objectSpread$c({},op),{},{type:"insert_text"});case"set_node":var{properties,newProperties}=op;return _objectSpread$c(_objectSpread$c({},op),{},{properties:newProperties,newProperties:properties});case"set_selection":var{properties:_properties,newProperties:_newProperties}=op;return _objectSpread$c(_objectSpread$c({},op),{},null==_properties?{properties:_newProperties,newProperties:null}:null==_newProperties?{properties:null,newProperties:_properties}:{properties:_newProperties,newProperties:_properties});case"split_node":return _objectSpread$c(_objectSpread$c({},op),{},{type:"merge_node",path:Path.next(op.path)})}}},IS_EDITOR_CACHE=new WeakMap,Editor={above:(editor,options)=>editor.above(options),addMark(editor,key,value){editor.addMark(key,value)},after:(editor,at,options)=>editor.after(at,options),before:(editor,at,options)=>editor.before(at,options),deleteBackward(editor){var options=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},{unit="character"}=options;editor.deleteBackward(unit)},deleteForward(editor){var options=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},{unit="character"}=options;editor.deleteForward(unit)},deleteFragment(editor,options){editor.deleteFragment(options)},edges:(editor,at)=>editor.edges(at),elementReadOnly(editor){var options=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return editor.elementReadOnly(options)},end:(editor,at)=>editor.end(at),first:(editor,at)=>editor.first(at),fragment:(editor,at)=>editor.fragment(at),hasBlocks:(editor,element)=>editor.hasBlocks(element),hasInlines:(editor,element)=>editor.hasInlines(element),hasPath:(editor,path)=>editor.hasPath(path),hasTexts:(editor,element)=>editor.hasTexts(element),insertBreak(editor){editor.insertBreak()},insertFragment(editor,fragment,options){editor.insertFragment(fragment,options)},insertNode(editor,node){editor.insertNode(node)},insertSoftBreak(editor){editor.insertSoftBreak()},insertText(editor,text){editor.insertText(text)},isBlock:(editor,value)=>editor.isBlock(value),isEdge:(editor,point,at)=>editor.isEdge(point,at),isEditor:value=>(value=>{var cachedIsEditor=IS_EDITOR_CACHE.get(value);if(void 0!==cachedIsEditor)return cachedIsEditor;if(!(0,is_plain_object.P)(value))return!1;var isEditor="function"==typeof value.addMark&&"function"==typeof value.apply&&"function"==typeof value.deleteFragment&&"function"==typeof value.insertBreak&&"function"==typeof value.insertSoftBreak&&"function"==typeof value.insertFragment&&"function"==typeof value.insertNode&&"function"==typeof value.insertText&&"function"==typeof value.isElementReadOnly&&"function"==typeof value.isInline&&"function"==typeof value.isSelectable&&"function"==typeof value.isVoid&&"function"==typeof value.normalizeNode&&"function"==typeof value.onChange&&"function"==typeof value.removeMark&&"function"==typeof value.getDirtyPaths&&(null===value.marks||(0,is_plain_object.P)(value.marks))&&(null===value.selection||Range.isRange(value.selection))&&Node.isNodeList(value.children)&&Operation.isOperationList(value.operations);return IS_EDITOR_CACHE.set(value,isEditor),isEditor})(value),isElementReadOnly:(editor,element)=>editor.isElementReadOnly(element),isEmpty:(editor,element)=>editor.isEmpty(element),isEnd:(editor,point,at)=>editor.isEnd(point,at),isInline:(editor,value)=>editor.isInline(value),isNormalizing:editor=>editor.isNormalizing(),isSelectable:(editor,value)=>editor.isSelectable(value),isStart:(editor,point,at)=>editor.isStart(point,at),isVoid:(editor,value)=>editor.isVoid(value),last:(editor,at)=>editor.last(at),leaf:(editor,at,options)=>editor.leaf(at,options),levels:(editor,options)=>editor.levels(options),marks:editor=>editor.getMarks(),next:(editor,options)=>editor.next(options),node:(editor,at,options)=>editor.node(at,options),nodes:(editor,options)=>editor.nodes(options),normalize(editor,options){editor.normalize(options)},parent:(editor,at,options)=>editor.parent(at,options),path:(editor,at,options)=>editor.path(at,options),pathRef:(editor,path,options)=>editor.pathRef(path,options),pathRefs:editor=>editor.pathRefs(),point:(editor,at,options)=>editor.point(at,options),pointRef:(editor,point,options)=>editor.pointRef(point,options),pointRefs:editor=>editor.pointRefs(),positions:(editor,options)=>editor.positions(options),previous:(editor,options)=>editor.previous(options),range:(editor,at,to)=>editor.range(at,to),rangeRef:(editor,range,options)=>editor.rangeRef(range,options),rangeRefs:editor=>editor.rangeRefs(),removeMark(editor,key){editor.removeMark(key)},setNormalizing(editor,isNormalizing){editor.setNormalizing(isNormalizing)},start:(editor,at)=>editor.start(at),string:(editor,at,options)=>editor.string(at,options),unhangRange:(editor,range,options)=>editor.unhangRange(range,options),void:(editor,options)=>editor.void(options),withoutNormalizing(editor,fn){editor.withoutNormalizing(fn)}},Span={isSpan:value=>Array.isArray(value)&&2===value.length&&value.every(Path.isPath)};function ownKeys$b(object,enumerableOnly){var keys=Object.keys(object);if(Object.getOwnPropertySymbols){var symbols=Object.getOwnPropertySymbols(object);enumerableOnly&&(symbols=symbols.filter((function(sym){return Object.getOwnPropertyDescriptor(object,sym).enumerable}))),keys.push.apply(keys,symbols)}return keys}function _objectSpread$b(target){for(var i=1;i<arguments.length;i++){var source=null!=arguments[i]?arguments[i]:{};i%2?ownKeys$b(Object(source),!0).forEach((function(key){_defineProperty(target,key,source[key])})):Object.getOwnPropertyDescriptors?Object.defineProperties(target,Object.getOwnPropertyDescriptors(source)):ownKeys$b(Object(source)).forEach((function(key){Object.defineProperty(target,key,Object.getOwnPropertyDescriptor(source,key))}))}return target}var Point={compare(point,another){var result=Path.compare(point.path,another.path);return 0===result?point.offset<another.offset?-1:point.offset>another.offset?1:0:result},isAfter:(point,another)=>1===Point.compare(point,another),isBefore:(point,another)=>-1===Point.compare(point,another),equals:(point,another)=>point.offset===another.offset&&Path.equals(point.path,another.path),isPoint:value=>(0,is_plain_object.P)(value)&&"number"==typeof value.offset&&Path.isPath(value.path),transform(point,op){var options=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return fn(point,(p=>{if(null===p)return null;var{affinity="forward"}=options,{path,offset}=p;switch(op.type){case"insert_node":case"move_node":p.path=Path.transform(path,op,options);break;case"insert_text":Path.equals(op.path,path)&&(op.offset<offset||op.offset===offset&&"forward"===affinity)&&(p.offset+=op.text.length);break;case"merge_node":Path.equals(op.path,path)&&(p.offset+=op.position),p.path=Path.transform(path,op,options);break;case"remove_text":Path.equals(op.path,path)&&op.offset<=offset&&(p.offset-=Math.min(offset-op.offset,op.text.length));break;case"remove_node":if(Path.equals(op.path,path)||Path.isAncestor(op.path,path))return null;p.path=Path.transform(path,op,options);break;case"split_node":if(Path.equals(op.path,path)){if(op.position===offset&&null==affinity)return null;(op.position<offset||op.position===offset&&"forward"===affinity)&&(p.offset-=op.position,p.path=Path.transform(path,op,_objectSpread$b(_objectSpread$b({},options),{},{affinity:"forward"})))}else p.path=Path.transform(path,op,options)}}))}},_scrubber=void 0,Scrubber={setScrubber(scrubber){_scrubber=scrubber},stringify:value=>JSON.stringify(value,_scrubber)},_excluded$2=["text"],_excluded2$2=["anchor","focus"];function ownKeys$a(object,enumerableOnly){var keys=Object.keys(object);if(Object.getOwnPropertySymbols){var symbols=Object.getOwnPropertySymbols(object);enumerableOnly&&(symbols=symbols.filter((function(sym){return Object.getOwnPropertyDescriptor(object,sym).enumerable}))),keys.push.apply(keys,symbols)}return keys}function _objectSpread$a(target){for(var i=1;i<arguments.length;i++){var source=null!=arguments[i]?arguments[i]:{};i%2?ownKeys$a(Object(source),!0).forEach((function(key){_defineProperty(target,key,source[key])})):Object.getOwnPropertyDescriptors?Object.defineProperties(target,Object.getOwnPropertyDescriptors(source)):ownKeys$a(Object(source)).forEach((function(key){Object.defineProperty(target,key,Object.getOwnPropertyDescriptor(source,key))}))}return target}var CodepointType,Text={equals(text,another){var options=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},{loose=!1}=options;function omitText(obj){return _objectWithoutProperties(obj,_excluded$2)}return isDeepEqual(loose?omitText(text):text,loose?omitText(another):another)},isText:value=>(0,is_plain_object.P)(value)&&"string"==typeof value.text,isTextList:value=>Array.isArray(value)&&value.every((val=>Text.isText(val))),isTextProps:props=>void 0!==props.text,matches(text,props){for(var key in props)if("text"!==key&&(!text.hasOwnProperty(key)||text[key]!==props[key]))return!1;return!0},decorations(node,decorations){var leaves=[_objectSpread$a({},node)];for(var dec of decorations){var rest=_objectWithoutProperties(dec,_excluded2$2),[start,end]=Range.edges(dec),next=[],leafEnd=0,decorationStart=start.offset,decorationEnd=end.offset;for(var leaf of leaves){var{length}=leaf.text,leafStart=leafEnd;if(leafEnd+=length,decorationStart<=leafStart&&leafEnd<=decorationEnd)Object.assign(leaf,rest),next.push(leaf);else if(decorationStart!==decorationEnd&&(decorationStart===leafEnd||decorationEnd===leafStart)||decorationStart>leafEnd||decorationEnd<leafStart||decorationEnd===leafStart&&0!==leafStart)next.push(leaf);else{var middle=leaf,before=void 0,after=void 0;if(decorationEnd<leafEnd){var off=decorationEnd-leafStart;after=_objectSpread$a(_objectSpread$a({},middle),{},{text:middle.text.slice(off)}),middle=_objectSpread$a(_objectSpread$a({},middle),{},{text:middle.text.slice(0,off)})}if(decorationStart>leafStart){var _off=decorationStart-leafStart;before=_objectSpread$a(_objectSpread$a({},middle),{},{text:middle.text.slice(0,_off)}),middle=_objectSpread$a(_objectSpread$a({},middle),{},{text:middle.text.slice(_off)})}Object.assign(middle,rest),before&&next.push(before),next.push(middle),after&&next.push(after)}}leaves=next}return leaves}},getDefaultInsertLocation=editor=>editor.selection?editor.selection:editor.children.length>0?Editor.end(editor,[]):[0],matchPath=(editor,path)=>{var[node]=Editor.node(editor,path);return n=>n===node},getCharacterDistance=function getCharacterDistance(str){var isRTL=arguments.length>1&&void 0!==arguments[1]&&arguments[1],isLTR=!isRTL,codepoints=isRTL?codepointsIteratorRTL(str):str,left=CodepointType.None,right=CodepointType.None,distance=0,gb12Or13=null;for(var char of codepoints){var code=char.codePointAt(0);if(!code)break;var type=getCodepointType(char,code);if([left,right]=isLTR?[right,type]:[type,left],intersects(left,CodepointType.ZWJ)&&intersects(right,CodepointType.ExtPict)&&!endsWithEmojiZWJ(isLTR?str.substring(0,distance):str.substring(0,str.length-distance)))break;if(intersects(left,CodepointType.RI)&&intersects(right,CodepointType.RI)&&!(gb12Or13=null!==gb12Or13?!gb12Or13:!!isLTR||endsWithOddNumberOfRIs(str.substring(0,str.length-distance))))break;if(left!==CodepointType.None&&right!==CodepointType.None&&isBoundaryPair(left,right))break;distance+=char.length}return distance||1},SPACE=/\s/,PUNCTUATION=/[\u0021-\u0023\u0025-\u002A\u002C-\u002F\u003A\u003B\u003F\u0040\u005B-\u005D\u005F\u007B\u007D\u00A1\u00A7\u00AB\u00B6\u00B7\u00BB\u00BF\u037E\u0387\u055A-\u055F\u0589\u058A\u05BE\u05C0\u05C3\u05C6\u05F3\u05F4\u0609\u060A\u060C\u060D\u061B\u061E\u061F\u066A-\u066D\u06D4\u0700-\u070D\u07F7-\u07F9\u0830-\u083E\u085E\u0964\u0965\u0970\u0AF0\u0DF4\u0E4F\u0E5A\u0E5B\u0F04-\u0F12\u0F14\u0F3A-\u0F3D\u0F85\u0FD0-\u0FD4\u0FD9\u0FDA\u104A-\u104F\u10FB\u1360-\u1368\u1400\u166D\u166E\u169B\u169C\u16EB-\u16ED\u1735\u1736\u17D4-\u17D6\u17D8-\u17DA\u1800-\u180A\u1944\u1945\u1A1E\u1A1F\u1AA0-\u1AA6\u1AA8-\u1AAD\u1B5A-\u1B60\u1BFC-\u1BFF\u1C3B-\u1C3F\u1C7E\u1C7F\u1CC0-\u1CC7\u1CD3\u2010-\u2027\u2030-\u2043\u2045-\u2051\u2053-\u205E\u207D\u207E\u208D\u208E\u2329\u232A\u2768-\u2775\u27C5\u27C6\u27E6-\u27EF\u2983-\u2998\u29D8-\u29DB\u29FC\u29FD\u2CF9-\u2CFC\u2CFE\u2CFF\u2D70\u2E00-\u2E2E\u2E30-\u2E3B\u3001-\u3003\u3008-\u3011\u3014-\u301F\u3030\u303D\u30A0\u30FB\uA4FE\uA4FF\uA60D-\uA60F\uA673\uA67E\uA6F2-\uA6F7\uA874-\uA877\uA8CE\uA8CF\uA8F8-\uA8FA\uA92E\uA92F\uA95F\uA9C1-\uA9CD\uA9DE\uA9DF\uAA5C-\uAA5F\uAADE\uAADF\uAAF0\uAAF1\uABEB\uFD3E\uFD3F\uFE10-\uFE19\uFE30-\uFE52\uFE54-\uFE61\uFE63\uFE68\uFE6A\uFE6B\uFF01-\uFF03\uFF05-\uFF0A\uFF0C-\uFF0F\uFF1A\uFF1B\uFF1F\uFF20\uFF3B-\uFF3D\uFF3F\uFF5B\uFF5D\uFF5F-\uFF65]/,CHAMELEON=/['\u2018\u2019]/,splitByCharacterDistance=(str,dist,isRTL)=>{if(isRTL){var at=str.length-dist;return[str.slice(at,str.length),str.slice(0,at)]}return[str.slice(0,dist),str.slice(dist)]},isWordCharacter=function isWordCharacter(char,remaining){var isRTL=arguments.length>2&&void 0!==arguments[2]&&arguments[2];if(SPACE.test(char))return!1;if(CHAMELEON.test(char)){var charDist=getCharacterDistance(remaining,isRTL),[nextChar,nextRemaining]=splitByCharacterDistance(remaining,charDist,isRTL);if(isWordCharacter(nextChar,nextRemaining,isRTL))return!0}return!PUNCTUATION.test(char)},codepointsIteratorRTL=function*codepointsIteratorRTL(str){for(var end=str.length-1,i=0;i<str.length;i++){var char1=str.charAt(end-i);if(isLowSurrogate(char1.charCodeAt(0))){var char2=str.charAt(end-i-1);if(isHighSurrogate(char2.charCodeAt(0))){yield char2+char1,i++;continue}}yield char1}},isHighSurrogate=charCode=>charCode>=55296&&charCode<=56319,isLowSurrogate=charCode=>charCode>=56320&&charCode<=57343;!function(CodepointType){CodepointType[CodepointType.None=0]="None",CodepointType[CodepointType.Extend=1]="Extend",CodepointType[CodepointType.ZWJ=2]="ZWJ",CodepointType[CodepointType.RI=4]="RI",CodepointType[CodepointType.Prepend=8]="Prepend",CodepointType[CodepointType.SpacingMark=16]="SpacingMark",CodepointType[CodepointType.L=32]="L",CodepointType[CodepointType.V=64]="V",CodepointType[CodepointType.T=128]="T",CodepointType[CodepointType.LV=256]="LV",CodepointType[CodepointType.LVT=512]="LVT",CodepointType[CodepointType.ExtPict=1024]="ExtPict",CodepointType[CodepointType.Any=2048]="Any"}(CodepointType||(CodepointType={}));var reExtend=/^(?:[\u0300-\u036F\u0483-\u0489\u0591-\u05BD\u05BF\u05C1\u05C2\u05C4\u05C5\u05C7\u0610-\u061A\u064B-\u065F\u0670\u06D6-\u06DC\u06DF-\u06E4\u06E7\u06E8\u06EA-\u06ED\u0711\u0730-\u074A\u07A6-\u07B0\u07EB-\u07F3\u07FD\u0816-\u0819\u081B-\u0823\u0825-\u0827\u0829-\u082D\u0859-\u085B\u08D3-\u08E1\u08E3-\u0902\u093A\u093C\u0941-\u0948\u094D\u0951-\u0957\u0962\u0963\u0981\u09BC\u09BE\u09C1-\u09C4\u09CD\u09D7\u09E2\u09E3\u09FE\u0A01\u0A02\u0A3C\u0A41\u0A42\u0A47\u0A48\u0A4B-\u0A4D\u0A51\u0A70\u0A71\u0A75\u0A81\u0A82\u0ABC\u0AC1-\u0AC5\u0AC7\u0AC8\u0ACD\u0AE2\u0AE3\u0AFA-\u0AFF\u0B01\u0B3C\u0B3E\u0B3F\u0B41-\u0B44\u0B4D\u0B55-\u0B57\u0B62\u0B63\u0B82\u0BBE\u0BC0\u0BCD\u0BD7\u0C00\u0C04\u0C3E-\u0C40\u0C46-\u0C48\u0C4A-\u0C4D\u0C55\u0C56\u0C62\u0C63\u0C81\u0CBC\u0CBF\u0CC2\u0CC6\u0CCC\u0CCD\u0CD5\u0CD6\u0CE2\u0CE3\u0D00\u0D01\u0D3B\u0D3C\u0D3E\u0D41-\u0D44\u0D4D\u0D57\u0D62\u0D63\u0D81\u0DCA\u0DCF\u0DD2-\u0DD4\u0DD6\u0DDF\u0E31\u0E34-\u0E3A\u0E47-\u0E4E\u0EB1\u0EB4-\u0EBC\u0EC8-\u0ECD\u0F18\u0F19\u0F35\u0F37\u0F39\u0F71-\u0F7E\u0F80-\u0F84\u0F86\u0F87\u0F8D-\u0F97\u0F99-\u0FBC\u0FC6\u102D-\u1030\u1032-\u1037\u1039\u103A\u103D\u103E\u1058\u1059\u105E-\u1060\u1071-\u1074\u1082\u1085\u1086\u108D\u109D\u135D-\u135F\u1712-\u1714\u1732-\u1734\u1752\u1753\u1772\u1773\u17B4\u17B5\u17B7-\u17BD\u17C6\u17C9-\u17D3\u17DD\u180B-\u180D\u1885\u1886\u18A9\u1920-\u1922\u1927\u1928\u1932\u1939-\u193B\u1A17\u1A18\u1A1B\u1A56\u1A58-\u1A5E\u1A60\u1A62\u1A65-\u1A6C\u1A73-\u1A7C\u1A7F\u1AB0-\u1AC0\u1B00-\u1B03\u1B34-\u1B3A\u1B3C\u1B42\u1B6B-\u1B73\u1B80\u1B81\u1BA2-\u1BA5\u1BA8\u1BA9\u1BAB-\u1BAD\u1BE6\u1BE8\u1BE9\u1BED\u1BEF-\u1BF1\u1C2C-\u1C33\u1C36\u1C37\u1CD0-\u1CD2\u1CD4-\u1CE0\u1CE2-\u1CE8\u1CED\u1CF4\u1CF8\u1CF9\u1DC0-\u1DF9\u1DFB-\u1DFF\u200C\u20D0-\u20F0\u2CEF-\u2CF1\u2D7F\u2DE0-\u2DFF\u302A-\u302F\u3099\u309A\uA66F-\uA672\uA674-\uA67D\uA69E\uA69F\uA6F0\uA6F1\uA802\uA806\uA80B\uA825\uA826\uA82C\uA8C4\uA8C5\uA8E0-\uA8F1\uA8FF\uA926-\uA92D\uA947-\uA951\uA980-\uA982\uA9B3\uA9B6-\uA9B9\uA9BC\uA9BD\uA9E5\uAA29-\uAA2E\uAA31\uAA32\uAA35\uAA36\uAA43\uAA4C\uAA7C\uAAB0\uAAB2-\uAAB4\uAAB7\uAAB8\uAABE\uAABF\uAAC1\uAAEC\uAAED\uAAF6\uABE5\uABE8\uABED\uFB1E\uFE00-\uFE0F\uFE20-\uFE2F\uFF9E\uFF9F]|\uD800[\uDDFD\uDEE0\uDF76-\uDF7A]|\uD802[\uDE01-\uDE03\uDE05\uDE06\uDE0C-\uDE0F\uDE38-\uDE3A\uDE3F\uDEE5\uDEE6]|\uD803[\uDD24-\uDD27\uDEAB\uDEAC\uDF46-\uDF50]|\uD804[\uDC01\uDC38-\uDC46\uDC7F-\uDC81\uDCB3-\uDCB6\uDCB9\uDCBA\uDD00-\uDD02\uDD27-\uDD2B\uDD2D-\uDD34\uDD73\uDD80\uDD81\uDDB6-\uDDBE\uDDC9-\uDDCC\uDDCF\uDE2F-\uDE31\uDE34\uDE36\uDE37\uDE3E\uDEDF\uDEE3-\uDEEA\uDF00\uDF01\uDF3B\uDF3C\uDF3E\uDF40\uDF57\uDF66-\uDF6C\uDF70-\uDF74]|\uD805[\uDC38-\uDC3F\uDC42-\uDC44\uDC46\uDC5E\uDCB0\uDCB3-\uDCB8\uDCBA\uDCBD\uDCBF\uDCC0\uDCC2\uDCC3\uDDAF\uDDB2-\uDDB5\uDDBC\uDDBD\uDDBF\uDDC0\uDDDC\uDDDD\uDE33-\uDE3A\uDE3D\uDE3F\uDE40\uDEAB\uDEAD\uDEB0-\uDEB5\uDEB7\uDF1D-\uDF1F\uDF22-\uDF25\uDF27-\uDF2B]|\uD806[\uDC2F-\uDC37\uDC39\uDC3A\uDD30\uDD3B\uDD3C\uDD3E\uDD43\uDDD4-\uDDD7\uDDDA\uDDDB\uDDE0\uDE01-\uDE0A\uDE33-\uDE38\uDE3B-\uDE3E\uDE47\uDE51-\uDE56\uDE59-\uDE5B\uDE8A-\uDE96\uDE98\uDE99]|\uD807[\uDC30-\uDC36\uDC38-\uDC3D\uDC3F\uDC92-\uDCA7\uDCAA-\uDCB0\uDCB2\uDCB3\uDCB5\uDCB6\uDD31-\uDD36\uDD3A\uDD3C\uDD3D\uDD3F-\uDD45\uDD47\uDD90\uDD91\uDD95\uDD97\uDEF3\uDEF4]|\uD81A[\uDEF0-\uDEF4\uDF30-\uDF36]|\uD81B[\uDF4F\uDF8F-\uDF92\uDFE4]|\uD82F[\uDC9D\uDC9E]|\uD834[\uDD65\uDD67-\uDD69\uDD6E-\uDD72\uDD7B-\uDD82\uDD85-\uDD8B\uDDAA-\uDDAD\uDE42-\uDE44]|\uD836[\uDE00-\uDE36\uDE3B-\uDE6C\uDE75\uDE84\uDE9B-\uDE9F\uDEA1-\uDEAF]|\uD838[\uDC00-\uDC06\uDC08-\uDC18\uDC1B-\uDC21\uDC23\uDC24\uDC26-\uDC2A\uDD30-\uDD36\uDEEC-\uDEEF]|\uD83A[\uDCD0-\uDCD6\uDD44-\uDD4A]|\uD83C[\uDFFB-\uDFFF]|\uDB40[\uDC20-\uDC7F\uDD00-\uDDEF])$/,rePrepend=/^(?:[\u0600-\u0605\u06DD\u070F\u0890\u0891\u08E2\u0D4E]|\uD804[\uDCBD\uDCCD\uDDC2\uDDC3]|\uD806[\uDD3F\uDD41\uDE3A\uDE84-\uDE89]|\uD807\uDD46)$/,reSpacingMark=/^(?:[\u0903\u093B\u093E-\u0940\u0949-\u094C\u094E\u094F\u0982\u0983\u09BF\u09C0\u09C7\u09C8\u09CB\u09CC\u0A03\u0A3E-\u0A40\u0A83\u0ABE-\u0AC0\u0AC9\u0ACB\u0ACC\u0B02\u0B03\u0B40\u0B47\u0B48\u0B4B\u0B4C\u0BBF\u0BC1\u0BC2\u0BC6-\u0BC8\u0BCA-\u0BCC\u0C01-\u0C03\u0C41-\u0C44\u0C82\u0C83\u0CBE\u0CC0\u0CC1\u0CC3\u0CC4\u0CC7\u0CC8\u0CCA\u0CCB\u0D02\u0D03\u0D3F\u0D40\u0D46-\u0D48\u0D4A-\u0D4C\u0D82\u0D83\u0DD0\u0DD1\u0DD8-\u0DDE\u0DF2\u0DF3\u0E33\u0EB3\u0F3E\u0F3F\u0F7F\u1031\u103B\u103C\u1056\u1057\u1084\u1715\u1734\u17B6\u17BE-\u17C5\u17C7\u17C8\u1923-\u1926\u1929-\u192B\u1930\u1931\u1933-\u1938\u1A19\u1A1A\u1A55\u1A57\u1A6D-\u1A72\u1B04\u1B3B\u1B3D-\u1B41\u1B43\u1B44\u1B82\u1BA1\u1BA6\u1BA7\u1BAA\u1BE7\u1BEA-\u1BEC\u1BEE\u1BF2\u1BF3\u1C24-\u1C2B\u1C34\u1C35\u1CE1\u1CF7\uA823\uA824\uA827\uA880\uA881\uA8B4-\uA8C3\uA952\uA953\uA983\uA9B4\uA9B5\uA9BA\uA9BB\uA9BE-\uA9C0\uAA2F\uAA30\uAA33\uAA34\uAA4D\uAAEB\uAAEE\uAAEF\uAAF5\uABE3\uABE4\uABE6\uABE7\uABE9\uABEA\uABEC]|\uD804[\uDC00\uDC02\uDC82\uDCB0-\uDCB2\uDCB7\uDCB8\uDD2C\uDD45\uDD46\uDD82\uDDB3-\uDDB5\uDDBF\uDDC0\uDDCE\uDE2C-\uDE2E\uDE32\uDE33\uDE35\uDEE0-\uDEE2\uDF02\uDF03\uDF3F\uDF41-\uDF44\uDF47\uDF48\uDF4B-\uDF4D\uDF62\uDF63]|\uD805[\uDC35-\uDC37\uDC40\uDC41\uDC45\uDCB1\uDCB2\uDCB9\uDCBB\uDCBC\uDCBE\uDCC1\uDDB0\uDDB1\uDDB8-\uDDBB\uDDBE\uDE30-\uDE32\uDE3B\uDE3C\uDE3E\uDEAC\uDEAE\uDEAF\uDEB6\uDF26]|\uD806[\uDC2C-\uDC2E\uDC38\uDD31-\uDD35\uDD37\uDD38\uDD3D\uDD40\uDD42\uDDD1-\uDDD3\uDDDC-\uDDDF\uDDE4\uDE39\uDE57\uDE58\uDE97]|\uD807[\uDC2F\uDC3E\uDCA9\uDCB1\uDCB4\uDD8A-\uDD8E\uDD93\uDD94\uDD96\uDEF5\uDEF6]|\uD81B[\uDF51-\uDF87\uDFF0\uDFF1]|\uD834[\uDD66\uDD6D])$/,reL=/^[\u1100-\u115F\uA960-\uA97C]$/,reV=/^[\u1160-\u11A7\uD7B0-\uD7C6]$/,reT=/^[\u11A8-\u11FF\uD7CB-\uD7FB]$/,reLV=/^[\uAC00\uAC1C\uAC38\uAC54\uAC70\uAC8C\uACA8\uACC4\uACE0\uACFC\uAD18\uAD34\uAD50\uAD6C\uAD88\uADA4\uADC0\uADDC\uADF8\uAE14\uAE30\uAE4C\uAE68\uAE84\uAEA0\uAEBC\uAED8\uAEF4\uAF10\uAF2C\uAF48\uAF64\uAF80\uAF9C\uAFB8\uAFD4\uAFF0\uB00C\uB028\uB044\uB060\uB07C\uB098\uB0B4\uB0D0\uB0EC\uB108\uB124\uB140\uB15C\uB178\uB194\uB1B0\uB1CC\uB1E8\uB204\uB220\uB23C\uB258\uB274\uB290\uB2AC\uB2C8\uB2E4\uB300\uB31C\uB338\uB354\uB370\uB38C\uB3A8\uB3C4\uB3E0\uB3FC\uB418\uB434\uB450\uB46C\uB488\uB4A4\uB4C0\uB4DC\uB4F8\uB514\uB530\uB54C\uB568\uB584\uB5A0\uB5BC\uB5D8\uB5F4\uB610\uB62C\uB648\uB664\uB680\uB69C\uB6B8\uB6D4\uB6F0\uB70C\uB728\uB744\uB760\uB77C\uB798\uB7B4\uB7D0\uB7EC\uB808\uB824\uB840\uB85C\uB878\uB894\uB8B0\uB8CC\uB8E8\uB904\uB920\uB93C\uB958\uB974\uB990\uB9AC\uB9C8\uB9E4\uBA00\uBA1C\uBA38\uBA54\uBA70\uBA8C\uBAA8\uBAC4\uBAE0\uBAFC\uBB18\uBB34\uBB50\uBB6C\uBB88\uBBA4\uBBC0\uBBDC\uBBF8\uBC14\uBC30\uBC4C\uBC68\uBC84\uBCA0\uBCBC\uBCD8\uBCF4\uBD10\uBD2C\uBD48\uBD64\uBD80\uBD9C\uBDB8\uBDD4\uBDF0\uBE0C\uBE28\uBE44\uBE60\uBE7C\uBE98\uBEB4\uBED0\uBEEC\uBF08\uBF24\uBF40\uBF5C\uBF78\uBF94\uBFB0\uBFCC\uBFE8\uC004\uC020\uC03C\uC058\uC074\uC090\uC0AC\uC0C8\uC0E4\uC100\uC11C\uC138\uC154\uC170\uC18C\uC1A8\uC1C4\uC1E0\uC1FC\uC218\uC234\uC250\uC26C\uC288\uC2A4\uC2C0\uC2DC\uC2F8\uC314\uC330\uC34C\uC368\uC384\uC3A0\uC3BC\uC3D8\uC3F4\uC410\uC42C\uC448\uC464\uC480\uC49C\uC4B8\uC4D4\uC4F0\uC50C\uC528\uC544\uC560\uC57C\uC598\uC5B4\uC5D0\uC5EC\uC608\uC624\uC640\uC65C\uC678\uC694\uC6B0\uC6CC\uC6E8\uC704\uC720\uC73C\uC758\uC774\uC790\uC7AC\uC7C8\uC7E4\uC800\uC81C\uC838\uC854\uC870\uC88C\uC8A8\uC8C4\uC8E0\uC8FC\uC918\uC934\uC950\uC96C\uC988\uC9A4\uC9C0\uC9DC\uC9F8\uCA14\uCA30\uCA4C\uCA68\uCA84\uCAA0\uCABC\uCAD8\uCAF4\uCB10\uCB2C\uCB48\uCB64\uCB80\uCB9C\uCBB8\uCBD4\uCBF0\uCC0C\uCC28\uCC44\uCC60\uCC7C\uCC98\uCCB4\uCCD0\uCCEC\uCD08\uCD24\uCD40\uCD5C\uCD78\uCD94\uCDB0\uCDCC\uCDE8\uCE04\uCE20\uCE3C\uCE58\uCE74\uCE90\uCEAC\uCEC8\uCEE4\uCF00\uCF1C\uCF38\uCF54\uCF70\uCF8C\uCFA8\uCFC4\uCFE0\uCFFC\uD018\uD034\uD050\uD06C\uD088\uD0A4\uD0C0\uD0DC\uD0F8\uD114\uD130\uD14C\uD168\uD184\uD1A0\uD1BC\uD1D8\uD1F4\uD210\uD22C\uD248\uD264\uD280\uD29C\uD2B8\uD2D4\uD2F0\uD30C\uD328\uD344\uD360\uD37C\uD398\uD3B4\uD3D0\uD3EC\uD408\uD424\uD440\uD45C\uD478\uD494\uD4B0\uD4CC\uD4E8\uD504\uD520\uD53C\uD558\uD574\uD590\uD5AC\uD5C8\uD5E4\uD600\uD61C\uD638\uD654\uD670\uD68C\uD6A8\uD6C4\uD6E0\uD6FC\uD718\uD734\uD750\uD76C\uD788]$/,reLVT=/^[\uAC01-\uAC1B\uAC1D-\uAC37\uAC39-\uAC53\uAC55-\uAC6F\uAC71-\uAC8B\uAC8D-\uACA7\uACA9-\uACC3\uACC5-\uACDF\uACE1-\uACFB\uACFD-\uAD17\uAD19-\uAD33\uAD35-\uAD4F\uAD51-\uAD6B\uAD6D-\uAD87\uAD89-\uADA3\uADA5-\uADBF\uADC1-\uADDB\uADDD-\uADF7\uADF9-\uAE13\uAE15-\uAE2F\uAE31-\uAE4B\uAE4D-\uAE67\uAE69-\uAE83\uAE85-\uAE9F\uAEA1-\uAEBB\uAEBD-\uAED7\uAED9-\uAEF3\uAEF5-\uAF0F\uAF11-\uAF2B\uAF2D-\uAF47\uAF49-\uAF63\uAF65-\uAF7F\uAF81-\uAF9B\uAF9D-\uAFB7\uAFB9-\uAFD3\uAFD5-\uAFEF\uAFF1-\uB00B\uB00D-\uB027\uB029-\uB043\uB045-\uB05F\uB061-\uB07B\uB07D-\uB097\uB099-\uB0B3\uB0B5-\uB0CF\uB0D1-\uB0EB\uB0ED-\uB107\uB109-\uB123\uB125-\uB13F\uB141-\uB15B\uB15D-\uB177\uB179-\uB193\uB195-\uB1AF\uB1B1-\uB1CB\uB1CD-\uB1E7\uB1E9-\uB203\uB205-\uB21F\uB221-\uB23B\uB23D-\uB257\uB259-\uB273\uB275-\uB28F\uB291-\uB2AB\uB2AD-\uB2C7\uB2C9-\uB2E3\uB2E5-\uB2FF\uB301-\uB31B\uB31D-\uB337\uB339-\uB353\uB355-\uB36F\uB371-\uB38B\uB38D-\uB3A7\uB3A9-\uB3C3\uB3C5-\uB3DF\uB3E1-\uB3FB\uB3FD-\uB417\uB419-\uB433\uB435-\uB44F\uB451-\uB46B\uB46D-\uB487\uB489-\uB4A3\uB4A5-\uB4BF\uB4C1-\uB4DB\uB4DD-\uB4F7\uB4F9-\uB513\uB515-\uB52F\uB531-\uB54B\uB54D-\uB567\uB569-\uB583\uB585-\uB59F\uB5A1-\uB5BB\uB5BD-\uB5D7\uB5D9-\uB5F3\uB5F5-\uB60F\uB611-\uB62B\uB62D-\uB647\uB649-\uB663\uB665-\uB67F\uB681-\uB69B\uB69D-\uB6B7\uB6B9-\uB6D3\uB6D5-\uB6EF\uB6F1-\uB70B\uB70D-\uB727\uB729-\uB743\uB745-\uB75F\uB761-\uB77B\uB77D-\uB797\uB799-\uB7B3\uB7B5-\uB7CF\uB7D1-\uB7EB\uB7ED-\uB807\uB809-\uB823\uB825-\uB83F\uB841-\uB85B\uB85D-\uB877\uB879-\uB893\uB895-\uB8AF\uB8B1-\uB8CB\uB8CD-\uB8E7\uB8E9-\uB903\uB905-\uB91F\uB921-\uB93B\uB93D-\uB957\uB959-\uB973\uB975-\uB98F\uB991-\uB9AB\uB9AD-\uB9C7\uB9C9-\uB9E3\uB9E5-\uB9FF\uBA01-\uBA1B\uBA1D-\uBA37\uBA39-\uBA53\uBA55-\uBA6F\uBA71-\uBA8B\uBA8D-\uBAA7\uBAA9-\uBAC3\uBAC5-\uBADF\uBAE1-\uBAFB\uBAFD-\uBB17\uBB19-\uBB33\uBB35-\uBB4F\uBB51-\uBB6B\uBB6D-\uBB87\uBB89-\uBBA3\uBBA5-\uBBBF\uBBC1-\uBBDB\uBBDD-\uBBF7\uBBF9-\uBC13\uBC15-\uBC2F\uBC31-\uBC4B\uBC4D-\uBC67\uBC69-\uBC83\uBC85-\uBC9F\uBCA1-\uBCBB\uBCBD-\uBCD7\uBCD9-\uBCF3\uBCF5-\uBD0F\uBD11-\uBD2B\uBD2D-\uBD47\uBD49-\uBD63\uBD65-\uBD7F\uBD81-\uBD9B\uBD9D-\uBDB7\uBDB9-\uBDD3\uBDD5-\uBDEF\uBDF1-\uBE0B\uBE0D-\uBE27\uBE29-\uBE43\uBE45-\uBE5F\uBE61-\uBE7B\uBE7D-\uBE97\uBE99-\uBEB3\uBEB5-\uBECF\uBED1-\uBEEB\uBEED-\uBF07\uBF09-\uBF23\uBF25-\uBF3F\uBF41-\uBF5B\uBF5D-\uBF77\uBF79-\uBF93\uBF95-\uBFAF\uBFB1-\uBFCB\uBFCD-\uBFE7\uBFE9-\uC003\uC005-\uC01F\uC021-\uC03B\uC03D-\uC057\uC059-\uC073\uC075-\uC08F\uC091-\uC0AB\uC0AD-\uC0C7\uC0C9-\uC0E3\uC0E5-\uC0FF\uC101-\uC11B\uC11D-\uC137\uC139-\uC153\uC155-\uC16F\uC171-\uC18B\uC18D-\uC1A7\uC1A9-\uC1C3\uC1C5-\uC1DF\uC1E1-\uC1FB\uC1FD-\uC217\uC219-\uC233\uC235-\uC24F\uC251-\uC26B\uC26D-\uC287\uC289-\uC2A3\uC2A5-\uC2BF\uC2C1-\uC2DB\uC2DD-\uC2F7\uC2F9-\uC313\uC315-\uC32F\uC331-\uC34B\uC34D-\uC367\uC369-\uC383\uC385-\uC39F\uC3A1-\uC3BB\uC3BD-\uC3D7\uC3D9-\uC3F3\uC3F5-\uC40F\uC411-\uC42B\uC42D-\uC447\uC449-\uC463\uC465-\uC47F\uC481-\uC49B\uC49D-\uC4B7\uC4B9-\uC4D3\uC4D5-\uC4EF\uC4F1-\uC50B\uC50D-\uC527\uC529-\uC543\uC545-\uC55F\uC561-\uC57B\uC57D-\uC597\uC599-\uC5B3\uC5B5-\uC5CF\uC5D1-\uC5EB\uC5ED-\uC607\uC609-\uC623\uC625-\uC63F\uC641-\uC65B\uC65D-\uC677\uC679-\uC693\uC695-\uC6AF\uC6B1-\uC6CB\uC6CD-\uC6E7\uC6E9-\uC703\uC705-\uC71F\uC721-\uC73B\uC73D-\uC757\uC759-\uC773\uC775-\uC78F\uC791-\uC7AB\uC7AD-\uC7C7\uC7C9-\uC7E3\uC7E5-\uC7FF\uC801-\uC81B\uC81D-\uC837\uC839-\uC853\uC855-\uC86F\uC871-\uC88B\uC88D-\uC8A7\uC8A9-\uC8C3\uC8C5-\uC8DF\uC8E1-\uC8FB\uC8FD-\uC917\uC919-\uC933\uC935-\uC94F\uC951-\uC96B\uC96D-\uC987\uC989-\uC9A3\uC9A5-\uC9BF\uC9C1-\uC9DB\uC9DD-\uC9F7\uC9F9-\uCA13\uCA15-\uCA2F\uCA31-\uCA4B\uCA4D-\uCA67\uCA69-\uCA83\uCA85-\uCA9F\uCAA1-\uCABB\uCABD-\uCAD7\uCAD9-\uCAF3\uCAF5-\uCB0F\uCB11-\uCB2B\uCB2D-\uCB47\uCB49-\uCB63\uCB65-\uCB7F\uCB81-\uCB9B\uCB9D-\uCBB7\uCBB9-\uCBD3\uCBD5-\uCBEF\uCBF1-\uCC0B\uCC0D-\uCC27\uCC29-\uCC43\uCC45-\uCC5F\uCC61-\uCC7B\uCC7D-\uCC97\uCC99-\uCCB3\uCCB5-\uCCCF\uCCD1-\uCCEB\uCCED-\uCD07\uCD09-\uCD23\uCD25-\uCD3F\uCD41-\uCD5B\uCD5D-\uCD77\uCD79-\uCD93\uCD95-\uCDAF\uCDB1-\uCDCB\uCDCD-\uCDE7\uCDE9-\uCE03\uCE05-\uCE1F\uCE21-\uCE3B\uCE3D-\uCE57\uCE59-\uCE73\uCE75-\uCE8F\uCE91-\uCEAB\uCEAD-\uCEC7\uCEC9-\uCEE3\uCEE5-\uCEFF\uCF01-\uCF1B\uCF1D-\uCF37\uCF39-\uCF53\uCF55-\uCF6F\uCF71-\uCF8B\uCF8D-\uCFA7\uCFA9-\uCFC3\uCFC5-\uCFDF\uCFE1-\uCFFB\uCFFD-\uD017\uD019-\uD033\uD035-\uD04F\uD051-\uD06B\uD06D-\uD087\uD089-\uD0A3\uD0A5-\uD0BF\uD0C1-\uD0DB\uD0DD-\uD0F7\uD0F9-\uD113\uD115-\uD12F\uD131-\uD14B\uD14D-\uD167\uD169-\uD183\uD185-\uD19F\uD1A1-\uD1BB\uD1BD-\uD1D7\uD1D9-\uD1F3\uD1F5-\uD20F\uD211-\uD22B\uD22D-\uD247\uD249-\uD263\uD265-\uD27F\uD281-\uD29B\uD29D-\uD2B7\uD2B9-\uD2D3\uD2D5-\uD2EF\uD2F1-\uD30B\uD30D-\uD327\uD329-\uD343\uD345-\uD35F\uD361-\uD37B\uD37D-\uD397\uD399-\uD3B3\uD3B5-\uD3CF\uD3D1-\uD3EB\uD3ED-\uD407\uD409-\uD423\uD425-\uD43F\uD441-\uD45B\uD45D-\uD477\uD479-\uD493\uD495-\uD4AF\uD4B1-\uD4CB\uD4CD-\uD4E7\uD4E9-\uD503\uD505-\uD51F\uD521-\uD53B\uD53D-\uD557\uD559-\uD573\uD575-\uD58F\uD591-\uD5AB\uD5AD-\uD5C7\uD5C9-\uD5E3\uD5E5-\uD5FF\uD601-\uD61B\uD61D-\uD637\uD639-\uD653\uD655-\uD66F\uD671-\uD68B\uD68D-\uD6A7\uD6A9-\uD6C3\uD6C5-\uD6DF\uD6E1-\uD6FB\uD6FD-\uD717\uD719-\uD733\uD735-\uD74F\uD751-\uD76B\uD76D-\uD787\uD789-\uD7A3]$/,reExtPict=/^(?:[\xA9\xAE\u203C\u2049\u2122\u2139\u2194-\u2199\u21A9\u21AA\u231A\u231B\u2328\u2388\u23CF\u23E9-\u23F3\u23F8-\u23FA\u24C2\u25AA\u25AB\u25B6\u25C0\u25FB-\u25FE\u2600-\u2605\u2607-\u2612\u2614-\u2685\u2690-\u2705\u2708-\u2712\u2714\u2716\u271D\u2721\u2728\u2733\u2734\u2744\u2747\u274C\u274E\u2753-\u2755\u2757\u2763-\u2767\u2795-\u2797\u27A1\u27B0\u27BF\u2934\u2935\u2B05-\u2B07\u2B1B\u2B1C\u2B50\u2B55\u3030\u303D\u3297\u3299]|\uD83C[\uDC00-\uDCFF\uDD0D-\uDD0F\uDD2F\uDD6C-\uDD71\uDD7E\uDD7F\uDD8E\uDD91-\uDD9A\uDDAD-\uDDE5\uDE01-\uDE0F\uDE1A\uDE2F\uDE32-\uDE3A\uDE3C-\uDE3F\uDE49-\uDFFA]|\uD83D[\uDC00-\uDD3D\uDD46-\uDE4F\uDE80-\uDEFF\uDF74-\uDF7F\uDFD5-\uDFFF]|\uD83E[\uDC0C-\uDC0F\uDC48-\uDC4F\uDC5A-\uDC5F\uDC88-\uDC8F\uDCAE-\uDCFF\uDD0C-\uDD3A\uDD3C-\uDD45\uDD47-\uDEFF]|\uD83F[\uDC00-\uDFFD])$/,getCodepointType=(char,code)=>{var type=CodepointType.Any;return-1!==char.search(reExtend)&&(type|=CodepointType.Extend),8205===code&&(type|=CodepointType.ZWJ),code>=127462&&code<=127487&&(type|=CodepointType.RI),-1!==char.search(rePrepend)&&(type|=CodepointType.Prepend),-1!==char.search(reSpacingMark)&&(type|=CodepointType.SpacingMark),-1!==char.search(reL)&&(type|=CodepointType.L),-1!==char.search(reV)&&(type|=CodepointType.V),-1!==char.search(reT)&&(type|=CodepointType.T),-1!==char.search(reLV)&&(type|=CodepointType.LV),-1!==char.search(reLVT)&&(type|=CodepointType.LVT),-1!==char.search(reExtPict)&&(type|=CodepointType.ExtPict),type};function intersects(x,y){return 0!=(x&y)}var NonBoundaryPairs=[[CodepointType.L,CodepointType.L|CodepointType.V|CodepointType.LV|CodepointType.LVT],[CodepointType.LV|CodepointType.V,CodepointType.V|CodepointType.T],[CodepointType.LVT|CodepointType.T,CodepointType.T],[CodepointType.Any,CodepointType.Extend|CodepointType.ZWJ],[CodepointType.Any,CodepointType.SpacingMark],[CodepointType.Prepend,CodepointType.Any],[CodepointType.ZWJ,CodepointType.ExtPict],[CodepointType.RI,CodepointType.RI]];function isBoundaryPair(left,right){return-1===NonBoundaryPairs.findIndex((r=>intersects(left,r[0])&&intersects(right,r[1])))}var endingEmojiZWJ=/(?:[\xA9\xAE\u203C\u2049\u2122\u2139\u2194-\u2199\u21A9\u21AA\u231A\u231B\u2328\u2388\u23CF\u23E9-\u23F3\u23F8-\u23FA\u24C2\u25AA\u25AB\u25B6\u25C0\u25FB-\u25FE\u2600-\u2605\u2607-\u2612\u2614-\u2685\u2690-\u2705\u2708-\u2712\u2714\u2716\u271D\u2721\u2728\u2733\u2734\u2744\u2747\u274C\u274E\u2753-\u2755\u2757\u2763-\u2767\u2795-\u2797\u27A1\u27B0\u27BF\u2934\u2935\u2B05-\u2B07\u2B1B\u2B1C\u2B50\u2B55\u3030\u303D\u3297\u3299]|\uD83C[\uDC00-\uDCFF\uDD0D-\uDD0F\uDD2F\uDD6C-\uDD71\uDD7E\uDD7F\uDD8E\uDD91-\uDD9A\uDDAD-\uDDE5\uDE01-\uDE0F\uDE1A\uDE2F\uDE32-\uDE3A\uDE3C-\uDE3F\uDE49-\uDFFA]|\uD83D[\uDC00-\uDD3D\uDD46-\uDE4F\uDE80-\uDEFF\uDF74-\uDF7F\uDFD5-\uDFFF]|\uD83E[\uDC0C-\uDC0F\uDC48-\uDC4F\uDC5A-\uDC5F\uDC88-\uDC8F\uDCAE-\uDCFF\uDD0C-\uDD3A\uDD3C-\uDD45\uDD47-\uDEFF]|\uD83F[\uDC00-\uDFFD])(?:[\u0300-\u036F\u0483-\u0489\u0591-\u05BD\u05BF\u05C1\u05C2\u05C4\u05C5\u05C7\u0610-\u061A\u064B-\u065F\u0670\u06D6-\u06DC\u06DF-\u06E4\u06E7\u06E8\u06EA-\u06ED\u0711\u0730-\u074A\u07A6-\u07B0\u07EB-\u07F3\u07FD\u0816-\u0819\u081B-\u0823\u0825-\u0827\u0829-\u082D\u0859-\u085B\u08D3-\u08E1\u08E3-\u0902\u093A\u093C\u0941-\u0948\u094D\u0951-\u0957\u0962\u0963\u0981\u09BC\u09BE\u09C1-\u09C4\u09CD\u09D7\u09E2\u09E3\u09FE\u0A01\u0A02\u0A3C\u0A41\u0A42\u0A47\u0A48\u0A4B-\u0A4D\u0A51\u0A70\u0A71\u0A75\u0A81\u0A82\u0ABC\u0AC1-\u0AC5\u0AC7\u0AC8\u0ACD\u0AE2\u0AE3\u0AFA-\u0AFF\u0B01\u0B3C\u0B3E\u0B3F\u0B41-\u0B44\u0B4D\u0B55-\u0B57\u0B62\u0B63\u0B82\u0BBE\u0BC0\u0BCD\u0BD7\u0C00\u0C04\u0C3E-\u0C40\u0C46-\u0C48\u0C4A-\u0C4D\u0C55\u0C56\u0C62\u0C63\u0C81\u0CBC\u0CBF\u0CC2\u0CC6\u0CCC\u0CCD\u0CD5\u0CD6\u0CE2\u0CE3\u0D00\u0D01\u0D3B\u0D3C\u0D3E\u0D41-\u0D44\u0D4D\u0D57\u0D62\u0D63\u0D81\u0DCA\u0DCF\u0DD2-\u0DD4\u0DD6\u0DDF\u0E31\u0E34-\u0E3A\u0E47-\u0E4E\u0EB1\u0EB4-\u0EBC\u0EC8-\u0ECD\u0F18\u0F19\u0F35\u0F37\u0F39\u0F71-\u0F7E\u0F80-\u0F84\u0F86\u0F87\u0F8D-\u0F97\u0F99-\u0FBC\u0FC6\u102D-\u1030\u1032-\u1037\u1039\u103A\u103D\u103E\u1058\u1059\u105E-\u1060\u1071-\u1074\u1082\u1085\u1086\u108D\u109D\u135D-\u135F\u1712-\u1714\u1732-\u1734\u1752\u1753\u1772\u1773\u17B4\u17B5\u17B7-\u17BD\u17C6\u17C9-\u17D3\u17DD\u180B-\u180D\u1885\u1886\u18A9\u1920-\u1922\u1927\u1928\u1932\u1939-\u193B\u1A17\u1A18\u1A1B\u1A56\u1A58-\u1A5E\u1A60\u1A62\u1A65-\u1A6C\u1A73-\u1A7C\u1A7F\u1AB0-\u1AC0\u1B00-\u1B03\u1B34-\u1B3A\u1B3C\u1B42\u1B6B-\u1B73\u1B80\u1B81\u1BA2-\u1BA5\u1BA8\u1BA9\u1BAB-\u1BAD\u1BE6\u1BE8\u1BE9\u1BED\u1BEF-\u1BF1\u1C2C-\u1C33\u1C36\u1C37\u1CD0-\u1CD2\u1CD4-\u1CE0\u1CE2-\u1CE8\u1CED\u1CF4\u1CF8\u1CF9\u1DC0-\u1DF9\u1DFB-\u1DFF\u200C\u20D0-\u20F0\u2CEF-\u2CF1\u2D7F\u2DE0-\u2DFF\u302A-\u302F\u3099\u309A\uA66F-\uA672\uA674-\uA67D\uA69E\uA69F\uA6F0\uA6F1\uA802\uA806\uA80B\uA825\uA826\uA82C\uA8C4\uA8C5\uA8E0-\uA8F1\uA8FF\uA926-\uA92D\uA947-\uA951\uA980-\uA982\uA9B3\uA9B6-\uA9B9\uA9BC\uA9BD\uA9E5\uAA29-\uAA2E\uAA31\uAA32\uAA35\uAA36\uAA43\uAA4C\uAA7C\uAAB0\uAAB2-\uAAB4\uAAB7\uAAB8\uAABE\uAABF\uAAC1\uAAEC\uAAED\uAAF6\uABE5\uABE8\uABED\uFB1E\uFE00-\uFE0F\uFE20-\uFE2F\uFF9E\uFF9F]|\uD800[\uDDFD\uDEE0\uDF76-\uDF7A]|\uD802[\uDE01-\uDE03\uDE05\uDE06\uDE0C-\uDE0F\uDE38-\uDE3A\uDE3F\uDEE5\uDEE6]|\uD803[\uDD24-\uDD27\uDEAB\uDEAC\uDF46-\uDF50]|\uD804[\uDC01\uDC38-\uDC46\uDC7F-\uDC81\uDCB3-\uDCB6\uDCB9\uDCBA\uDD00-\uDD02\uDD27-\uDD2B\uDD2D-\uDD34\uDD73\uDD80\uDD81\uDDB6-\uDDBE\uDDC9-\uDDCC\uDDCF\uDE2F-\uDE31\uDE34\uDE36\uDE37\uDE3E\uDEDF\uDEE3-\uDEEA\uDF00\uDF01\uDF3B\uDF3C\uDF3E\uDF40\uDF57\uDF66-\uDF6C\uDF70-\uDF74]|\uD805[\uDC38-\uDC3F\uDC42-\uDC44\uDC46\uDC5E\uDCB0\uDCB3-\uDCB8\uDCBA\uDCBD\uDCBF\uDCC0\uDCC2\uDCC3\uDDAF\uDDB2-\uDDB5\uDDBC\uDDBD\uDDBF\uDDC0\uDDDC\uDDDD\uDE33-\uDE3A\uDE3D\uDE3F\uDE40\uDEAB\uDEAD\uDEB0-\uDEB5\uDEB7\uDF1D-\uDF1F\uDF22-\uDF25\uDF27-\uDF2B]|\uD806[\uDC2F-\uDC37\uDC39\uDC3A\uDD30\uDD3B\uDD3C\uDD3E\uDD43\uDDD4-\uDDD7\uDDDA\uDDDB\uDDE0\uDE01-\uDE0A\uDE33-\uDE38\uDE3B-\uDE3E\uDE47\uDE51-\uDE56\uDE59-\uDE5B\uDE8A-\uDE96\uDE98\uDE99]|\uD807[\uDC30-\uDC36\uDC38-\uDC3D\uDC3F\uDC92-\uDCA7\uDCAA-\uDCB0\uDCB2\uDCB3\uDCB5\uDCB6\uDD31-\uDD36\uDD3A\uDD3C\uDD3D\uDD3F-\uDD45\uDD47\uDD90\uDD91\uDD95\uDD97\uDEF3\uDEF4]|\uD81A[\uDEF0-\uDEF4\uDF30-\uDF36]|\uD81B[\uDF4F\uDF8F-\uDF92\uDFE4]|\uD82F[\uDC9D\uDC9E]|\uD834[\uDD65\uDD67-\uDD69\uDD6E-\uDD72\uDD7B-\uDD82\uDD85-\uDD8B\uDDAA-\uDDAD\uDE42-\uDE44]|\uD836[\uDE00-\uDE36\uDE3B-\uDE6C\uDE75\uDE84\uDE9B-\uDE9F\uDEA1-\uDEAF]|\uD838[\uDC00-\uDC06\uDC08-\uDC18\uDC1B-\uDC21\uDC23\uDC24\uDC26-\uDC2A\uDD30-\uDD36\uDEEC-\uDEEF]|\uD83A[\uDCD0-\uDCD6\uDD44-\uDD4A]|\uD83C[\uDFFB-\uDFFF]|\uDB40[\uDC20-\uDC7F\uDD00-\uDDEF])*\u200D$/,endsWithEmojiZWJ=str=>-1!==str.search(endingEmojiZWJ),endingRIs=/(?:\uD83C[\uDDE6-\uDDFF])+$/g,endsWithOddNumberOfRIs=str=>{var match=str.match(endingRIs);return null!==match&&match[0].length/2%2==1},TextTransforms={delete(editor,options){editor.delete(options)},insertFragment(editor,fragment,options){editor.insertFragment(fragment,options)},insertText(editor,text){var options=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};Editor.withoutNormalizing(editor,(()=>{var{voids=!1}=options,{at=getDefaultInsertLocation(editor)}=options;if(Path.isPath(at)&&(at=Editor.range(editor,at)),Range.isRange(at))if(Range.isCollapsed(at))at=at.anchor;else{var end=Range.end(at);if(!voids&&Editor.void(editor,{at:end}))return;var start=Range.start(at),startRef=Editor.pointRef(editor,start),endRef=Editor.pointRef(editor,end);Transforms.delete(editor,{at,voids});var startPoint=startRef.unref(),endPoint=endRef.unref();at=startPoint||endPoint,Transforms.setSelection(editor,{anchor:at,focus:at})}if(!(!voids&&Editor.void(editor,{at})||Editor.elementReadOnly(editor,{at}))){var{path,offset}=at;text.length>0&&editor.apply({type:"insert_text",path,offset,text})}}))}};function ownKeys$9(object,enumerableOnly){var keys=Object.keys(object);if(Object.getOwnPropertySymbols){var symbols=Object.getOwnPropertySymbols(object);enumerableOnly&&(symbols=symbols.filter((function(sym){return Object.getOwnPropertyDescriptor(object,sym).enumerable}))),keys.push.apply(keys,symbols)}return keys}function _objectSpread$9(target){for(var i=1;i<arguments.length;i++){var source=null!=arguments[i]?arguments[i]:{};i%2?ownKeys$9(Object(source),!0).forEach((function(key){_defineProperty(target,key,source[key])})):Object.getOwnPropertyDescriptors?Object.defineProperties(target,Object.getOwnPropertyDescriptors(source)):ownKeys$9(Object(source)).forEach((function(key){Object.defineProperty(target,key,Object.getOwnPropertyDescriptor(source,key))}))}return target}var Transforms=_objectSpread$9(_objectSpread$9(_objectSpread$9(_objectSpread$9({},GeneralTransforms),NodeTransforms),SelectionTransforms),TextTransforms);function ownKeys$8(object,enumerableOnly){var keys=Object.keys(object);if(Object.getOwnPropertySymbols){var symbols=Object.getOwnPropertySymbols(object);enumerableOnly&&(symbols=symbols.filter((function(sym){return Object.getOwnPropertyDescriptor(object,sym).enumerable}))),keys.push.apply(keys,symbols)}return keys}function _objectSpread$8(target){for(var i=1;i<arguments.length;i++){var source=null!=arguments[i]?arguments[i]:{};i%2?ownKeys$8(Object(source),!0).forEach((function(key){_defineProperty(target,key,source[key])})):Object.getOwnPropertyDescriptors?Object.defineProperties(target,Object.getOwnPropertyDescriptors(source)):ownKeys$8(Object(source)).forEach((function(key){Object.defineProperty(target,key,Object.getOwnPropertyDescriptor(source,key))}))}return target}function ownKeys$7(object,enumerableOnly){var keys=Object.keys(object);if(Object.getOwnPropertySymbols){var symbols=Object.getOwnPropertySymbols(object);enumerableOnly&&(symbols=symbols.filter((function(sym){return Object.getOwnPropertyDescriptor(object,sym).enumerable}))),keys.push.apply(keys,symbols)}return keys}function _objectSpread$7(target){for(var i=1;i<arguments.length;i++){var source=null!=arguments[i]?arguments[i]:{};i%2?ownKeys$7(Object(source),!0).forEach((function(key){_defineProperty(target,key,source[key])})):Object.getOwnPropertyDescriptors?Object.defineProperties(target,Object.getOwnPropertyDescriptors(source)):ownKeys$7(Object(source)).forEach((function(key){Object.defineProperty(target,key,Object.getOwnPropertyDescriptor(source,key))}))}return target}function ownKeys$6(object,enumerableOnly){var keys=Object.keys(object);if(Object.getOwnPropertySymbols){var symbols=Object.getOwnPropertySymbols(object);enumerableOnly&&(symbols=symbols.filter((function(sym){return Object.getOwnPropertyDescriptor(object,sym).enumerable}))),keys.push.apply(keys,symbols)}return keys}function _objectSpread$6(target){for(var i=1;i<arguments.length;i++){var source=null!=arguments[i]?arguments[i]:{};i%2?ownKeys$6(Object(source),!0).forEach((function(key){_defineProperty(target,key,source[key])})):Object.getOwnPropertyDescriptors?Object.defineProperties(target,Object.getOwnPropertyDescriptors(source)):ownKeys$6(Object(source)).forEach((function(key){Object.defineProperty(target,key,Object.getOwnPropertyDescriptor(source,key))}))}return target}function ownKeys$5(object,enumerableOnly){var keys=Object.keys(object);if(Object.getOwnPropertySymbols){var symbols=Object.getOwnPropertySymbols(object);enumerableOnly&&(symbols=symbols.filter((function(sym){return Object.getOwnPropertyDescriptor(object,sym).enumerable}))),keys.push.apply(keys,symbols)}return keys}function _objectSpread$5(target){for(var i=1;i<arguments.length;i++){var source=null!=arguments[i]?arguments[i]:{};i%2?ownKeys$5(Object(source),!0).forEach((function(key){_defineProperty(target,key,source[key])})):Object.getOwnPropertyDescriptors?Object.defineProperties(target,Object.getOwnPropertyDescriptors(source)):ownKeys$5(Object(source)).forEach((function(key){Object.defineProperty(target,key,Object.getOwnPropertyDescriptor(source,key))}))}return target}function ownKeys$4(object,enumerableOnly){var keys=Object.keys(object);if(Object.getOwnPropertySymbols){var symbols=Object.getOwnPropertySymbols(object);enumerableOnly&&(symbols=symbols.filter((function(sym){return Object.getOwnPropertyDescriptor(object,sym).enumerable}))),keys.push.apply(keys,symbols)}return keys}function _objectSpread$4(target){for(var i=1;i<arguments.length;i++){var source=null!=arguments[i]?arguments[i]:{};i%2?ownKeys$4(Object(source),!0).forEach((function(key){_defineProperty(target,key,source[key])})):Object.getOwnPropertyDescriptors?Object.defineProperties(target,Object.getOwnPropertyDescriptors(source)):ownKeys$4(Object(source)).forEach((function(key){Object.defineProperty(target,key,Object.getOwnPropertyDescriptor(source,key))}))}return target}function ownKeys$3(object,enumerableOnly){var keys=Object.keys(object);if(Object.getOwnPropertySymbols){var symbols=Object.getOwnPropertySymbols(object);enumerableOnly&&(symbols=symbols.filter((function(sym){return Object.getOwnPropertyDescriptor(object,sym).enumerable}))),keys.push.apply(keys,symbols)}return keys}var insertText=function insertText(editor,text){var options=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},{selection,marks}=editor;if(selection){if(marks){var node=function _objectSpread$3(target){for(var i=1;i<arguments.length;i++){var source=null!=arguments[i]?arguments[i]:{};i%2?ownKeys$3(Object(source),!0).forEach((function(key){_defineProperty(target,key,source[key])})):Object.getOwnPropertyDescriptors?Object.defineProperties(target,Object.getOwnPropertyDescriptors(source)):ownKeys$3(Object(source)).forEach((function(key){Object.defineProperty(target,key,Object.getOwnPropertyDescriptor(source,key))}))}return target}({text},marks);Transforms.insertNodes(editor,node,{at:options.at,voids:options.voids})}else Transforms.insertText(editor,text,options);editor.marks=null}};var _excluded$1=["text"],_excluded2$1=["text"];var normalize=function normalize(editor){var options=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},{force=!1,operation}=options,getDirtyPaths=editor=>DIRTY_PATHS.get(editor)||[],popDirtyPath=editor=>{var path=getDirtyPaths(editor).pop(),key=path.join(",");return(editor=>DIRTY_PATH_KEYS.get(editor)||new Set)(editor).delete(key),path};if(Editor.isNormalizing(editor)){if(force){var allPaths=Array.from(Node.nodes(editor),(_ref=>{var[,p]=_ref;return p})),allPathKeys=new Set(allPaths.map((p=>p.join(","))));DIRTY_PATHS.set(editor,allPaths),DIRTY_PATH_KEYS.set(editor,allPathKeys)}0!==getDirtyPaths(editor).length&&Editor.withoutNormalizing(editor,(()=>{for(var dirtyPath of getDirtyPaths(editor))if(Node.has(editor,dirtyPath)){var entry=Editor.node(editor,dirtyPath),[node,_]=entry;Element.isElement(node)&&0===node.children.length&&editor.normalizeNode(entry,{operation})}for(var dirtyPaths=getDirtyPaths(editor),initialDirtyPathsLength=dirtyPaths.length,iteration=0;0!==dirtyPaths.length;){if(!editor.shouldNormalize({dirtyPaths,iteration,initialDirtyPathsLength,operation}))return;var _dirtyPath=popDirtyPath(editor);if(Node.has(editor,_dirtyPath)){var _entry=Editor.node(editor,_dirtyPath);editor.normalizeNode(_entry,{operation})}iteration++,dirtyPaths=getDirtyPaths(editor)}}))}};function*positions(editor){var options=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},{at=editor.selection,unit="offset",reverse=!1,voids=!1,ignoreNonSelectable=!1}=options;if(at){var range=Editor.range(editor,at),[start,end]=Range.edges(range),first=reverse?end:start,isNewBlock=!1,blockText="",distance=0,leafTextRemaining=0,leafTextOffset=0;for(var[node,path]of Editor.nodes(editor,{at,reverse,voids,ignoreNonSelectable})){if(Element.isElement(node)){if(!voids&&(editor.isVoid(node)||editor.isElementReadOnly(node))){yield Editor.start(editor,path);continue}if(editor.isInline(node))continue;if(Editor.hasInlines(editor,node)){var e=Path.isAncestor(path,end.path)?end:Editor.end(editor,path),s=Path.isAncestor(path,start.path)?start:Editor.start(editor,path);blockText=Editor.string(editor,{anchor:s,focus:e},{voids}),isNewBlock=!0}}if(Text.isText(node)){var isFirst=Path.equals(path,first.path);for(isFirst?(leafTextRemaining=reverse?first.offset:node.text.length-first.offset,leafTextOffset=first.offset):(leafTextRemaining=node.text.length,leafTextOffset=reverse?leafTextRemaining:0),(isFirst||isNewBlock||"offset"===unit)&&(yield{path,offset:leafTextOffset},isNewBlock=!1);;){if(0===distance){if(""===blockText)break;distance=calcDistance(blockText,unit,reverse),blockText=splitByCharacterDistance(blockText,distance,reverse)[1]}if(leafTextOffset=reverse?leafTextOffset-distance:leafTextOffset+distance,(leafTextRemaining-=distance)<0){distance=-leafTextRemaining;break}distance=0,yield{path,offset:leafTextOffset}}}}}function calcDistance(text,unit,reverse){return"character"===unit?getCharacterDistance(text,reverse):"word"===unit?function getWordDistance(text){for(var isRTL=arguments.length>1&&void 0!==arguments[1]&&arguments[1],dist=0,started=!1;text.length>0;){var charDist=getCharacterDistance(text,isRTL),[char,remaining]=splitByCharacterDistance(text,charDist,isRTL);if(isWordCharacter(char,remaining,isRTL))started=!0,dist+=charDist;else{if(started)break;dist+=charDist}text=remaining}return dist}(text,reverse):"line"===unit||"block"===unit?text.length:1}}function ownKeys$2(object,enumerableOnly){var keys=Object.keys(object);if(Object.getOwnPropertySymbols){var symbols=Object.getOwnPropertySymbols(object);enumerableOnly&&(symbols=symbols.filter((function(sym){return Object.getOwnPropertyDescriptor(object,sym).enumerable}))),keys.push.apply(keys,symbols)}return keys}var removeMark=(editor,key)=>{var{selection}=editor;if(selection){var match=(node,path)=>{if(!Text.isText(node))return!1;var[parentNode,parentPath]=Editor.parent(editor,path);return!editor.isVoid(parentNode)||editor.markableVoid(parentNode)},expandedSelection=Range.isExpanded(selection),markAcceptingVoidSelected=!1;if(!expandedSelection){var[selectedNode,selectedPath]=Editor.node(editor,selection);if(selectedNode&&match(selectedNode,selectedPath)){var[parentNode]=Editor.parent(editor,selectedPath);markAcceptingVoidSelected=parentNode&&editor.markableVoid(parentNode)}}if(expandedSelection||markAcceptingVoidSelected)Transforms.unsetNodes(editor,key,{match,split:!0,voids:!0});else{var marks=function _objectSpread$2(target){for(var i=1;i<arguments.length;i++){var source=null!=arguments[i]?arguments[i]:{};i%2?ownKeys$2(Object(source),!0).forEach((function(key){_defineProperty(target,key,source[key])})):Object.getOwnPropertyDescriptors?Object.defineProperties(target,Object.getOwnPropertyDescriptors(source)):ownKeys$2(Object(source)).forEach((function(key){Object.defineProperty(target,key,Object.getOwnPropertyDescriptor(source,key))}))}return target}({},Editor.marks(editor)||{});delete marks[key],editor.marks=marks,FLUSHING.get(editor)||editor.onChange()}}};function ownKeys$1(object,enumerableOnly){var keys=Object.keys(object);if(Object.getOwnPropertySymbols){var symbols=Object.getOwnPropertySymbols(object);enumerableOnly&&(symbols=symbols.filter((function(sym){return Object.getOwnPropertyDescriptor(object,sym).enumerable}))),keys.push.apply(keys,symbols)}return keys}function _objectSpread$1(target){for(var i=1;i<arguments.length;i++){var source=null!=arguments[i]?arguments[i]:{};i%2?ownKeys$1(Object(source),!0).forEach((function(key){_defineProperty(target,key,source[key])})):Object.getOwnPropertyDescriptors?Object.defineProperties(target,Object.getOwnPropertyDescriptors(source)):ownKeys$1(Object(source)).forEach((function(key){Object.defineProperty(target,key,Object.getOwnPropertyDescriptor(source,key))}))}return target}var _excluded=["text"],_excluded2=["children"],hasSingleChildNest=(editor,node)=>{if(Element.isElement(node)){var element=node;return!!Editor.isVoid(editor,node)||1===element.children.length&&hasSingleChildNest(editor,element.children[0])}return!Editor.isEditor(node)},splitNodes=function splitNodes(editor){var options=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};Editor.withoutNormalizing(editor,(()=>{var{mode="lowest",voids=!1}=options,{match,at=editor.selection,height=0,always=!1}=options;if(null==match&&(match=n=>Element.isElement(n)&&Editor.isBlock(editor,n)),Range.isRange(at)&&(at=((editor,range)=>{if(Range.isCollapsed(range))return range.anchor;var[,end]=Range.edges(range),pointRef=Editor.pointRef(editor,end);return Transforms.delete(editor,{at:range}),pointRef.unref()})(editor,at)),Path.isPath(at)){var path=at,point=Editor.point(editor,path),[parent]=Editor.parent(editor,path);match=n=>n===parent,height=point.path.length-path.length+1,at=point,always=!0}if(at){var afterRef,beforeRef=Editor.pointRef(editor,at,{affinity:"backward"});try{var[highest]=Editor.nodes(editor,{at,match,mode,voids});if(!highest)return;var voidMatch=Editor.void(editor,{at,mode:"highest"});if(!voids&&voidMatch){var[voidNode,voidPath]=voidMatch;if(Element.isElement(voidNode)&&editor.isInline(voidNode)){var after=Editor.after(editor,voidPath);if(!after){var afterPath=Path.next(voidPath);Transforms.insertNodes(editor,{text:""},{at:afterPath,voids}),after=Editor.point(editor,afterPath)}at=after,always=!0}height=at.path.length-voidPath.length+1,always=!0}afterRef=Editor.pointRef(editor,at);var depth=at.path.length-height,[,highestPath]=highest,lowestPath=at.path.slice(0,depth),position=0===height?at.offset:at.path[depth]+0;for(var[node,_path]of Editor.levels(editor,{at:lowestPath,reverse:!0,voids})){var split=!1;if(_path.length<highestPath.length||0===_path.length||!voids&&Element.isElement(node)&&Editor.isVoid(editor,node))break;var _point=beforeRef.current,isEnd=Editor.isEnd(editor,_point,_path);if(always||!beforeRef||!Editor.isEdge(editor,_point,_path)){split=!0;var properties=Node.extractProps(node);editor.apply({type:"split_node",path:_path,position,properties})}position=_path[_path.length-1]+(split||isEnd?1:0)}if(null==options.at){var _point2=afterRef.current||Editor.end(editor,[]);Transforms.select(editor,_point2)}}finally{var _afterRef;beforeRef.unref(),null===(_afterRef=afterRef)||void 0===_afterRef||_afterRef.unref()}}}))};function ownKeys(object,enumerableOnly){var keys=Object.keys(object);if(Object.getOwnPropertySymbols){var symbols=Object.getOwnPropertySymbols(object);enumerableOnly&&(symbols=symbols.filter((function(sym){return Object.getOwnPropertyDescriptor(object,sym).enumerable}))),keys.push.apply(keys,symbols)}return keys}function _objectSpread(target){for(var i=1;i<arguments.length;i++){var source=null!=arguments[i]?arguments[i]:{};i%2?ownKeys(Object(source),!0).forEach((function(key){_defineProperty(target,key,source[key])})):Object.getOwnPropertyDescriptors?Object.defineProperties(target,Object.getOwnPropertyDescriptors(source)):ownKeys(Object(source)).forEach((function(key){Object.defineProperty(target,key,Object.getOwnPropertyDescriptor(source,key))}))}return target}var createEditor=()=>{var editor={children:[],operations:[],selection:null,marks:null,isElementReadOnly:()=>!1,isInline:()=>!1,isSelectable:()=>!0,isVoid:()=>!1,markableVoid:()=>!1,onChange:()=>{},apply:function apply$1(){for(var _len=arguments.length,args=new Array(_len),_key=0;_key<_len;_key++)args[_key]=arguments[_key];return((editor,op)=>{for(var ref of Editor.pathRefs(editor))PathRef.transform(ref,op);for(var _ref of Editor.pointRefs(editor))PointRef.transform(_ref,op);for(var _ref2 of Editor.rangeRefs(editor))RangeRef.transform(_ref2,op);var dirtyPaths,dirtyPathKeys,oldDirtyPaths=DIRTY_PATHS.get(editor)||[],oldDirtyPathKeys=DIRTY_PATH_KEYS.get(editor)||new Set,add=path=>{if(path){var key=path.join(",");dirtyPathKeys.has(key)||(dirtyPathKeys.add(key),dirtyPaths.push(path))}};if(Path.operationCanTransformPath(op))for(var path of(dirtyPaths=[],dirtyPathKeys=new Set,oldDirtyPaths))add(Path.transform(path,op));else dirtyPaths=oldDirtyPaths,dirtyPathKeys=oldDirtyPathKeys;var newDirtyPaths=editor.getDirtyPaths(op);for(var _path of newDirtyPaths)add(_path);DIRTY_PATHS.set(editor,dirtyPaths),DIRTY_PATH_KEYS.set(editor,dirtyPathKeys),Transforms.transform(editor,op),editor.operations.push(op),Editor.normalize(editor,{operation:op}),"set_selection"===op.type&&(editor.marks=null),FLUSHING.get(editor)||(FLUSHING.set(editor,!0),Promise.resolve().then((()=>{FLUSHING.set(editor,!1),editor.onChange({operation:op}),editor.operations=[]})))})(editor,...args)},addMark:function addMark$1(){for(var _len2=arguments.length,args=new Array(_len2),_key2=0;_key2<_len2;_key2++)args[_key2]=arguments[_key2];return((editor,key,value)=>{var{selection}=editor;if(selection){var match=(node,path)=>{if(!Text.isText(node))return!1;var[parentNode,parentPath]=Editor.parent(editor,path);return!editor.isVoid(parentNode)||editor.markableVoid(parentNode)},expandedSelection=Range.isExpanded(selection),markAcceptingVoidSelected=!1;if(!expandedSelection){var[selectedNode,selectedPath]=Editor.node(editor,selection);if(selectedNode&&match(selectedNode,selectedPath)){var[parentNode]=Editor.parent(editor,selectedPath);markAcceptingVoidSelected=parentNode&&editor.markableVoid(parentNode)}}if(expandedSelection||markAcceptingVoidSelected)Transforms.setNodes(editor,{[key]:value},{match,split:!0,voids:!0});else{var marks=_objectSpread$8(_objectSpread$8({},Editor.marks(editor)||{}),{},{[key]:value});editor.marks=marks,FLUSHING.get(editor)||editor.onChange()}}})(editor,...args)},deleteBackward:function deleteBackward$1(){for(var _len3=arguments.length,args=new Array(_len3),_key3=0;_key3<_len3;_key3++)args[_key3]=arguments[_key3];return((editor,unit)=>{var{selection}=editor;selection&&Range.isCollapsed(selection)&&Transforms.delete(editor,{unit,reverse:!0})})(editor,...args)},deleteForward:function deleteForward$1(){for(var _len4=arguments.length,args=new Array(_len4),_key4=0;_key4<_len4;_key4++)args[_key4]=arguments[_key4];return((editor,unit)=>{var{selection}=editor;selection&&Range.isCollapsed(selection)&&Transforms.delete(editor,{unit})})(editor,...args)},deleteFragment:function deleteFragment$1(){for(var _len5=arguments.length,args=new Array(_len5),_key5=0;_key5<_len5;_key5++)args[_key5]=arguments[_key5];return function deleteFragment(editor){var{direction="forward"}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},{selection}=editor;selection&&Range.isExpanded(selection)&&Transforms.delete(editor,{reverse:"backward"===direction})}(editor,...args)},getFragment:function getFragment$1(){for(var _len6=arguments.length,args=new Array(_len6),_key6=0;_key6<_len6;_key6++)args[_key6]=arguments[_key6];return(editor=>{var{selection}=editor;return selection?Node.fragment(editor,selection):[]})(editor,...args)},insertBreak:function insertBreak$1(){for(var _len7=arguments.length,args=new Array(_len7),_key7=0;_key7<_len7;_key7++)args[_key7]=arguments[_key7];return(editor=>{Transforms.splitNodes(editor,{always:!0})})(editor,...args)},insertSoftBreak:function insertSoftBreak$1(){for(var _len8=arguments.length,args=new Array(_len8),_key8=0;_key8<_len8;_key8++)args[_key8]=arguments[_key8];return(editor=>{Transforms.splitNodes(editor,{always:!0})})(editor,...args)},insertFragment:function insertFragment$1(){for(var _len9=arguments.length,args=new Array(_len9),_key9=0;_key9<_len9;_key9++)args[_key9]=arguments[_key9];return function insertFragment(editor,fragment){var options=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};Editor.withoutNormalizing(editor,(()=>{var{hanging=!1,voids=!1}=options,{at=getDefaultInsertLocation(editor)}=options;if(fragment.length){if(Range.isRange(at))if(hanging||(at=Editor.unhangRange(editor,at,{voids})),Range.isCollapsed(at))at=at.anchor;else{var[,end]=Range.edges(at);if(!voids&&Editor.void(editor,{at:end}))return;var pointRef=Editor.pointRef(editor,end);Transforms.delete(editor,{at}),at=pointRef.unref()}else Path.isPath(at)&&(at=Editor.start(editor,at));if(voids||!Editor.void(editor,{at})){var inlineElementMatch=Editor.above(editor,{at,match:n=>Element.isElement(n)&&Editor.isInline(editor,n),mode:"highest",voids});if(inlineElementMatch){var[,_inlinePath]=inlineElementMatch;Editor.isEnd(editor,at,_inlinePath)?at=Editor.after(editor,_inlinePath):Editor.isStart(editor,at,_inlinePath)&&(at=Editor.before(editor,_inlinePath))}var blockMatch=Editor.above(editor,{match:n=>Element.isElement(n)&&Editor.isBlock(editor,n),at,voids}),[,blockPath]=blockMatch,isBlockStart=Editor.isStart(editor,at,blockPath),isBlockEnd=Editor.isEnd(editor,at,blockPath),isBlockEmpty=isBlockStart&&isBlockEnd,mergeStart=!isBlockStart||isBlockStart&&isBlockEnd,mergeEnd=!isBlockEnd,[,firstPath]=Node.first({children:fragment},[]),[,lastPath]=Node.last({children:fragment},[]),matches=[],matcher=_ref=>{var[n,p]=_ref;return!(0===p.length||!isBlockEmpty&&(mergeStart&&Path.isAncestor(p,firstPath)&&Element.isElement(n)&&!editor.isVoid(n)&&!editor.isInline(n)||mergeEnd&&Path.isAncestor(p,lastPath)&&Element.isElement(n)&&!editor.isVoid(n)&&!editor.isInline(n)))};for(var entry of Node.nodes({children:fragment},{pass:matcher}))matcher(entry)&&matches.push(entry);var starts=[],middles=[],ends=[],starting=!0,hasBlocks=!1;for(var[node]of matches)Element.isElement(node)&&!editor.isInline(node)?(starting=!1,hasBlocks=!0,middles.push(node)):starting?starts.push(node):ends.push(node);var[inlineMatch]=Editor.nodes(editor,{at,match:n=>Text.isText(n)||Editor.isInline(editor,n),mode:"highest",voids}),[,inlinePath]=inlineMatch,isInlineStart=Editor.isStart(editor,at,inlinePath),isInlineEnd=Editor.isEnd(editor,at,inlinePath),middleRef=Editor.pathRef(editor,isBlockEnd&&!ends.length?Path.next(blockPath):blockPath),endRef=Editor.pathRef(editor,isInlineEnd?Path.next(inlinePath):inlinePath);Transforms.splitNodes(editor,{at,match:n=>hasBlocks?Element.isElement(n)&&Editor.isBlock(editor,n):Text.isText(n)||Editor.isInline(editor,n),mode:hasBlocks?"lowest":"highest",always:hasBlocks&&(!isBlockStart||starts.length>0)&&(!isBlockEnd||ends.length>0),voids});var path,startRef=Editor.pathRef(editor,!isInlineStart||isInlineStart&&isInlineEnd?Path.next(inlinePath):inlinePath);if(Transforms.insertNodes(editor,starts,{at:startRef.current,match:n=>Text.isText(n)||Editor.isInline(editor,n),mode:"highest",voids}),isBlockEmpty&&!starts.length&&middles.length&&!ends.length&&Transforms.delete(editor,{at:blockPath,voids}),Transforms.insertNodes(editor,middles,{at:middleRef.current,match:n=>Element.isElement(n)&&Editor.isBlock(editor,n),mode:"lowest",voids}),Transforms.insertNodes(editor,ends,{at:endRef.current,match:n=>Text.isText(n)||Editor.isInline(editor,n),mode:"highest",voids}),!options.at&&(ends.length>0&&endRef.current?path=Path.previous(endRef.current):middles.length>0&&middleRef.current?path=Path.previous(middleRef.current):startRef.current&&(path=Path.previous(startRef.current)),path)){var _end=Editor.end(editor,path);Transforms.select(editor,_end)}startRef.unref(),middleRef.unref(),endRef.unref()}}}))}(editor,...args)},insertNode:function insertNode$1(){for(var _len10=arguments.length,args=new Array(_len10),_key10=0;_key10<_len10;_key10++)args[_key10]=arguments[_key10];return((editor,node,options)=>{Transforms.insertNodes(editor,node,options)})(editor,...args)},insertText:function insertText$1(){for(var _len11=arguments.length,args=new Array(_len11),_key11=0;_key11<_len11;_key11++)args[_key11]=arguments[_key11];return insertText(editor,...args)},normalizeNode:function normalizeNode$1(){for(var _len12=arguments.length,args=new Array(_len12),_key12=0;_key12<_len12;_key12++)args[_key12]=arguments[_key12];return((editor,entry)=>{var[node,path]=entry;if(!Text.isText(node))if(Element.isElement(node)&&0===node.children.length)Transforms.insertNodes(editor,{text:""},{at:path.concat(0),voids:!0});else for(var shouldHaveInlines=!Editor.isEditor(node)&&Element.isElement(node)&&(editor.isInline(node)||0===node.children.length||Text.isText(node.children[0])||editor.isInline(node.children[0])),n=0,i=0;i<node.children.length;i++,n++){var currentNode=Node.get(editor,path);if(!Text.isText(currentNode)){var _child=currentNode.children[n],prev=currentNode.children[n-1],isLast=i===node.children.length-1;(Text.isText(_child)||Element.isElement(_child)&&editor.isInline(_child))!==shouldHaveInlines?(Transforms.removeNodes(editor,{at:path.concat(n),voids:!0}),n--):Element.isElement(_child)?editor.isInline(_child)&&(null!=prev&&Text.isText(prev)?isLast&&(Transforms.insertNodes(editor,{text:""},{at:path.concat(n+1),voids:!0}),n++):(Transforms.insertNodes(editor,{text:""},{at:path.concat(n),voids:!0}),n++)):null!=prev&&Text.isText(prev)&&(Text.equals(_child,prev,{loose:!0})?(Transforms.mergeNodes(editor,{at:path.concat(n),voids:!0}),n--):""===prev.text?(Transforms.removeNodes(editor,{at:path.concat(n-1),voids:!0}),n--):""===_child.text&&(Transforms.removeNodes(editor,{at:path.concat(n),voids:!0}),n--))}}})(editor,...args)},removeMark:function removeMark$1(){for(var _len13=arguments.length,args=new Array(_len13),_key13=0;_key13<_len13;_key13++)args[_key13]=arguments[_key13];return removeMark(editor,...args)},getDirtyPaths:function getDirtyPaths$1(){for(var _len14=arguments.length,args=new Array(_len14),_key14=0;_key14<_len14;_key14++)args[_key14]=arguments[_key14];return((editor,op)=>{switch(op.type){case"insert_text":case"remove_text":case"set_node":var{path}=op;return Path.levels(path);case"insert_node":var{node,path:_path}=op,levels=Path.levels(_path),descendants=Text.isText(node)?[]:Array.from(Node.nodes(node),(_ref=>{var[,p]=_ref;return _path.concat(p)}));return[...levels,...descendants];case"merge_node":var{path:_path2}=op;return[...Path.ancestors(_path2),Path.previous(_path2)];case"move_node":var{path:_path3,newPath}=op;if(Path.equals(_path3,newPath))return[];var oldAncestors=[],newAncestors=[];for(var ancestor of Path.ancestors(_path3)){var p=Path.transform(ancestor,op);oldAncestors.push(p)}for(var _ancestor of Path.ancestors(newPath)){var _p=Path.transform(_ancestor,op);newAncestors.push(_p)}var newParent=newAncestors[newAncestors.length-1],newIndex=newPath[newPath.length-1],resultPath=newParent.concat(newIndex);return[...oldAncestors,...newAncestors,resultPath];case"remove_node":var{path:_path4}=op;return[...Path.ancestors(_path4)];case"split_node":var{path:_path5}=op;return[...Path.levels(_path5),Path.next(_path5)];default:return[]}})(editor,...args)},shouldNormalize:function shouldNormalize$1(){for(var _len15=arguments.length,args=new Array(_len15),_key15=0;_key15<_len15;_key15++)args[_key15]=arguments[_key15];return((editor,_ref)=>{var{iteration,initialDirtyPathsLength}=_ref,maxIterations=42*initialDirtyPathsLength;if(iteration>maxIterations)throw new Error("Could not completely normalize the editor after ".concat(maxIterations," iterations! This is usually due to incorrect normalization logic that leaves a node in an invalid state."));return!0})(editor,...args)},above:function above$1(){for(var _len16=arguments.length,args=new Array(_len16),_key16=0;_key16<_len16;_key16++)args[_key16]=arguments[_key16];return function above(editor){var options=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},{voids=!1,mode="lowest",at=editor.selection,match}=options;if(at){var path=Editor.path(editor,at),reverse="lowest"===mode;for(var[n,p]of Editor.levels(editor,{at:path,voids,match,reverse}))if(!Text.isText(n))if(Range.isRange(at)){if(Path.isAncestor(p,at.anchor.path)&&Path.isAncestor(p,at.focus.path))return[n,p]}else if(!Path.equals(path,p))return[n,p]}}(editor,...args)},after:function after$1(){for(var _len17=arguments.length,args=new Array(_len17),_key17=0;_key17<_len17;_key17++)args[_key17]=arguments[_key17];return function after(editor,at){var target,options=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},range={anchor:Editor.point(editor,at,{edge:"end"}),focus:Editor.end(editor,[])},{distance=1}=options,d=0;for(var p of Editor.positions(editor,_objectSpread$7(_objectSpread$7({},options),{},{at:range}))){if(d>distance)break;0!==d&&(target=p),d++}return target}(editor,...args)},before:function before$1(){for(var _len18=arguments.length,args=new Array(_len18),_key18=0;_key18<_len18;_key18++)args[_key18]=arguments[_key18];return function before(editor,at){var target,options=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},range={anchor:Editor.start(editor,[]),focus:Editor.point(editor,at,{edge:"start"})},{distance=1}=options,d=0;for(var p of Editor.positions(editor,_objectSpread$6(_objectSpread$6({},options),{},{at:range,reverse:!0}))){if(d>distance)break;0!==d&&(target=p),d++}return target}(editor,...args)},collapse:function collapse$1(){for(var _len19=arguments.length,args=new Array(_len19),_key19=0;_key19<_len19;_key19++)args[_key19]=arguments[_key19];return function collapse(editor){var options=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},{edge="anchor"}=options,{selection}=editor;if(selection)if("anchor"===edge)Transforms.select(editor,selection.anchor);else if("focus"===edge)Transforms.select(editor,selection.focus);else if("start"===edge){var[start]=Range.edges(selection);Transforms.select(editor,start)}else if("end"===edge){var[,end]=Range.edges(selection);Transforms.select(editor,end)}}(editor,...args)},delete:function _delete(){for(var _len20=arguments.length,args=new Array(_len20),_key20=0;_key20<_len20;_key20++)args[_key20]=arguments[_key20];return function deleteText(editor){var options=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};Editor.withoutNormalizing(editor,(()=>{var _Editor$void,_Editor$void2,{reverse=!1,unit="character",distance=1,voids=!1}=options,{at=editor.selection,hanging=!1}=options;if(at){var isCollapsed=!1;if(Range.isRange(at)&&Range.isCollapsed(at)&&(isCollapsed=!0,at=at.anchor),Point.isPoint(at)){var furthestVoid=Editor.void(editor,{at,mode:"highest"});if(!voids&&furthestVoid){var[,voidPath]=furthestVoid;at=voidPath}else{var opts={unit,distance};at={anchor:at,focus:reverse?Editor.before(editor,at,opts)||Editor.start(editor,[]):Editor.after(editor,at,opts)||Editor.end(editor,[])},hanging=!0}}if(Path.isPath(at))Transforms.removeNodes(editor,{at,voids});else if(!Range.isCollapsed(at)){if(!hanging){var[,_end]=Range.edges(at),endOfDoc=Editor.end(editor,[]);Point.equals(_end,endOfDoc)||(at=Editor.unhangRange(editor,at,{voids}))}var[start,end]=Range.edges(at),startBlock=Editor.above(editor,{match:n=>Element.isElement(n)&&Editor.isBlock(editor,n),at:start,voids}),endBlock=Editor.above(editor,{match:n=>Element.isElement(n)&&Editor.isBlock(editor,n),at:end,voids}),isAcrossBlocks=startBlock&&endBlock&&!Path.equals(startBlock[1],endBlock[1]),isSingleText=Path.equals(start.path,end.path),startNonEditable=voids?null:null!==(_Editor$void=Editor.void(editor,{at:start,mode:"highest"}))&&void 0!==_Editor$void?_Editor$void:Editor.elementReadOnly(editor,{at:start,mode:"highest"}),endNonEditable=voids?null:null!==(_Editor$void2=Editor.void(editor,{at:end,mode:"highest"}))&&void 0!==_Editor$void2?_Editor$void2:Editor.elementReadOnly(editor,{at:end,mode:"highest"});if(startNonEditable){var before=Editor.before(editor,start);before&&startBlock&&Path.isAncestor(startBlock[1],before.path)&&(start=before)}if(endNonEditable){var after=Editor.after(editor,end);after&&endBlock&&Path.isAncestor(endBlock[1],after.path)&&(end=after)}var lastPath,matches=[];for(var entry of Editor.nodes(editor,{at,voids})){var[node,path]=entry;lastPath&&0===Path.compare(path,lastPath)||(!voids&&Element.isElement(node)&&(Editor.isVoid(editor,node)||Editor.isElementReadOnly(editor,node))||!Path.isCommon(path,start.path)&&!Path.isCommon(path,end.path))&&(matches.push(entry),lastPath=path)}var pathRefs=Array.from(matches,(_ref=>{var[,p]=_ref;return Editor.pathRef(editor,p)})),startRef=Editor.pointRef(editor,start),endRef=Editor.pointRef(editor,end),removedText="";if(!isSingleText&&!startNonEditable){var _point=startRef.current,[_node]=Editor.leaf(editor,_point),{path:_path}=_point,{offset}=start,text=_node.text.slice(offset);text.length>0&&(editor.apply({type:"remove_text",path:_path,offset,text}),removedText=text)}if(pathRefs.reverse().map((r=>r.unref())).filter((r=>null!==r)).forEach((p=>Transforms.removeNodes(editor,{at:p,voids}))),!endNonEditable){var _point2=endRef.current,[_node2]=Editor.leaf(editor,_point2),{path:_path2}=_point2,_offset=isSingleText?start.offset:0,_text=_node2.text.slice(_offset,end.offset);_text.length>0&&(editor.apply({type:"remove_text",path:_path2,offset:_offset,text:_text}),removedText=_text)}!isSingleText&&isAcrossBlocks&&endRef.current&&startRef.current&&Transforms.mergeNodes(editor,{at:endRef.current,hanging:!0,voids}),isCollapsed&&reverse&&"character"===unit&&removedText.length>1&&removedText.match(/[\u0E00-\u0E7F]+/)&&Transforms.insertText(editor,removedText.slice(0,removedText.length-distance));var startUnref=startRef.unref(),endUnref=endRef.unref(),point=reverse?startUnref||endUnref:endUnref||startUnref;null==options.at&&point&&Transforms.select(editor,point)}}}))}(editor,...args)},deselect:function deselect$1(){for(var _len21=arguments.length,args=new Array(_len21),_key21=0;_key21<_len21;_key21++)args[_key21]=arguments[_key21];return(editor=>{var{selection}=editor;selection&&editor.apply({type:"set_selection",properties:selection,newProperties:null})})(editor,...args)},edges:function edges$1(){for(var _len22=arguments.length,args=new Array(_len22),_key22=0;_key22<_len22;_key22++)args[_key22]=arguments[_key22];return((editor,at)=>[Editor.start(editor,at),Editor.end(editor,at)])(editor,...args)},elementReadOnly:function elementReadOnly$1(){for(var _len23=arguments.length,args=new Array(_len23),_key23=0;_key23<_len23;_key23++)args[_key23]=arguments[_key23];return function elementReadOnly(editor){var options=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return Editor.above(editor,_objectSpread$5(_objectSpread$5({},options),{},{match:n=>Element.isElement(n)&&Editor.isElementReadOnly(editor,n)}))}(editor,...args)},end:function end$1(){for(var _len24=arguments.length,args=new Array(_len24),_key24=0;_key24<_len24;_key24++)args[_key24]=arguments[_key24];return((editor,at)=>Editor.point(editor,at,{edge:"end"}))(editor,...args)},first:function first$1(){for(var _len25=arguments.length,args=new Array(_len25),_key25=0;_key25<_len25;_key25++)args[_key25]=arguments[_key25];return((editor,at)=>{var path=Editor.path(editor,at,{edge:"start"});return Editor.node(editor,path)})(editor,...args)},fragment:function fragment$1(){for(var _len26=arguments.length,args=new Array(_len26),_key26=0;_key26<_len26;_key26++)args[_key26]=arguments[_key26];return((editor,at)=>{var range=Editor.range(editor,at);return Node.fragment(editor,range)})(editor,...args)},getMarks:function getMarks(){for(var _len27=arguments.length,args=new Array(_len27),_key27=0;_key27<_len27;_key27++)args[_key27]=arguments[_key27];return function marks(editor){var{marks,selection}=editor;if(!selection)return null;if(marks)return marks;if(Range.isExpanded(selection)){var[match]=Editor.nodes(editor,{match:Text.isText});if(match){var[_node]=match;return _objectWithoutProperties(_node,_excluded$1)}return{}}var{anchor}=selection,{path}=anchor,[node]=Editor.leaf(editor,path);if(0===anchor.offset){var prev=Editor.previous(editor,{at:path,match:Text.isText}),markedVoid=Editor.above(editor,{match:n=>Element.isElement(n)&&Editor.isVoid(editor,n)&&editor.markableVoid(n)});if(!markedVoid){var block=Editor.above(editor,{match:n=>Element.isElement(n)&&Editor.isBlock(editor,n)});if(prev&&block){var[prevNode,prevPath]=prev,[,blockPath]=block;Path.isAncestor(blockPath,prevPath)&&(node=prevNode)}}}return _objectWithoutProperties(node,_excluded2$1)}(editor,...args)},hasBlocks:function hasBlocks$1(){for(var _len28=arguments.length,args=new Array(_len28),_key28=0;_key28<_len28;_key28++)args[_key28]=arguments[_key28];return((editor,element)=>element.children.some((n=>Element.isElement(n)&&Editor.isBlock(editor,n))))(editor,...args)},hasInlines:function hasInlines$1(){for(var _len29=arguments.length,args=new Array(_len29),_key29=0;_key29<_len29;_key29++)args[_key29]=arguments[_key29];return((editor,element)=>element.children.some((n=>Text.isText(n)||Editor.isInline(editor,n))))(editor,...args)},hasPath:function hasPath$1(){for(var _len30=arguments.length,args=new Array(_len30),_key30=0;_key30<_len30;_key30++)args[_key30]=arguments[_key30];return((editor,path)=>Node.has(editor,path))(editor,...args)},hasTexts:function hasTexts$1(){for(var _len31=arguments.length,args=new Array(_len31),_key31=0;_key31<_len31;_key31++)args[_key31]=arguments[_key31];return((editor,element)=>element.children.every((n=>Text.isText(n))))(editor,...args)},insertNodes:function insertNodes$1(){for(var _len32=arguments.length,args=new Array(_len32),_key32=0;_key32<_len32;_key32++)args[_key32]=arguments[_key32];return function insertNodes(editor,nodes){var options=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};Editor.withoutNormalizing(editor,(()=>{var{hanging=!1,voids=!1,mode="lowest"}=options,{at,match,select}=options;if(Node.isNode(nodes)&&(nodes=[nodes]),0!==nodes.length){var[node]=nodes;if(at||(at=getDefaultInsertLocation(editor),select=!0),null==select&&(select=!1),Range.isRange(at))if(hanging||(at=Editor.unhangRange(editor,at,{voids})),Range.isCollapsed(at))at=at.anchor;else{var[,end]=Range.edges(at),pointRef=Editor.pointRef(editor,end);Transforms.delete(editor,{at}),at=pointRef.unref()}if(Point.isPoint(at)){null==match&&(match=Text.isText(node)?n=>Text.isText(n):editor.isInline(node)?n=>Text.isText(n)||Editor.isInline(editor,n):n=>Element.isElement(n)&&Editor.isBlock(editor,n));var[entry]=Editor.nodes(editor,{at:at.path,match,mode,voids});if(!entry)return;var[,matchPath]=entry,pathRef=Editor.pathRef(editor,matchPath),isAtEnd=Editor.isEnd(editor,at,matchPath);Transforms.splitNodes(editor,{at,match,mode,voids});var path=pathRef.unref();at=isAtEnd?Path.next(path):path}var parentPath=Path.parent(at),index=at[at.length-1];if(voids||!Editor.void(editor,{at:parentPath})){for(var _node of nodes){var _path=parentPath.concat(index);index++,editor.apply({type:"insert_node",path:_path,node:_node}),at=Path.next(at)}if(at=Path.previous(at),select){var point=Editor.end(editor,at);point&&Transforms.select(editor,point)}}}}))}(editor,...args)},isBlock:function isBlock$1(){for(var _len33=arguments.length,args=new Array(_len33),_key33=0;_key33<_len33;_key33++)args[_key33]=arguments[_key33];return((editor,value)=>!editor.isInline(value))(editor,...args)},isEdge:function isEdge$1(){for(var _len34=arguments.length,args=new Array(_len34),_key34=0;_key34<_len34;_key34++)args[_key34]=arguments[_key34];return((editor,point,at)=>Editor.isStart(editor,point,at)||Editor.isEnd(editor,point,at))(editor,...args)},isEmpty:function isEmpty$1(){for(var _len35=arguments.length,args=new Array(_len35),_key35=0;_key35<_len35;_key35++)args[_key35]=arguments[_key35];return((editor,element)=>{var{children}=element,[first]=children;return 0===children.length||1===children.length&&Text.isText(first)&&""===first.text&&!editor.isVoid(element)})(editor,...args)},isEnd:function isEnd$1(){for(var _len36=arguments.length,args=new Array(_len36),_key36=0;_key36<_len36;_key36++)args[_key36]=arguments[_key36];return((editor,point,at)=>{var end=Editor.end(editor,at);return Point.equals(point,end)})(editor,...args)},isNormalizing:function isNormalizing$1(){for(var _len37=arguments.length,args=new Array(_len37),_key37=0;_key37<_len37;_key37++)args[_key37]=arguments[_key37];return(editor=>{var isNormalizing=NORMALIZING.get(editor);return void 0===isNormalizing||isNormalizing})(editor,...args)},isStart:function isStart$1(){for(var _len38=arguments.length,args=new Array(_len38),_key38=0;_key38<_len38;_key38++)args[_key38]=arguments[_key38];return((editor,point,at)=>{if(0!==point.offset)return!1;var start=Editor.start(editor,at);return Point.equals(point,start)})(editor,...args)},last:function last$1(){for(var _len39=arguments.length,args=new Array(_len39),_key39=0;_key39<_len39;_key39++)args[_key39]=arguments[_key39];return((editor,at)=>{var path=Editor.path(editor,at,{edge:"end"});return Editor.node(editor,path)})(editor,...args)},leaf:function leaf$1(){for(var _len40=arguments.length,args=new Array(_len40),_key40=0;_key40<_len40;_key40++)args[_key40]=arguments[_key40];return function leaf(editor,at){var options=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},path=Editor.path(editor,at,options);return[Node.leaf(editor,path),path]}(editor,...args)},levels:function levels$1(){for(var _len41=arguments.length,args=new Array(_len41),_key41=0;_key41<_len41;_key41++)args[_key41]=arguments[_key41];return function*levels(editor){var options=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},{at=editor.selection,reverse=!1,voids=!1}=options,{match}=options;if(null==match&&(match=()=>!0),at){var levels=[],path=Editor.path(editor,at);for(var[n,p]of Node.levels(editor,path))if(match(n,p)&&(levels.push([n,p]),!voids&&Element.isElement(n)&&Editor.isVoid(editor,n)))break;reverse&&levels.reverse(),yield*levels}}(editor,...args)},liftNodes:function liftNodes$1(){for(var _len42=arguments.length,args=new Array(_len42),_key42=0;_key42<_len42;_key42++)args[_key42]=arguments[_key42];return function liftNodes(editor){var options=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};Editor.withoutNormalizing(editor,(()=>{var{at=editor.selection,mode="lowest",voids=!1}=options,{match}=options;if(null==match&&(match=Path.isPath(at)?matchPath(editor,at):n=>Element.isElement(n)&&Editor.isBlock(editor,n)),at){var matches=Editor.nodes(editor,{at,match,mode,voids}),pathRefs=Array.from(matches,(_ref=>{var[,p]=_ref;return Editor.pathRef(editor,p)}));for(var pathRef of pathRefs){var path=pathRef.unref();if(path.length<2)throw new Error("Cannot lift node at a path [".concat(path,"] because it has a depth of less than `2`."));var parentNodeEntry=Editor.node(editor,Path.parent(path)),[parent,parentPath]=parentNodeEntry,index=path[path.length-1],{length}=parent.children;if(1===length){var toPath=Path.next(parentPath);Transforms.moveNodes(editor,{at:path,to:toPath,voids}),Transforms.removeNodes(editor,{at:parentPath,voids})}else if(0===index)Transforms.moveNodes(editor,{at:path,to:parentPath,voids});else if(index===length-1){var _toPath=Path.next(parentPath);Transforms.moveNodes(editor,{at:path,to:_toPath,voids})}else{var splitPath=Path.next(path),_toPath2=Path.next(parentPath);Transforms.splitNodes(editor,{at:splitPath,voids}),Transforms.moveNodes(editor,{at:path,to:_toPath2,voids})}}}}))}(editor,...args)},mergeNodes:function mergeNodes$1(){for(var _len43=arguments.length,args=new Array(_len43),_key43=0;_key43<_len43;_key43++)args[_key43]=arguments[_key43];return function mergeNodes(editor){var options=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};Editor.withoutNormalizing(editor,(()=>{var{match,at=editor.selection}=options,{hanging=!1,voids=!1,mode="lowest"}=options;if(at){if(null==match)if(Path.isPath(at)){var[parent]=Editor.parent(editor,at);match=n=>parent.children.includes(n)}else match=n=>Element.isElement(n)&&Editor.isBlock(editor,n);if(!hanging&&Range.isRange(at)&&(at=Editor.unhangRange(editor,at,{voids})),Range.isRange(at))if(Range.isCollapsed(at))at=at.anchor;else{var[,end]=Range.edges(at),pointRef=Editor.pointRef(editor,end);Transforms.delete(editor,{at}),at=pointRef.unref(),null==options.at&&Transforms.select(editor,at)}var[current]=Editor.nodes(editor,{at,match,voids,mode}),prev=Editor.previous(editor,{at,match,voids,mode});if(current&&prev){var[node,path]=current,[prevNode,prevPath]=prev;if(0!==path.length&&0!==prevPath.length){var properties,position,newPath=Path.next(prevPath),commonPath=Path.common(path,prevPath),isPreviousSibling=Path.isSibling(path,prevPath),levels=Array.from(Editor.levels(editor,{at:path}),(_ref=>{var[n]=_ref;return n})).slice(commonPath.length).slice(0,-1),emptyAncestor=Editor.above(editor,{at:path,mode:"highest",match:n=>levels.includes(n)&&hasSingleChildNest(editor,n)}),emptyRef=emptyAncestor&&Editor.pathRef(editor,emptyAncestor[1]);if(Text.isText(node)&&Text.isText(prevNode)){var rest=_objectWithoutProperties(node,_excluded);position=prevNode.text.length,properties=rest}else{if(!Element.isElement(node)||!Element.isElement(prevNode))throw new Error("Cannot merge the node at path [".concat(path,"] with the previous sibling because it is not the same kind: ").concat(Scrubber.stringify(node)," ").concat(Scrubber.stringify(prevNode)));rest=_objectWithoutProperties(node,_excluded2),position=prevNode.children.length,properties=rest}isPreviousSibling||Transforms.moveNodes(editor,{at:path,to:newPath,voids}),emptyRef&&Transforms.removeNodes(editor,{at:emptyRef.current,voids}),Element.isElement(prevNode)&&Editor.isEmpty(editor,prevNode)||Text.isText(prevNode)&&""===prevNode.text&&0!==prevPath[prevPath.length-1]?Transforms.removeNodes(editor,{at:prevPath,voids}):editor.apply({type:"merge_node",path:newPath,position,properties}),emptyRef&&emptyRef.unref()}}}}))}(editor,...args)},move:function move$1(){for(var _len44=arguments.length,args=new Array(_len44),_key44=0;_key44<_len44;_key44++)args[_key44]=arguments[_key44];return function move(editor){var options=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},{selection}=editor,{distance=1,unit="character",reverse=!1}=options,{edge=null}=options;if(selection){"start"===edge&&(edge=Range.isBackward(selection)?"focus":"anchor"),"end"===edge&&(edge=Range.isBackward(selection)?"anchor":"focus");var{anchor,focus}=selection,opts={distance,unit,ignoreNonSelectable:!0},props={};if(null==edge||"anchor"===edge){var point=reverse?Editor.before(editor,anchor,opts):Editor.after(editor,anchor,opts);point&&(props.anchor=point)}if(null==edge||"focus"===edge){var _point=reverse?Editor.before(editor,focus,opts):Editor.after(editor,focus,opts);_point&&(props.focus=_point)}Transforms.setSelection(editor,props)}}(editor,...args)},moveNodes:function moveNodes$1(){for(var _len45=arguments.length,args=new Array(_len45),_key45=0;_key45<_len45;_key45++)args[_key45]=arguments[_key45];return((editor,options)=>{Editor.withoutNormalizing(editor,(()=>{var{to,at=editor.selection,mode="lowest",voids=!1}=options,{match}=options;if(at){null==match&&(match=Path.isPath(at)?matchPath(editor,at):n=>Element.isElement(n)&&Editor.isBlock(editor,n));var toRef=Editor.pathRef(editor,to),targets=Editor.nodes(editor,{at,match,mode,voids}),pathRefs=Array.from(targets,(_ref=>{var[,p]=_ref;return Editor.pathRef(editor,p)}));for(var pathRef of pathRefs){var path=pathRef.unref(),newPath=toRef.current;0!==path.length&&editor.apply({type:"move_node",path,newPath}),toRef.current&&Path.isSibling(newPath,path)&&Path.isAfter(newPath,path)&&(toRef.current=Path.next(toRef.current))}toRef.unref()}}))})(editor,...args)},next:function next$1(){for(var _len46=arguments.length,args=new Array(_len46),_key46=0;_key46<_len46;_key46++)args[_key46]=arguments[_key46];return function next(editor){var options=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},{mode="lowest",voids=!1}=options,{match,at=editor.selection}=options;if(at){var pointAfterLocation=Editor.after(editor,at,{voids});if(pointAfterLocation){var[,to]=Editor.last(editor,[]),span=[pointAfterLocation.path,to];if(Path.isPath(at)&&0===at.length)throw new Error("Cannot get the next node from the root node!");if(null==match)if(Path.isPath(at)){var[parent]=Editor.parent(editor,at);match=n=>parent.children.includes(n)}else match=()=>!0;var[next]=Editor.nodes(editor,{at:span,match,mode,voids});return next}}}(editor,...args)},node:function node$1(){for(var _len47=arguments.length,args=new Array(_len47),_key47=0;_key47<_len47;_key47++)args[_key47]=arguments[_key47];return function node(editor,at){var options=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},path=Editor.path(editor,at,options),node=Node.get(editor,path);return[node,path]}(editor,...args)},nodes:function nodes$1(){for(var _len48=arguments.length,args=new Array(_len48),_key48=0;_key48<_len48;_key48++)args[_key48]=arguments[_key48];return function*nodes(editor){var options=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},{at=editor.selection,mode="all",universal=!1,reverse=!1,voids=!1,ignoreNonSelectable=!1}=options,{match}=options;if(match||(match=()=>!0),at){var from,to;if(Span.isSpan(at))from=at[0],to=at[1];else{var first=Editor.path(editor,at,{edge:"start"}),last=Editor.path(editor,at,{edge:"end"});from=reverse?last:first,to=reverse?first:last}var hit,nodeEntries=Node.nodes(editor,{reverse,from,to,pass:_ref=>{var[node]=_ref;return!(!Element.isElement(node)||(voids||!Editor.isVoid(editor,node)&&!Editor.isElementReadOnly(editor,node))&&(!ignoreNonSelectable||Editor.isSelectable(editor,node)))}}),matches=[];for(var[node,path]of nodeEntries)if(!ignoreNonSelectable||!Element.isElement(node)||Editor.isSelectable(editor,node)){var isLower=hit&&0===Path.compare(path,hit[1]);if("highest"!==mode||!isLower)if(match(node,path))if("lowest"===mode&&isLower)hit=[node,path];else{var emit="lowest"===mode?hit:[node,path];emit&&(universal?matches.push(emit):yield emit),hit=[node,path]}else if(universal&&!isLower&&Text.isText(node))return}"lowest"===mode&&hit&&(universal?matches.push(hit):yield hit),universal&&(yield*matches)}}(editor,...args)},normalize:function normalize$1(){for(var _len49=arguments.length,args=new Array(_len49),_key49=0;_key49<_len49;_key49++)args[_key49]=arguments[_key49];return normalize(editor,...args)},parent:function parent$1(){for(var _len50=arguments.length,args=new Array(_len50),_key50=0;_key50<_len50;_key50++)args[_key50]=arguments[_key50];return function parent(editor,at){var options=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},path=Editor.path(editor,at,options),parentPath=Path.parent(path);return Editor.node(editor,parentPath)}(editor,...args)},path:function path$1(){for(var _len51=arguments.length,args=new Array(_len51),_key51=0;_key51<_len51;_key51++)args[_key51]=arguments[_key51];return function path(editor,at){var options=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},{depth,edge}=options;if(Path.isPath(at))if("start"===edge){var[,firstPath]=Node.first(editor,at);at=firstPath}else if("end"===edge){var[,lastPath]=Node.last(editor,at);at=lastPath}return Range.isRange(at)&&(at="start"===edge?Range.start(at):"end"===edge?Range.end(at):Path.common(at.anchor.path,at.focus.path)),Point.isPoint(at)&&(at=at.path),null!=depth&&(at=at.slice(0,depth)),at}(editor,...args)},pathRef:function pathRef$1(){for(var _len52=arguments.length,args=new Array(_len52),_key52=0;_key52<_len52;_key52++)args[_key52]=arguments[_key52];return function pathRef(editor,path){var options=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},{affinity="forward"}=options,ref={current:path,affinity,unref(){var{current}=ref;return Editor.pathRefs(editor).delete(ref),ref.current=null,current}};return Editor.pathRefs(editor).add(ref),ref}(editor,...args)},pathRefs:function pathRefs$1(){for(var _len53=arguments.length,args=new Array(_len53),_key53=0;_key53<_len53;_key53++)args[_key53]=arguments[_key53];return(editor=>{var refs=PATH_REFS.get(editor);return refs||(refs=new Set,PATH_REFS.set(editor,refs)),refs})(editor,...args)},point:function point$1(){for(var _len54=arguments.length,args=new Array(_len54),_key54=0;_key54<_len54;_key54++)args[_key54]=arguments[_key54];return function point(editor,at){var options=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},{edge="start"}=options;if(Path.isPath(at)){var path;if("end"===edge){var[,lastPath]=Node.last(editor,at);path=lastPath}else{var[,firstPath]=Node.first(editor,at);path=firstPath}var node=Node.get(editor,path);if(!Text.isText(node))throw new Error("Cannot get the ".concat(edge," point in the node at path [").concat(at,"] because it has no ").concat(edge," text node."));return{path,offset:"end"===edge?node.text.length:0}}if(Range.isRange(at)){var[start,end]=Range.edges(at);return"start"===edge?start:end}return at}(editor,...args)},pointRef:function pointRef$1(){for(var _len55=arguments.length,args=new Array(_len55),_key55=0;_key55<_len55;_key55++)args[_key55]=arguments[_key55];return function pointRef(editor,point){var options=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},{affinity="forward"}=options,ref={current:point,affinity,unref(){var{current}=ref;return Editor.pointRefs(editor).delete(ref),ref.current=null,current}};return Editor.pointRefs(editor).add(ref),ref}(editor,...args)},pointRefs:function pointRefs$1(){for(var _len56=arguments.length,args=new Array(_len56),_key56=0;_key56<_len56;_key56++)args[_key56]=arguments[_key56];return(editor=>{var refs=POINT_REFS.get(editor);return refs||(refs=new Set,POINT_REFS.set(editor,refs)),refs})(editor,...args)},positions:function positions$1(){for(var _len57=arguments.length,args=new Array(_len57),_key57=0;_key57<_len57;_key57++)args[_key57]=arguments[_key57];return positions(editor,...args)},previous:function previous$1(){for(var _len58=arguments.length,args=new Array(_len58),_key58=0;_key58<_len58;_key58++)args[_key58]=arguments[_key58];return function previous(editor){var options=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},{mode="lowest",voids=!1}=options,{match,at=editor.selection}=options;if(at){var pointBeforeLocation=Editor.before(editor,at,{voids});if(pointBeforeLocation){var[,to]=Editor.first(editor,[]),span=[pointBeforeLocation.path,to];if(Path.isPath(at)&&0===at.length)throw new Error("Cannot get the previous node from the root node!");if(null==match)if(Path.isPath(at)){var[parent]=Editor.parent(editor,at);match=n=>parent.children.includes(n)}else match=()=>!0;var[previous]=Editor.nodes(editor,{reverse:!0,at:span,match,mode,voids});return previous}}}(editor,...args)},range:function range$1(){for(var _len59=arguments.length,args=new Array(_len59),_key59=0;_key59<_len59;_key59++)args[_key59]=arguments[_key59];return((editor,at,to)=>Range.isRange(at)&&!to?at:{anchor:Editor.start(editor,at),focus:Editor.end(editor,to||at)})(editor,...args)},rangeRef:function rangeRef$1(){for(var _len60=arguments.length,args=new Array(_len60),_key60=0;_key60<_len60;_key60++)args[_key60]=arguments[_key60];return function rangeRef(editor,range){var options=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},{affinity="forward"}=options,ref={current:range,affinity,unref(){var{current}=ref;return Editor.rangeRefs(editor).delete(ref),ref.current=null,current}};return Editor.rangeRefs(editor).add(ref),ref}(editor,...args)},rangeRefs:function rangeRefs$1(){for(var _len61=arguments.length,args=new Array(_len61),_key61=0;_key61<_len61;_key61++)args[_key61]=arguments[_key61];return(editor=>{var refs=RANGE_REFS.get(editor);return refs||(refs=new Set,RANGE_REFS.set(editor,refs)),refs})(editor,...args)},removeNodes:function removeNodes$1(){for(var _len62=arguments.length,args=new Array(_len62),_key62=0;_key62<_len62;_key62++)args[_key62]=arguments[_key62];return function removeNodes(editor){var options=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};Editor.withoutNormalizing(editor,(()=>{var{hanging=!1,voids=!1,mode="lowest"}=options,{at=editor.selection,match}=options;if(at){null==match&&(match=Path.isPath(at)?matchPath(editor,at):n=>Element.isElement(n)&&Editor.isBlock(editor,n)),!hanging&&Range.isRange(at)&&(at=Editor.unhangRange(editor,at,{voids}));var depths=Editor.nodes(editor,{at,match,mode,voids}),pathRefs=Array.from(depths,(_ref=>{var[,p]=_ref;return Editor.pathRef(editor,p)}));for(var pathRef of pathRefs){var path=pathRef.unref();if(path){var[node]=Editor.node(editor,path);editor.apply({type:"remove_node",path,node})}}}}))}(editor,...args)},select:function select$1(){for(var _len63=arguments.length,args=new Array(_len63),_key63=0;_key63<_len63;_key63++)args[_key63]=arguments[_key63];return((editor,target)=>{var{selection}=editor;if(target=Editor.range(editor,target),selection)Transforms.setSelection(editor,target);else{if(!Range.isRange(target))throw new Error("When setting the selection and the current selection is `null` you must provide at least an `anchor` and `focus`, but you passed: ".concat(Scrubber.stringify(target)));editor.apply({type:"set_selection",properties:selection,newProperties:target})}})(editor,...args)},setNodes:function setNodes$1(){for(var _len64=arguments.length,args=new Array(_len64),_key64=0;_key64<_len64;_key64++)args[_key64]=arguments[_key64];return function setNodes(editor,props){var options=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};Editor.withoutNormalizing(editor,(()=>{var{match,at=editor.selection,compare,merge}=options,{hanging=!1,mode="lowest",split=!1,voids=!1}=options;if(at){if(null==match&&(match=Path.isPath(at)?matchPath(editor,at):n=>Element.isElement(n)&&Editor.isBlock(editor,n)),!hanging&&Range.isRange(at)&&(at=Editor.unhangRange(editor,at,{voids})),split&&Range.isRange(at)){if(Range.isCollapsed(at)&&Editor.leaf(editor,at.anchor)[0].text.length>0)return;var rangeRef=Editor.rangeRef(editor,at,{affinity:"inward"}),[start,end]=Range.edges(at),splitMode="lowest"===mode?"lowest":"highest",endAtEndOfNode=Editor.isEnd(editor,end,end.path);Transforms.splitNodes(editor,{at:end,match,mode:splitMode,voids,always:!endAtEndOfNode});var startAtStartOfNode=Editor.isStart(editor,start,start.path);Transforms.splitNodes(editor,{at:start,match,mode:splitMode,voids,always:!startAtStartOfNode}),at=rangeRef.unref(),null==options.at&&Transforms.select(editor,at)}for(var[node,path]of(compare||(compare=(prop,nodeProp)=>prop!==nodeProp),Editor.nodes(editor,{at,match,mode,voids}))){var properties={},newProperties={};if(0!==path.length){var hasChanges=!1;for(var k in props)"children"!==k&&"text"!==k&&compare(props[k],node[k])&&(hasChanges=!0,node.hasOwnProperty(k)&&(properties[k]=node[k]),merge?null!=props[k]&&(newProperties[k]=merge(node[k],props[k])):null!=props[k]&&(newProperties[k]=props[k]));hasChanges&&editor.apply({type:"set_node",path,properties,newProperties})}}}}))}(editor,...args)},setNormalizing:function setNormalizing$1(){for(var _len65=arguments.length,args=new Array(_len65),_key65=0;_key65<_len65;_key65++)args[_key65]=arguments[_key65];return((editor,isNormalizing)=>{NORMALIZING.set(editor,isNormalizing)})(editor,...args)},setPoint:function setPoint$1(){for(var _len66=arguments.length,args=new Array(_len66),_key66=0;_key66<_len66;_key66++)args[_key66]=arguments[_key66];return function setPoint(editor,props){var options=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},{selection}=editor,{edge="both"}=options;if(selection){"start"===edge&&(edge=Range.isBackward(selection)?"focus":"anchor"),"end"===edge&&(edge=Range.isBackward(selection)?"anchor":"focus");var{anchor,focus}=selection,point="anchor"===edge?anchor:focus;Transforms.setSelection(editor,{["anchor"===edge?"anchor":"focus"]:_objectSpread$1(_objectSpread$1({},point),props)})}}(editor,...args)},setSelection:function setSelection$1(){for(var _len67=arguments.length,args=new Array(_len67),_key67=0;_key67<_len67;_key67++)args[_key67]=arguments[_key67];return((editor,props)=>{var{selection}=editor,oldProps={},newProps={};if(selection){for(var k in props)("anchor"===k&&null!=props.anchor&&!Point.equals(props.anchor,selection.anchor)||"focus"===k&&null!=props.focus&&!Point.equals(props.focus,selection.focus)||"anchor"!==k&&"focus"!==k&&props[k]!==selection[k])&&(oldProps[k]=selection[k],newProps[k]=props[k]);Object.keys(oldProps).length>0&&editor.apply({type:"set_selection",properties:oldProps,newProperties:newProps})}})(editor,...args)},splitNodes:function splitNodes$1(){for(var _len68=arguments.length,args=new Array(_len68),_key68=0;_key68<_len68;_key68++)args[_key68]=arguments[_key68];return splitNodes(editor,...args)},start:function start$1(){for(var _len69=arguments.length,args=new Array(_len69),_key69=0;_key69<_len69;_key69++)args[_key69]=arguments[_key69];return((editor,at)=>Editor.point(editor,at,{edge:"start"}))(editor,...args)},string:function string$1(){for(var _len70=arguments.length,args=new Array(_len70),_key70=0;_key70<_len70;_key70++)args[_key70]=arguments[_key70];return function string(editor,at){var options=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},{voids=!1}=options,range=Editor.range(editor,at),[start,end]=Range.edges(range),text="";for(var[node,path]of Editor.nodes(editor,{at:range,match:Text.isText,voids})){var t=node.text;Path.equals(path,end.path)&&(t=t.slice(0,end.offset)),Path.equals(path,start.path)&&(t=t.slice(start.offset)),text+=t}return text}(editor,...args)},unhangRange:function unhangRange$1(){for(var _len71=arguments.length,args=new Array(_len71),_key71=0;_key71<_len71;_key71++)args[_key71]=arguments[_key71];return function unhangRange(editor,range){var options=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},{voids=!1}=options,[start,end]=Range.edges(range);if(0!==start.offset||0!==end.offset||Range.isCollapsed(range)||Path.hasPrevious(end.path))return range;var endBlock=Editor.above(editor,{at:end,match:n=>Element.isElement(n)&&Editor.isBlock(editor,n),voids}),blockPath=endBlock?endBlock[1]:[],before={anchor:Editor.start(editor,start),focus:end},skip=!0;for(var[node,path]of Editor.nodes(editor,{at:before,match:Text.isText,reverse:!0,voids}))if(skip)skip=!1;else if(""!==node.text||Path.isBefore(path,blockPath)){end={path,offset:node.text.length};break}return{anchor:start,focus:end}}(editor,...args)},unsetNodes:function unsetNodes$1(){for(var _len72=arguments.length,args=new Array(_len72),_key72=0;_key72<_len72;_key72++)args[_key72]=arguments[_key72];return function unsetNodes(editor,props){var options=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};Array.isArray(props)||(props=[props]);var obj={};for(var key of props)obj[key]=null;Transforms.setNodes(editor,obj,options)}(editor,...args)},unwrapNodes:function unwrapNodes$1(){for(var _len73=arguments.length,args=new Array(_len73),_key73=0;_key73<_len73;_key73++)args[_key73]=arguments[_key73];return function unwrapNodes(editor){var options=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};Editor.withoutNormalizing(editor,(()=>{var{mode="lowest",split=!1,voids=!1}=options,{at=editor.selection,match}=options;if(at){null==match&&(match=Path.isPath(at)?matchPath(editor,at):n=>Element.isElement(n)&&Editor.isBlock(editor,n)),Path.isPath(at)&&(at=Editor.range(editor,at));var rangeRef=Range.isRange(at)?Editor.rangeRef(editor,at):null,matches=Editor.nodes(editor,{at,match,mode,voids}),pathRefs=Array.from(matches,(_ref=>{var[,p]=_ref;return Editor.pathRef(editor,p)})).reverse(),_loop=function _loop(pathRef){var path=pathRef.unref(),[node]=Editor.node(editor,path),range=Editor.range(editor,path);split&&rangeRef&&(range=Range.intersection(rangeRef.current,range)),Transforms.liftNodes(editor,{at:range,match:n=>Element.isAncestor(node)&&node.children.includes(n),voids})};for(var pathRef of pathRefs)_loop(pathRef);rangeRef&&rangeRef.unref()}}))}(editor,...args)},void:function _void(){for(var _len74=arguments.length,args=new Array(_len74),_key74=0;_key74<_len74;_key74++)args[_key74]=arguments[_key74];return function getVoid(editor){var options=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return Editor.above(editor,_objectSpread$4(_objectSpread$4({},options),{},{match:n=>Element.isElement(n)&&Editor.isVoid(editor,n)}))}(editor,...args)},withoutNormalizing:function withoutNormalizing$1(){for(var _len75=arguments.length,args=new Array(_len75),_key75=0;_key75<_len75;_key75++)args[_key75]=arguments[_key75];return((editor,fn)=>{var value=Editor.isNormalizing(editor);Editor.setNormalizing(editor,!1);try{fn()}finally{Editor.setNormalizing(editor,value)}Editor.normalize(editor)})(editor,...args)},wrapNodes:function wrapNodes$1(){for(var _len76=arguments.length,args=new Array(_len76),_key76=0;_key76<_len76;_key76++)args[_key76]=arguments[_key76];return function wrapNodes(editor,element){var options=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};Editor.withoutNormalizing(editor,(()=>{var{mode="lowest",split=!1,voids=!1}=options,{match,at=editor.selection}=options;if(at){if(null==match&&(match=Path.isPath(at)?matchPath(editor,at):editor.isInline(element)?n=>Element.isElement(n)&&Editor.isInline(editor,n)||Text.isText(n):n=>Element.isElement(n)&&Editor.isBlock(editor,n)),split&&Range.isRange(at)){var[start,end]=Range.edges(at),rangeRef=Editor.rangeRef(editor,at,{affinity:"inward"});Transforms.splitNodes(editor,{at:end,match,voids}),Transforms.splitNodes(editor,{at:start,match,voids}),at=rangeRef.unref(),null==options.at&&Transforms.select(editor,at)}var roots=Array.from(Editor.nodes(editor,{at,match:editor.isInline(element)?n=>Element.isElement(n)&&Editor.isBlock(editor,n):n=>Editor.isEditor(n),mode:"lowest",voids}));for(var[,rootPath]of roots){var a=Range.isRange(at)?Range.intersection(at,Editor.range(editor,rootPath)):at;if(a){var matches=Array.from(Editor.nodes(editor,{at:a,match,mode,voids}));if(matches.length>0){var _ret=function(){var[first]=matches,last=matches[matches.length-1],[,firstPath]=first,[,lastPath]=last;if(0===firstPath.length&&0===lastPath.length)return"continue";var commonPath=Path.equals(firstPath,lastPath)?Path.parent(firstPath):Path.common(firstPath,lastPath),range=Editor.range(editor,firstPath,lastPath),commonNodeEntry=Editor.node(editor,commonPath),[commonNode]=commonNodeEntry,depth=commonPath.length+1,wrapperPath=Path.next(lastPath.slice(0,depth)),wrapper=_objectSpread(_objectSpread({},element),{},{children:[]});Transforms.insertNodes(editor,wrapper,{at:wrapperPath,voids}),Transforms.moveNodes(editor,{at:range,match:n=>Element.isAncestor(commonNode)&&commonNode.children.includes(n),to:wrapperPath.concat(0),voids})}();if("continue"===_ret)continue}}}}}))}(editor,...args)}};return editor}},"./node_modules/style-loader/dist/runtime/injectStylesIntoStyleTag.js":module=>{"use strict";var stylesInDOM=[];function getIndexByIdentifier(identifier){for(var result=-1,i=0;i<stylesInDOM.length;i++)if(stylesInDOM[i].identifier===identifier){result=i;break}return result}function modulesToDom(list,options){for(var idCountMap={},identifiers=[],i=0;i<list.length;i++){var item=list[i],id=options.base?item[0]+options.base:item[0],count=idCountMap[id]||0,identifier="".concat(id," ").concat(count);idCountMap[id]=count+1;var indexByIdentifier=getIndexByIdentifier(identifier),obj={css:item[1],media:item[2],sourceMap:item[3],supports:item[4],layer:item[5]};if(-1!==indexByIdentifier)stylesInDOM[indexByIdentifier].references++,stylesInDOM[indexByIdentifier].updater(obj);else{var updater=addElementStyle(obj,options);options.byIndex=i,stylesInDOM.splice(i,0,{identifier,updater,references:1})}identifiers.push(identifier)}return identifiers}function addElementStyle(obj,options){var api=options.domAPI(options);api.update(obj);return function updater(newObj){if(newObj){if(newObj.css===obj.css&&newObj.media===obj.media&&newObj.sourceMap===obj.sourceMap&&newObj.supports===obj.supports&&newObj.layer===obj.layer)return;api.update(obj=newObj)}else api.remove()}}module.exports=function(list,options){var lastIdentifiers=modulesToDom(list=list||[],options=options||{});return function update(newList){newList=newList||[];for(var i=0;i<lastIdentifiers.length;i++){var index=getIndexByIdentifier(lastIdentifiers[i]);stylesInDOM[index].references--}for(var newLastIdentifiers=modulesToDom(newList,options),_i=0;_i<lastIdentifiers.length;_i++){var _index=getIndexByIdentifier(lastIdentifiers[_i]);0===stylesInDOM[_index].references&&(stylesInDOM[_index].updater(),stylesInDOM.splice(_index,1))}lastIdentifiers=newLastIdentifiers}}},"./node_modules/style-loader/dist/runtime/insertBySelector.js":module=>{"use strict";var memo={};module.exports=function insertBySelector(insert,style){var target=function getTarget(target){if(void 0===memo[target]){var styleTarget=document.querySelector(target);if(window.HTMLIFrameElement&&styleTarget instanceof window.HTMLIFrameElement)try{styleTarget=styleTarget.contentDocument.head}catch(e){styleTarget=null}memo[target]=styleTarget}return memo[target]}(insert);if(!target)throw new Error("Couldn't find a style target. This probably means that the value for the 'insert' parameter is invalid.");target.appendChild(style)}},"./node_modules/style-loader/dist/runtime/insertStyleElement.js":module=>{"use strict";module.exports=function insertStyleElement(options){var element=document.createElement("style");return options.setAttributes(element,options.attributes),options.insert(element,options.options),element}},"./node_modules/style-loader/dist/runtime/setAttributesWithoutAttributes.js":(module,__unused_webpack_exports,__webpack_require__)=>{"use strict";module.exports=function setAttributesWithoutAttributes(styleElement){var nonce=__webpack_require__.nc;nonce&&styleElement.setAttribute("nonce",nonce)}},"./node_modules/style-loader/dist/runtime/styleDomAPI.js":module=>{"use strict";module.exports=function domAPI(options){if("undefined"==typeof document)return{update:function update(){},remove:function remove(){}};var styleElement=options.insertStyleElement(options);return{update:function update(obj){!function apply(styleElement,options,obj){var css="";obj.supports&&(css+="@supports (".concat(obj.supports,") {")),obj.media&&(css+="@media ".concat(obj.media," {"));var needLayer=void 0!==obj.layer;needLayer&&(css+="@layer".concat(obj.layer.length>0?" ".concat(obj.layer):""," {")),css+=obj.css,needLayer&&(css+="}"),obj.media&&(css+="}"),obj.supports&&(css+="}");var sourceMap=obj.sourceMap;sourceMap&&"undefined"!=typeof btoa&&(css+="\n/*# sourceMappingURL=data:application/json;base64,".concat(btoa(unescape(encodeURIComponent(JSON.stringify(sourceMap))))," */")),options.styleTagTransform(css,styleElement,options.options)}(styleElement,options,obj)},remove:function remove(){!function removeStyleElement(styleElement){if(null===styleElement.parentNode)return!1;styleElement.parentNode.removeChild(styleElement)}(styleElement)}}}},"./node_modules/style-loader/dist/runtime/styleTagTransform.js":module=>{"use strict";module.exports=function styleTagTransform(css,styleElement){if(styleElement.styleSheet)styleElement.styleSheet.cssText=css;else{for(;styleElement.firstChild;)styleElement.removeChild(styleElement.firstChild);styleElement.appendChild(document.createTextNode(css))}}}}]);