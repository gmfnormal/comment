"use strict";(self.webpackChunkcomment=self.webpackChunkcomment||[]).push([[202],{"./stories/CommentPanel/CommentPanel.stories.js":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.r(__webpack_exports__),__webpack_require__.d(__webpack_exports__,{Default:()=>Default,__namedExportsOrder:()=>__namedExportsOrder,default:()=>CommentPanel_stories});var react=__webpack_require__("./node_modules/react/index.js"),prop_types=__webpack_require__("./node_modules/prop-types/index.js"),prop_types_default=__webpack_require__.n(prop_types),CommentPanel=__webpack_require__("./src/components/CommentPanel/index.tsx"),CommentDTO=(__webpack_require__("./node_modules/@arco-design/web-react/dist/css/arco.css"),__webpack_require__("./src/style/index.css"),__webpack_require__("./src/types/CommentDTO.ts")),__assign=function(){return __assign=Object.assign||function(t){for(var s,i=1,n=arguments.length;i<n;i++)for(var p in s=arguments[i])Object.prototype.hasOwnProperty.call(s,p)&&(t[p]=s[p]);return t},__assign.apply(this,arguments)},__awaiter=function(thisArg,_arguments,P,generator){return new(P||(P=Promise))((function(resolve,reject){function fulfilled(value){try{step(generator.next(value))}catch(e){reject(e)}}function rejected(value){try{step(generator.throw(value))}catch(e){reject(e)}}function step(result){result.done?resolve(result.value):function adopt(value){return value instanceof P?value:new P((function(resolve){resolve(value)}))}(result.value).then(fulfilled,rejected)}step((generator=generator.apply(thisArg,_arguments||[])).next())}))},__generator=function(thisArg,body){var f,y,t,g,_={label:0,sent:function(){if(1&t[0])throw t[1];return t[1]},trys:[],ops:[]};return g={next:verb(0),throw:verb(1),return:verb(2)},"function"==typeof Symbol&&(g[Symbol.iterator]=function(){return this}),g;function verb(n){return function(v){return function step(op){if(f)throw new TypeError("Generator is already executing.");for(;g&&(g=0,op[0]&&(_=0)),_;)try{if(f=1,y&&(t=2&op[0]?y.return:op[0]?y.throw||((t=y.return)&&t.call(y),0):y.next)&&!(t=t.call(y,op[1])).done)return t;switch(y=0,t&&(op=[2&op[0],t.value]),op[0]){case 0:case 1:t=op;break;case 4:return _.label++,{value:op[1],done:!1};case 5:_.label++,y=op[1],op=[0];continue;case 7:op=_.ops.pop(),_.trys.pop();continue;default:if(!(t=_.trys,(t=t.length>0&&t[t.length-1])||6!==op[0]&&2!==op[0])){_=0;continue}if(3===op[0]&&(!t||op[1]>t[0]&&op[1]<t[3])){_.label=op[1];break}if(6===op[0]&&_.label<t[1]){_.label=t[1],t=op;break}if(t&&_.label<t[2]){_.label=t[2],_.ops.push(op);break}t[2]&&_.ops.pop(),_.trys.pop();continue}op=body.call(thisArg,_)}catch(e){op=[6,e],y=0}finally{f=t=0}if(5&op[0])throw op[1];return{value:op[0]?op[1]:void 0,done:!0}}([n,v])}}},__spreadArray=function(to,from,pack){if(pack||2===arguments.length)for(var ar,i=0,l=from.length;i<l;i++)!ar&&i in from||(ar||(ar=Array.prototype.slice.call(from,0,i)),ar[i]=from[i]);return to.concat(ar||Array.prototype.slice.call(from))},REPLY_ITEM={username:"Usr",email:"gmfnormal@gmail.com",identifier:"test",position:"test",panel_id:"test",reply_id:"test",status:CommentDTO.o.Show,content:"",id:"test"},defaultProps={quote:"这是个测试",panelId:"test",position:"test",username:"guomingfei"},CommentPanel_CommentPanel=function(props){var _a=(0,react.useState)(!1),active=_a[0],setActive=_a[1],_b=(0,react.useState)([REPLY_ITEM]),replyList=_b[0],setReplyList=_b[1];return react.createElement(CommentPanel.Z,__assign({replyList,active,onActive:function(){setActive(!0)},onReply:function(_a){var reply_id=_a.reply_id,content=_a.content,username=_a.username;return __awaiter(void 0,void 0,void 0,(function(){var newData;return __generator(this,(function(_b){return newData=__assign(__assign({},REPLY_ITEM),{content,username,reply_id,created_at:parseInt("".concat((new Date).valueOf()/1e3))}),setReplyList(replyList.length<=1&&""===replyList[0].content?[newData]:__spreadArray(__spreadArray([],replyList,!0),[newData],!1)),[2]}))}))}},props))};CommentPanel_CommentPanel.propTypes={username:prop_types_default().string,date:prop_types_default().number,content:prop_types_default().string},CommentPanel_CommentPanel.defaultProps=defaultProps;try{CommentPanel_CommentPanel.displayName="CommentPanel",CommentPanel_CommentPanel.__docgenInfo={description:"",displayName:"CommentPanel",props:{}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["stories/CommentPanel/CommentPanel.tsx#CommentPanel"]={docgenInfo:CommentPanel_CommentPanel.__docgenInfo,name:"CommentPanel",path:"stories/CommentPanel/CommentPanel.tsx#CommentPanel"})}catch(__react_docgen_typescript_loader_error){}const CommentPanel_stories={title:"Example/CommentPanel",component:CommentPanel_CommentPanel,tags:["autodocs"]},Default={args:defaultProps};Default.parameters={...Default.parameters,docs:{...Default.parameters?.docs,source:{originalSource:"{\n  args: defaultProps\n}",...Default.parameters?.docs?.source}}};const __namedExportsOrder=["Default"]},"./node_modules/nanoid/index.browser.js":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{kP:()=>customAlphabet,x0:()=>nanoid});let random=bytes=>crypto.getRandomValues(new Uint8Array(bytes)),customAlphabet=(alphabet,size=21)=>((alphabet,defaultSize,getRandom)=>{let mask=(2<<Math.log(alphabet.length-1)/Math.LN2)-1,step=-~(1.6*mask*defaultSize/alphabet.length);return(size=defaultSize)=>{let id="";for(;;){let bytes=getRandom(step),j=step;for(;j--;)if(id+=alphabet[bytes[j]&mask]||"",id.length===size)return id}}})(alphabet,size,random),nanoid=(size=21)=>crypto.getRandomValues(new Uint8Array(size)).reduce(((id,byte)=>id+=(byte&=63)<36?byte.toString(36):byte<62?(byte-26).toString(36).toUpperCase():byte>62?"-":"_"),"")}}]);